<html>
  <body>
    <button id="btn-fragment">Fragment 사용</button><button id="btn-none-fragment">Fragment 미사용</button>
    <div class="reflow"></div>
    <script>
      document.querySelector('#btn-fragment').addEventListener('click', function () {
        const frag = document.createDocumentFragment();
        const ul = frag.appendChild(document.createElement('ul'));

        for (let i = 1; i <= 10000; i++) {
          li = ul.appendChild(document.createElement('li'));
          li.textContent = `item ${ i }`;
        }

        document.querySelector('.reflow').appendChild(frag);
      })
      document.querySelector('#btn-none-fragment').addEventListener('click', function () {
        document.querySelector('.reflow').appendChild(document.createElement('ul'));

        for (let i = 1; i <= 10000; i++) {
          li = document.querySelector('.reflow ul').appendChild(document.createElement('li'));
          li.textContent = `item ${ i }`;
        }
      })
    </script>
  </body>
</html>