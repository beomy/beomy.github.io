{"componentChunkName":"component---src-templates-post-tsx","path":"/tech/browser/async-defer/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://beomy.github.io"}},"file":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/a061b86ded539904e8b39295bf3695a3/f635c/browser.png","srcSet":"/static/a061b86ded539904e8b39295bf3695a3/a5da5/browser.png 300w,\n/static/a061b86ded539904e8b39295bf3695a3/cadb4/browser.png 750w,\n/static/a061b86ded539904e8b39295bf3695a3/feb73/browser.png 1080w,\n/static/a061b86ded539904e8b39295bf3695a3/6032c/browser.png 1366w,\n/static/a061b86ded539904e8b39295bf3695a3/3d4b2/browser.png 1920w,\n/static/a061b86ded539904e8b39295bf3695a3/f635c/browser.png 2000w","sizes":"(min-width: 2000px) 2000px, 100vw"},"sources":[{"srcSet":"/static/a061b86ded539904e8b39295bf3695a3/29f5b/browser.webp 300w,\n/static/a061b86ded539904e8b39295bf3695a3/11ba1/browser.webp 750w,\n/static/a061b86ded539904e8b39295bf3695a3/089e1/browser.webp 1080w,\n/static/a061b86ded539904e8b39295bf3695a3/ad4fd/browser.webp 1366w,\n/static/a061b86ded539904e8b39295bf3695a3/d8a73/browser.webp 1920w,\n/static/a061b86ded539904e8b39295bf3695a3/a28c0/browser.webp 2000w","type":"image/webp","sizes":"(min-width: 2000px) 2000px, 100vw"}]},"width":2000,"height":1000}}},"markdownRemark":{"html":"<p>자바스크립트는 파서 차단 리소스(parser blocking resource)입니다. 브라우저는 HTML을 파싱 하다가 자바스크립트를 만나면 진행하던 파싱을 중단하고 자바스크립트 리소스를 다운로드해 파싱하고 실행합니다. 자세한 내용은 <a href=\"/tech/browser/browser-rendering/#%EC%B0%B8%EA%B3%A0-javascript%EC%99%80-css\">JavaScript와 CSS</a>를 참고 바랍니다.</p>\n<p>브라우저는 <code class=\"language-text\">&lt;script></code>를 만나면 파싱을 차단하고 리소스를 다운로드하고, 파싱하고, 실행하기 때문에 화면을 렌더링 하는데 그만큼 시간이 소모되어 사용성이 떨어집니다. 이번 포스트에서는 <code class=\"language-text\">&lt;script></code>를 비동기 처리하여 브라우저의 파싱을 차단하지 않는 방법에 대해 이야기할 것입니다.</p>\n<h2 id=\"script-사용\" style=\"position:relative;\"><code class=\"language-text\">&lt;script></code> 사용<a href=\"#script-%EC%82%AC%EC%9A%A9\" aria-label=\"script 사용 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">async</code>와 <code class=\"language-text\">defer</code> 모두 사용하지 않는 기본 모드입니다.</p>\n<p><code class=\"language-text\">&lt;script></code>는 인라인 코드인 경우 파싱 되고 실행되지만 외부 스크립트인 경우 리소스를 다운로드하고, 파싱 되고, 실행됩니다. 브라우저는 스크립트 파일을 다운로드하고 파싱 되고 실행될 때까지 HTML 파싱을 중단합니다.</p>\n<h3 id=\"렌더링-순서\" style=\"position:relative;\">렌더링 순서<a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%88%9C%EC%84%9C\" aria-label=\"렌더링 순서 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><img src=\"/assets/img/posts/browser/script_parsing.png\" alt=\"script 렌더링 순서\"></p>\n<p>위의 그림과 같이 기본적으로는 스크립트를 가져와서 실행이 끝날 때까지 HTML 파싱이 중단되어 화면이 출력되는 시간이 길어집니다.</p>\n<h2 id=\"script--async-사용\" style=\"position:relative;\"><code class=\"language-text\">&lt;script ... async></code> 사용<a href=\"#script--async-%EC%82%AC%EC%9A%A9\" aria-label=\"script  async 사용 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">async</code> 속성은 브라우저에게 스크립트 리소스 다운이 완료되면 파싱을 중단하고 스크립트 파일을 실행하라고 알려주는 역할을 합니다.</p>\n<h3 id=\"렌더링-순서-1\" style=\"position:relative;\">렌더링 순서<a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%88%9C%EC%84%9C-1\" aria-label=\"렌더링 순서 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><img src=\"/assets/img/posts/browser/script_async_parsing.png\" alt=\"script async 렌더링 순서\"></p>\n<p>위의 그림과 같이 <code class=\"language-text\">async</code> 속성을 추가할 경우, 스크립트 리소스를 다운로드하는 동안에는 파싱이 중단되지 않습니다. 다운로드가 완료되면 HTML 파싱을 중단하고 스크립트를 실행합니다.</p>\n<h3 id=\"특징\" style=\"position:relative;\">특징<a href=\"#%ED%8A%B9%EC%A7%95\" aria-label=\"특징 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>스크립트의 실행 순서는 다운로드가 완료된 시점에 결정됩니다. 예를 들어,</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">async</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>b.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">async</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>c.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">async</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>위의 코드와 같이 <code class=\"language-text\">a.js</code>, <code class=\"language-text\">b.js</code>, <code class=\"language-text\">c.js</code> 순서로 정의했다 하더라고, 다운로드가 완료된 시점에 스크립트가 실행되기 때문에 <code class=\"language-text\">a.js</code>, <code class=\"language-text\">b.js</code>, <code class=\"language-text\">c.js</code> 순서로 스크립트가 실행된다는 것을 보장할 수 없습니다. <code class=\"language-text\">a.js</code>를 다운로드하는데 3초, <code class=\"language-text\">b.js</code>를 다운로드하는데 2초, <code class=\"language-text\">c.js</code>를 다운로드하는데 1초가 걸린다면, <code class=\"language-text\">c.js</code>, <code class=\"language-text\">b.js</code>, <code class=\"language-text\">a.js</code> 순서로 스크립트가 실행됩니다.</p>\n<p>정의한 순서로 스크립트를 실행하는 것을 보장하기 위해 HTML5에서 <code class=\"language-text\">async=false</code>가 추가되었습니다. <code class=\"language-text\">async=false</code>로 지정하면 정의 순서대로 스크립트가 실행됩니다. <code class=\"language-text\">async</code>속성의 기본값은 <code class=\"language-text\">true</code>입니다.</p>\n<h3 id=\"지원-브라우저\" style=\"position:relative;\">지원 브라우저<a href=\"#%EC%A7%80%EC%9B%90-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80\" aria-label=\"지원 브라우저 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><img src=\"/assets/img/posts/browser/async_support.png\" alt=\"async 지원 브라우저\"></p>\n<p><a href=\"https://caniuse.com/#search=script%20async\">can i use</a>에서 <code class=\"language-text\">async</code>를 지원하는 브라우저를 확인한 그림입니다. 더 자세한 지원 내용 확인은 링크 확인 부탁드립니다.</p>\n<p>can i use를 통해 지원 브라우저를 살펴보면 크게,</p>\n<ul>\n<li>Chrome: 8 이상부터</li>\n<li>IE: 10 이상부터</li>\n<li>Safari: 5.1 이상부터</li>\n</ul>\n<p>위의 내용과 같이 지원합니다. 거의 모든 브라우저에서 <code class=\"language-text\">async</code> 속성을 지원합니다.</p>\n<h2 id=\"script--defer-사용\" style=\"position:relative;\"><code class=\"language-text\">&lt;script ... defer></code> 사용<a href=\"#script--defer-%EC%82%AC%EC%9A%A9\" aria-label=\"script  defer 사용 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">defer</code> 속성은 브라우저에게 HTML 파싱이 완료되면 스크립트 파일을 실행하라고 알려주는 역할을 합니다.</p>\n<h3 id=\"렌더링-순서-2\" style=\"position:relative;\">렌더링 순서<a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%88%9C%EC%84%9C-2\" aria-label=\"렌더링 순서 2 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><img src=\"/assets/img/posts/browser/script_defer_parsing.png\" alt=\"script defer 렌더링 순서\"></p>\n<p><code class=\"language-text\">defer</code> 속성을 추가할 경우, 위의 그림과 같이 렌더링 합니다. 스크립트 리소스를 다운로드하는 동안에 파싱이 중단되지 않으며, 파싱이 완료된 이후 스크립트가 실행됩니다.</p>\n<h3 id=\"특징-1\" style=\"position:relative;\">특징<a href=\"#%ED%8A%B9%EC%A7%95-1\" aria-label=\"특징 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">async</code> 속성과 <code class=\"language-text\">defer</code> 속성의 렌더링 동작을 비교해 살펴보도록 하겠습니다.</p>\n<h4 id=\"async와-공통점\" style=\"position:relative;\"><code class=\"language-text\">async</code>와 공통점<a href=\"#async%EC%99%80-%EA%B3%B5%ED%86%B5%EC%A0%90\" aria-label=\"async와 공통점 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">async</code>와 <code class=\"language-text\">defer</code> 모두 스크립트 리소스를 다운로드하는 동안에 파싱이 중단되지 않습니다.</p>\n<h4 id=\"async와-차이점\" style=\"position:relative;\"><code class=\"language-text\">async</code>와 차이점<a href=\"#async%EC%99%80-%EC%B0%A8%EC%9D%B4%EC%A0%90\" aria-label=\"async와 차이점 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><code class=\"language-text\">async</code>와 <code class=\"language-text\">defer</code>는 2가지 차이점이 있습니다.</p>\n<ol>\n<li><code class=\"language-text\">async</code>는 스크립트 리소스 다운로드가 완료된 시점에 스크립트가 실행되지만, <code class=\"language-text\">defer</code>는 HTML 파싱 하는 동안에 스크립트 리소스를 다운로드하고 HTML 파싱이 완료되면 스크립트가 실행됩니다.</li>\n<li><code class=\"language-text\">async</code>(default 값인 <code class=\"language-text\">async=true</code>일 경우)는 다운로드가 완료된 시점에 스크립트가 실행되어 스크립트 실행 순서를 보장할 수 없지만, <code class=\"language-text\">defer</code>의 경우 정의된 순서대로 스크립트가 실행됩니다.</li>\n</ol>\n<h3 id=\"지원-브라우저-1\" style=\"position:relative;\">지원 브라우저<a href=\"#%EC%A7%80%EC%9B%90-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-1\" aria-label=\"지원 브라우저 1 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><img src=\"/assets/img/posts/browser/defer_support.png\" alt=\"defer 지원 브라우저\"></p>\n<p><a href=\"https://caniuse.com/#search=script%20defer\">can i use</a>에서 <code class=\"language-text\">defer</code>를 지원하는 브라우저를 확인한 그림입니다. 더 자세한 지원 내용 확인은 링크 확인 부탁드립니다.</p>\n<p>can i use를 통해 지원 브라우저를 살펴보면 크게,</p>\n<ul>\n<li>Chrome: 8 이상부터</li>\n<li>IE: 10 이상부터 (6-9는 부분적으로 지원)</li>\n<li>Safari: 5 이상부터</li>\n</ul>\n<p>위의 내용과 같이 지원합니다. 거의 모든 브라우저에서 <code class=\"language-text\">defer</code> 속성을 지원합니다. <code class=\"language-text\">async</code> 속성보다 <code class=\"language-text\">defer</code> 속성이 더 구형 브라우저까지 지원합니다.</p>\n<h2 id=\"무엇을-사용할-것인가\" style=\"position:relative;\">무엇을 사용할 것인가<a href=\"#%EB%AC%B4%EC%97%87%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%83%EC%9D%B8%EA%B0%80\" aria-label=\"무엇을 사용할 것인가 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>브라우저는 기본적으로 <code class=\"language-text\">&lt;script></code> 태그를 만나면 파싱을 중단하고 스크립트를 다운, 파싱, 실행 과정을 진행합니다. <code class=\"language-text\">&lt;body></code> 태그가 닫히기 바로 직전에 <code class=\"language-text\">&lt;script></code> 태그를 선언하었다면, 이미 거의 모든 HTML 파싱이 종료된 상태이기 때문에, <code class=\"language-text\">async</code> 속성을 사용하든 <code class=\"language-text\">defer</code> 속성을 사용하든 크게 의미가 없게 됩니다.</p>\n<p>이번에는 <code class=\"language-text\">&lt;scirpt></code>가 <code class=\"language-text\">&lt;body></code> 태그가 닫히기 바로 직전에 선언되지 않아 <code class=\"language-text\">async</code> 혹은 <code class=\"language-text\">defer</code> 속성을 사용해야 할 때, 어떤 속성을 사용하는 것이 좋은지 살펴보도록 하겠습니다.</p>\n<h3 id=\"async를-사용해야-할-때\" style=\"position:relative;\"><code class=\"language-text\">async</code>를 사용해야 할 때<a href=\"#async%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%A0-%EB%95%8C\" aria-label=\"async를 사용해야 할 때 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>스크립트 파일에 종속성이 없는 경우 <code class=\"language-text\">async</code> 속성을 사용하는 것이 좋습니다.</p>\n<p><code class=\"language-text\">async</code>는 스크립트 리소스 다운로드가 완료되면 파싱을 중단하고 스크립트가 실행되기 때문에, 어느 시점에 HTML 파싱이 중단될지 보장할 수 없습니다. DOM에 종속성이 없어서  HTML 파싱 중 어느 시점에 스크립트가 실행되든지 상관없을 경우 <code class=\"language-text\">async</code> 속성을 사용하는 것이 좋습니다.</p>\n<p><code class=\"language-text\">async</code>(<code class=\"language-text\">async=true</code>인 경우)는 스크립트 리소스 다운로드가 완료된 순서대로 스크립트가 실행되기 때문에, 여러 스크립트가 정의된 경우 어느 스크립트가 먼저 실행될지 보장할 수 없습니다. 스크립트 파일 간에 종속성이 없어서 어떤 순서로 스크립트가 실행돼도 상관없을 경우 <code class=\"language-text\">async</code> 속성을 사용하는 것이 좋습니다.</p>\n<h3 id=\"defer를-사용해야-할-때\" style=\"position:relative;\"><code class=\"language-text\">defer</code>를 사용해야 할 때<a href=\"#defer%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%A0-%EB%95%8C\" aria-label=\"defer를 사용해야 할 때 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">async</code>과 반대로 종속성이 있는 경우 <code class=\"language-text\">defer</code> 속성을 사용하는 것이 좋습니다.</p>\n<p>DOM과 종속성이 있어서, DOM이 전부 생성되어야 정상적인 동작을 할 수 있는 경우 <code class=\"language-text\">defer</code> 속성을 사용하는 것이 좋습니다.</p>\n<p>스크립트 간에 종속성이 있어서, 스크립트 실행 순서가 항상 <code class=\"language-text\">&lt;script></code> 정의 순서로 실행되어야 하는 경우 <code class=\"language-text\">defer</code> 속성을 사용하는 것이 좋습니다.</p>\n<h2 id=\"부록\" style=\"position:relative;\">부록<a href=\"#%EB%B6%80%EB%A1%9D\" aria-label=\"부록 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"defer-async를-동시-사용하면\" style=\"position:relative;\"><code class=\"language-text\">defer</code>, <code class=\"language-text\">async</code>를 동시 사용하면?<a href=\"#defer-async%EB%A5%BC-%EB%8F%99%EC%8B%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4\" aria-label=\"defer async를 동시 사용하면 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">async</code>와 <code class=\"language-text\">defer</code> 속성이 모두 지정된 경우 <code class=\"language-text\">async</code> 속성을 지원하는 최신 브라우저는 기본적으로 <code class=\"language-text\">async</code> 속성을 따라갑니다. 하지만 <code class=\"language-text\">async</code> 속성을 지원하지 않는 구형 브라우저는 <code class=\"language-text\">defer</code> 속성의 지원 여부에 따라 결정됩니다. <code class=\"language-text\">defer</code> 속성을 지원하는 경우 <code class=\"language-text\">defer</code> 속성에 의해 비동기적으로 스크립트를 실행하지만 <code class=\"language-text\">defer</code> 조자 지원하지 않는 브라우저의 경우에는 동기적으로 스크립트를 실행합니다.</p>\n<h3 id=\"noscript\" style=\"position:relative;\"><code class=\"language-text\">&lt;noscript></code><a href=\"#noscript\" aria-label=\"noscript permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>자바스크립트 실행이 비활성화되어 있거나 자바스크립트 기능이 없는 구형 브라우저(최신 브라우저는 자바스크립트를 지원하지 않는 경우를 찾아볼 수 없습니다)의 경우 <code class=\"language-text\">&lt;noscript></code> 태그 내의 HTML이 파싱 되어 화면에 그려집니다.</p>\n<h5 id=\"참고\" style=\"position:relative;\">참고<a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<ul>\n<li><a href=\"https://blog.asamaru.net/2017/05/04/script-async-defer/\">https://blog.asamaru.net/2017/05/04/script-async-defer/</a></li>\n<li><a href=\"https://appletree.or.kr/blog/web-development/javascript/script-%ED%83%9C%EA%B7%B8%EC%9D%98-async%EC%99%80-defer-%EC%86%8D%EC%84%B1/\">https://appletree.or.kr/blog/web-development/javascript/script-태그의-async와-defer-속성/</a></li>\n<li><a href=\"https://muckycode.blogspot.com/2015/01/javascript-html-script-async-defer.html\">https://muckycode.blogspot.com/2015/01/javascript-html-script-async-defer.html</a></li>\n<li><a href=\"https://realmojo.tistory.com/96\">https://realmojo.tistory.com/96</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#script-%EC%82%AC%EC%9A%A9\"><code class=\"language-text\">&lt;script></code> 사용</a></p>\n<ul>\n<li><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%88%9C%EC%84%9C\">렌더링 순서</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#script--async-%EC%82%AC%EC%9A%A9\"><code class=\"language-text\">&lt;script ... async></code> 사용</a></p>\n<ul>\n<li><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%88%9C%EC%84%9C-1\">렌더링 순서</a></li>\n<li><a href=\"#%ED%8A%B9%EC%A7%95\">특징</a></li>\n<li><a href=\"#%EC%A7%80%EC%9B%90-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80\">지원 브라우저</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#script--defer-%EC%82%AC%EC%9A%A9\"><code class=\"language-text\">&lt;script ... defer></code> 사용</a></p>\n<ul>\n<li><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EC%88%9C%EC%84%9C-2\">렌더링 순서</a></li>\n<li><a href=\"#%ED%8A%B9%EC%A7%95-1\">특징</a></li>\n<li><a href=\"#%EC%A7%80%EC%9B%90-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-1\">지원 브라우저</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AC%B4%EC%97%87%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B2%83%EC%9D%B8%EA%B0%80\">무엇을 사용할 것인가</a></p>\n<ul>\n<li><a href=\"#async%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%A0-%EB%95%8C\"><code class=\"language-text\">async</code>를 사용해야 할 때</a></li>\n<li><a href=\"#defer%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%A0-%EB%95%8C\"><code class=\"language-text\">defer</code>를 사용해야 할 때</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B6%80%EB%A1%9D\">부록</a></p>\n<ul>\n<li><a href=\"#defer-async%EB%A5%BC-%EB%8F%99%EC%8B%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4\"><code class=\"language-text\">defer</code>, <code class=\"language-text\">async</code>를 동시 사용하면?</a></li>\n<li><a href=\"#noscript\"><code class=\"language-text\">&lt;noscript></code></a></li>\n</ul>\n</li>\n</ul>","timeToRead":6,"excerpt":"자바스크립트는 파서 차단 리소스(parser blocking resource)입니다. 브라우저는 HTML…","frontmatter":{"title":"[Browser] async와 defer","thumbnail":"browser/browser.png","summary":"script 태그를 비동기 처리하여 브라우저의 파싱을 차단하지 않는 방법에 대해 이야기할 것입니다."},"fields":{"createdDate":"2019-12-09"}}},"pageContext":{"slug":"/tech/browser/async-defer/","image":"browser/browser.png","next":{"frontmatter":{"title":"[Svelte] Svelte 소개"},"fields":{"slug":"/tech/svelte/introduction-svelte/"}},"previous":{"frontmatter":{"title":"[Browser] Reflow와 Repaint"},"fields":{"slug":"/tech/browser/reflow-repaint/"}}}},"staticQueryHashes":["1817256549","2192852387","3417480192"]}