{"componentChunkName":"component---src-templates-post-tsx","path":"/tech/etc/package-json-scripts/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://beomy.github.io"}},"file":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/0dc7f3bf2574462f526c8f1e6a3fe062/f635c/package_json.png","srcSet":"/static/0dc7f3bf2574462f526c8f1e6a3fe062/a5da5/package_json.png 300w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/cadb4/package_json.png 750w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/feb73/package_json.png 1080w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/6032c/package_json.png 1366w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/3d4b2/package_json.png 1920w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/f635c/package_json.png 2000w","sizes":"(min-width: 2000px) 2000px, 100vw"},"sources":[{"srcSet":"/static/0dc7f3bf2574462f526c8f1e6a3fe062/29f5b/package_json.webp 300w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/11ba1/package_json.webp 750w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/089e1/package_json.webp 1080w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/ad4fd/package_json.webp 1366w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/d8a73/package_json.webp 1920w,\n/static/0dc7f3bf2574462f526c8f1e6a3fe062/a28c0/package_json.webp 2000w","type":"image/webp","sizes":"(min-width: 2000px) 2000px, 100vw"}]},"width":2000,"height":1000}}},"markdownRemark":{"html":"<p><code class=\"language-text\">package.json</code> 파일의 <code class=\"language-text\">scripts</code> 필드는 빌드, 실행 등에 사용되는 명령어를 선언하거나 패키지의 <code class=\"language-text\">install</code>, <code class=\"language-text\">publish</code> 전/후에 실행되는 스크립트 명령어를 선언할 때 사용됩니다.</p>\n<h2 id=\"라이프-사이클-스크립트란\" style=\"position:relative;\">라이프 사이클 스크립트란<a href=\"#%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%9E%80\" aria-label=\"라이프 사이클 스크립트란 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">scripts</code> 필드에는 개발자가 임의로 정의한 스크립트 뿐만 아니라, 정해진 몇가지 스크립트 명령어가 있습니다. 이런 스크립트를 라이프 사이클 스크립트라고 하는데, 패키지의 <code class=\"language-text\">install</code> 혹은 <code class=\"language-text\">publish</code> 명령어가 실행되기 전/후에 호출됩니다.</p>\n<h3 id=\"패키지-매니저-차이\" style=\"position:relative;\">패키지 매니저 차이<a href=\"#%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%A7%A4%EB%8B%88%EC%A0%80-%EC%B0%A8%EC%9D%B4\" aria-label=\"패키지 매니저 차이 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>라이프 사이클 스크립트는 어떤 패키지 매니저(NPM, Yarn)를 사용하느냐에 따라 다르기 때문에 라이프 사이클 스크립트를 사용할 때 사용하는 패키지 매니저가 제공하는 라이프 사이클 스크립트인지 확인이 필요합니다.</p>\n<p>예를 들어, <a href=\"https://typicode.github.io/husky/#/\"><code class=\"language-text\">husky</code></a> 패키지는 설치된 후 <code class=\"language-text\">husky install</code> 이라는 명령어가 실행되어야 하기 때문에 패키지가 설치 된 후 실행되는 라이프 사이클 스크립트를 사용해야 합니다. NPM을 사용하는 경우 <code class=\"language-text\">prepare</code>라는 스크립트를 사용할 수 있지만 Yarn 2+은 <code class=\"language-text\">prepare</code> 스크립트를 지원하지 않기 때문에 <code class=\"language-text\">postinstall</code>이라는 스크립트를 사용해야 합니다.</p>\n<h3 id=\"pre와-post-스크립트\" style=\"position:relative;\">Pre와 Post 스크립트<a href=\"#pre%EC%99%80-post-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"pre와 post 스크립트 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>NPM의 경우 커스텀 스크립트의 경우에도 사전, 사후 스크립트를 지원합니다. <code class=\"language-text\">pre&lt;event></code>, <code class=\"language-text\">post&lt;event></code>와 같이 스크립트 이름으로 작성하여 사용할 수 있습니다. 아래 코드와 같이 <code class=\"language-text\">package.json</code>의 <code class=\"language-text\">scripts</code> 필드를 작성하면,</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prebeomy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo pre beomy script\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"beomy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo beomy script\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"postbeomy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo beomy script\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>아래 그림과 같이 Pre, Post 스크립트가 실행됩니다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">NPM</th>\n<th align=\"center\">Yarn 2+</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><img src=\"/assets/img/posts/etc/pre_post_scripts_npm.png\" alt=\"NPM Pre, Post 스크립트\"></td>\n<td align=\"center\"><img src=\"/assets/img/posts/etc/pre_post_scripts_yarn.png\" alt=\"Yarn 2 Pre, Post 스크립트\"></td>\n</tr>\n</tbody>\n</table>\n<p>Yarn 2+의 경우 위의 그림과 같이 커스텀 스크립트의 Pre, Post 스크립트를 지원하지 않습니다.</p>\n<h2 id=\"라이프-사이클-스크립트-종류\" style=\"position:relative;\">라이프 사이클 스크립트 종류<a href=\"#%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%A2%85%EB%A5%98\" aria-label=\"라이프 사이클 스크립트 종류 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>NPM은 Pre/Post 스크립트 뿐만 아니라, <code class=\"language-text\">prepare</code>, <code class=\"language-text\">prepublish</code>, <code class=\"language-text\">prepublishOnly</code>, <code class=\"language-text\">prepack</code>, <code class=\"language-text\">postpack</code>, <code class=\"language-text\">dependencies</code> 6개의 라이프 사이클 스크립트가 있습니다. 반면에 Yarn 2+는 Pre/Post 스크립트를 지원하지 않고, <code class=\"language-text\">prepack</code>, <code class=\"language-text\">postpack</code>, <code class=\"language-text\">prepublish</code>, <code class=\"language-text\">postintall</code> 4개의 라이프 사이클 스트립트만 존재합니다. 라이프 사이클 스크립트를 하나씩 살펴보도록 하겠습니다.</p>\n<h3 id=\"prepare-npm\" style=\"position:relative;\"><code class=\"language-text\">prepare</code> (NPM)<a href=\"#prepare-npm\" aria-label=\"prepare npm permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">prepare</code> 스크립트는 패키지가 패킹 되기 전에 실행되는 스크립트로 <code class=\"language-text\">npm publish</code>, <code class=\"language-text\">npm pack</code> 의 스크립트가 실행될 때, 로컬에서 파라이터 없이 <code class=\"language-text\">npm install</code> 스크립트가 실행될 때 호출됩니다.</p>\n<h3 id=\"prepublish-deprecated\" style=\"position:relative;\"><code class=\"language-text\">prepublish</code> (DEPRECATED)<a href=\"#prepublish-deprecated\" aria-label=\"prepublish deprecated permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">prepublish</code> 스크립트는 지원 중단 되었습니다. <code class=\"language-text\">npm publish</code> 스크립트가 실행될 때는 호출되지 않고, <code class=\"language-text\">npm ci</code>, <code class=\"language-text\">npm install</code> 스크립트가 실행될 때 호출됩니다.</p>\n<h3 id=\"prepublishonly-npm\" style=\"position:relative;\"><code class=\"language-text\">prepublishOnly</code> (NPM)<a href=\"#prepublishonly-npm\" aria-label=\"prepublishonly npm permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">prepublishOnly</code> 스크립트는 패키지가 준비(prepared), 압축(packed) 되기 전에 실행되는 스크립트로 <code class=\"language-text\">npm publish</code> 스크립트가 실행될 때만 호출됩니다.</p>\n<h3 id=\"prepack-npm-yarn-2\" style=\"position:relative;\"><code class=\"language-text\">prepack</code> (NPM, Yarn 2+)<a href=\"#prepack-npm-yarn-2\" aria-label=\"prepack npm yarn 2 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">prepack</code> 스크립트는 패키자가 압축되기 전에 호출되는 스크립트입니다. <code class=\"language-text\">npm pack</code>, <code class=\"language-text\">npm publish</code> 스크립트가 실행될 때 호출됩니다.</p>\n<h3 id=\"postpack-npm-yarn-2\" style=\"position:relative;\"><code class=\"language-text\">postpack</code> (NPM, Yarn 2+)<a href=\"#postpack-npm-yarn-2\" aria-label=\"postpack npm yarn 2 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">postpack</code> 스크립트는 압축 파일이 생성되고, 최종 목적지(예를 들어 NPM 배포)에 이동하기 전에 호출됩니다.</p>\n<h3 id=\"dependencies-npm\" style=\"position:relative;\"><code class=\"language-text\">dependencies</code> (NPM)<a href=\"#dependencies-npm\" aria-label=\"dependencies npm permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">dependencies</code> 스크립트는 <code class=\"language-text\">node_modules</code> 디렉토리가 수정되었을 때 호출됩니다.</p>\n<h2 id=\"부록\" style=\"position:relative;\">부록<a href=\"#%EB%B6%80%EB%A1%9D\" aria-label=\"부록 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"명령어별-라이프-사이클-실행-순서\" style=\"position:relative;\">명령어별 라이프 사이클 실행 순서<a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4%EB%B3%84-%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4-%EC%8B%A4%ED%96%89-%EC%88%9C%EC%84%9C\" aria-label=\"명령어별 라이프 사이클 실행 순서 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>스크립트 명령어 별로 라이프 사이클이 어떤 순서로 실행되는지 알면 패키지를 개발할 때 많은 도움이 될 수 있습니다. Yarn 2+에서 명령어별 라이프 사이클 실행 순서는 NPM의 명령어별 라이프 사이클 실행 순서에서 <code class=\"language-text\">prepack</code>, <code class=\"language-text\">postpack</code>, <code class=\"language-text\">prepublish</code>, <code class=\"language-text\">postintall</code>이 4개의 스크립트만 호출됩니다.</p>\n<h4 id=\"npm-cache-add\" style=\"position:relative;\"><code class=\"language-text\">npm cache add</code><a href=\"#npm-cache-add\" aria-label=\"npm cache add permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">prepare</code></li>\n</ul>\n<h4 id=\"npm-ci\" style=\"position:relative;\"><code class=\"language-text\">npm ci</code><a href=\"#npm-ci\" aria-label=\"npm ci permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">preinstall</code></li>\n<li><code class=\"language-text\">install</code></li>\n<li><code class=\"language-text\">postinstall</code></li>\n<li><code class=\"language-text\">prepublish</code></li>\n<li><code class=\"language-text\">preprepare</code></li>\n<li><code class=\"language-text\">prepare</code></li>\n<li><code class=\"language-text\">postprepare</code></li>\n</ul>\n<h4 id=\"npm-diff\" style=\"position:relative;\"><code class=\"language-text\">npm diff</code><a href=\"#npm-diff\" aria-label=\"npm diff permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">prepare</code></li>\n</ul>\n<h4 id=\"npm-install\" style=\"position:relative;\"><code class=\"language-text\">npm install</code><a href=\"#npm-install\" aria-label=\"npm install permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">preinstall</code></li>\n<li><code class=\"language-text\">install</code></li>\n<li><code class=\"language-text\">postinstall</code></li>\n<li><code class=\"language-text\">prepublish</code></li>\n<li><code class=\"language-text\">preprepare</code></li>\n<li><code class=\"language-text\">prepare</code></li>\n<li><code class=\"language-text\">postprepare</code></li>\n</ul>\n<p><code class=\"language-text\">npm install -g &lt;pkg-name></code> 명령어로 패키지가 설치될 때도 마찬가지 위 목록의 라이프 사이클 스크립트가 순서대로 호출됩니다.</p>\n<h4 id=\"npm-pack\" style=\"position:relative;\"><code class=\"language-text\">npm pack</code><a href=\"#npm-pack\" aria-label=\"npm pack permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">prepack</code></li>\n<li><code class=\"language-text\">prepare</code></li>\n<li><code class=\"language-text\">postpack</code></li>\n</ul>\n<h4 id=\"npm-publish\" style=\"position:relative;\"><code class=\"language-text\">npm publish</code><a href=\"#npm-publish\" aria-label=\"npm publish permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">prepublishOnly</code></li>\n<li><code class=\"language-text\">prepack</code></li>\n<li><code class=\"language-text\">prepare</code></li>\n<li><code class=\"language-text\">postpack</code></li>\n<li><code class=\"language-text\">publish</code></li>\n<li><code class=\"language-text\">postpublish</code></li>\n</ul>\n<p><code class=\"language-text\">--dry-run</code> 파라미터를 주게되면 <code class=\"language-text\">prepare</code> 스크립트가 호출되지 않습니다.</p>\n<h4 id=\"npm-rebuild\" style=\"position:relative;\"><code class=\"language-text\">npm rebuild</code><a href=\"#npm-rebuild\" aria-label=\"npm rebuild permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">preinstall</code></li>\n<li><code class=\"language-text\">install</code></li>\n<li><code class=\"language-text\">postinstall</code></li>\n<li><code class=\"language-text\">prepare</code></li>\n</ul>\n<p>현재 디렉토리가 심폴릭 링크일 경우에만 <code class=\"language-text\">prepare</code> 스크립트가 호출됩니다.</p>\n<h4 id=\"npm-restart\" style=\"position:relative;\"><code class=\"language-text\">npm restart</code><a href=\"#npm-restart\" aria-label=\"npm restart permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">prerestart</code></li>\n<li><code class=\"language-text\">restart</code></li>\n<li><code class=\"language-text\">postrestart</code></li>\n</ul>\n<p><code class=\"language-text\">restart</code> 스크립트가 정의되어 있다면 위의 목록에 있는 스크립트가 순서대로 호출됩니다. <code class=\"language-text\">restart</code> 스크립트가 정의되어 있지 않다면 <code class=\"language-text\">stop</code>, <code class=\"language-text\">start</code> 스크립트가 순서대로 호출됩니다.</p>\n<h4 id=\"npm-run-user-defined\" style=\"position:relative;\"><code class=\"language-text\">npm run &lt;user defined></code><a href=\"#npm-run-user-defined\" aria-label=\"npm run user defined permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">pre&lt;user-defined></code></li>\n<li><code class=\"language-text\">&lt;user-defined></code></li>\n<li><code class=\"language-text\">post&lt;user-defined></code></li>\n</ul>\n<h4 id=\"npm-start\" style=\"position:relative;\"><code class=\"language-text\">npm start</code><a href=\"#npm-start\" aria-label=\"npm start permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">prestart</code></li>\n<li><code class=\"language-text\">start</code></li>\n<li><code class=\"language-text\">poststart</code></li>\n</ul>\n<h4 id=\"npm-stop\" style=\"position:relative;\"><code class=\"language-text\">npm stop</code><a href=\"#npm-stop\" aria-label=\"npm stop permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">prestop</code></li>\n<li><code class=\"language-text\">stop</code></li>\n<li><code class=\"language-text\">poststop</code></li>\n</ul>\n<h4 id=\"npm-test\" style=\"position:relative;\"><code class=\"language-text\">npm test</code><a href=\"#npm-test\" aria-label=\"npm test permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">pretest</code></li>\n<li><code class=\"language-text\">test</code></li>\n<li><code class=\"language-text\">posttest</code></li>\n</ul>\n<h4 id=\"npm-version\" style=\"position:relative;\"><code class=\"language-text\">npm version</code><a href=\"#npm-version\" aria-label=\"npm version permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<ul>\n<li><code class=\"language-text\">preversion</code></li>\n<li><code class=\"language-text\">version</code></li>\n<li><code class=\"language-text\">postversion</code></li>\n</ul>\n<h5 id=\"참고\" style=\"position:relative;\">참고<a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h5>\n<ul>\n<li><a href=\"https://docs.npmjs.com/cli/v9/using-npm/scripts\">https://docs.npmjs.com/cli/v9/using-npm/scripts</a></li>\n<li><a href=\"https://yarnpkg.com/advanced/lifecycle-scripts\">https://yarnpkg.com/advanced/lifecycle-scripts</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%9E%80\">라이프 사이클 스크립트란</a></p>\n<ul>\n<li><a href=\"#%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%A7%A4%EB%8B%88%EC%A0%80-%EC%B0%A8%EC%9D%B4\">패키지 매니저 차이</a></li>\n<li><a href=\"#pre%EC%99%80-post-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\">Pre와 Post 스크립트</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%A2%85%EB%A5%98\">라이프 사이클 스크립트 종류</a></p>\n<ul>\n<li><a href=\"#prepare-npm\"><code class=\"language-text\">prepare</code> (NPM)</a></li>\n<li><a href=\"#prepublish-deprecated\"><code class=\"language-text\">prepublish</code> (DEPRECATED)</a></li>\n<li><a href=\"#prepublishonly-npm\"><code class=\"language-text\">prepublishOnly</code> (NPM)</a></li>\n<li><a href=\"#prepack-npm-yarn-2\"><code class=\"language-text\">prepack</code> (NPM, Yarn 2+)</a></li>\n<li><a href=\"#postpack-npm-yarn-2\"><code class=\"language-text\">postpack</code> (NPM, Yarn 2+)</a></li>\n<li><a href=\"#dependencies-npm\"><code class=\"language-text\">dependencies</code> (NPM)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B6%80%EB%A1%9D\">부록</a></p>\n<ul>\n<li><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4%EB%B3%84-%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4-%EC%8B%A4%ED%96%89-%EC%88%9C%EC%84%9C\">명령어별 라이프 사이클 실행 순서</a></li>\n</ul>\n</li>\n</ul>","timeToRead":6,"excerpt":"…","frontmatter":{"title":"[ETC] package.json의 scripts","thumbnail":"etc/package_json.png","summary":"package.json 파일의 scripts 필드는 빌드, 실행 등에 사용되는 명령어를 선언하거나 패키지의 install, publish 전/후에 실행되는 스크립트 명령어를 선언할 때 사용됩니다."},"fields":{"createdDate":"2022-12-12"}}},"pageContext":{"slug":"/tech/etc/package-json-scripts/","image":"etc/package_json.png","next":{"frontmatter":{"title":"[ETC] Yarn Berry"},"fields":{"slug":"/tech/etc/yarn-berry/"}},"previous":{"frontmatter":{"title":"[ETC] package.json 톺아보기"},"fields":{"slug":"/tech/etc/package-json/"}}}},"staticQueryHashes":["1817256549","2192852387","3417480192"]}