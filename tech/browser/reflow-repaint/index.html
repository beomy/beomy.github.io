<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.25.7"/><meta data-react-helmet="true" name="description" content="브라우저의 화면이 수정될 때, 렌더링 과정을 최적화 하는 방법에 대해 이야기 할 것입니다."/><meta data-react-helmet="true" name="author" content="beomy"/><meta data-react-helmet="true" property="og:locale" content="ko"/><meta data-react-helmet="true" property="og:url" content="https://beomy.github.io/tech/browser/reflow-repaint/"/><meta data-react-helmet="true" property="og:site_name" content="Beomy"/><meta data-react-helmet="true" property="og:title" content="[Browser] Reflow와 Repaint"/><meta data-react-helmet="true" property="og:description" content="브라우저의 화면이 수정될 때, 렌더링 과정을 최적화 하는 방법에 대해 이야기 할 것입니다."/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:image" content="/static/a061b86ded539904e8b39295bf3695a3/f635c/browser.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="beomy"/><meta data-react-helmet="true" name="twitter:title" content="[Browser] Reflow와 Repaint"/><meta data-react-helmet="true" name="twitter:description" content="브라우저의 화면이 수정될 때, 렌더링 과정을 최적화 하는 방법에 대해 이야기 할 것입니다."/><meta data-react-helmet="true" property="article:published_time" content="2019-12-06T00:00:00+00:00"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="alternate" type="application/rss+xml" title="Beomy RSS Feed" href="/rss.xml"/><title data-react-helmet="true">[Browser] Reflow와 Repaint | Beomy</title><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=964a167d80badc6402455502c767332d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=964a167d80badc6402455502c767332d"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-144478158-1', 'auto', {});
      
      
      
      
      
      }</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MD8G3F353P"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-MD8G3F353P', {"send_page_view":false});
      }
      </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global 1w8smb">body{font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue','Apple SD Gothic Neo','Malgun Gothic','맑은 고딕',나눔고딕,'Nanum Gothic','Noto Sans KR','Noto Sans CJK KR',arial,돋움,Dotum,Tahoma,Geneva,sans-serif;font-size:1rem;color:hsl(0, 0%, 40%);background-color:hsl(0, 0%, 100%);word-break:break-word;margin:0;padding:0;}h1,h2,h3,h4,h5{color:hsl(0, 0%, 0%);}a{color:hsl(212, 100%, 50%);}input{padding:0;margin:0;border:0;background:0;}input:focus-visible{outline:none;}input,button,select,optgroup,textarea{font-size:inherit;font-family:inherit;line-height:inherit;}button{border:none;background:none;margin:0;padding:0;cursor:pointer;}</style><style data-emotion="css 1fnz6am">.css-1fnz6am{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:fixed;z-index:9;top:0;left:0;right:0;box-shadow:rgb(0 0 0 / 8%) 0 0 15px;-webkit-transition:top 0.2s ease-in-out;transition:top 0.2s ease-in-out;}.css-1fnz6am button{color:hsl(0, 0%, 40%);}.css-1fnz6am button:hover{color:hsl(0, 0%, 0%);}</style><header class="css-1fnz6am e1x16fym0"><style data-emotion="css 17m8908">.css-17m8908{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:10px 75px;border-bottom:1px solid hsl(0, 0%, 90%);background-color:hsla(0, 0%, 100%, 0.8);}@media screen and (max-width: 1056px){.css-17m8908{padding:10px 20px;}}</style><nav class="css-17m8908 e1x16fym2"><style data-emotion="css 6ymkmw">.css-6ymkmw{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;}.css-6ymkmw.active,.css-6ymkmw:hover{color:hsl(0, 0%, 0%);}</style><a class="css-6ymkmw emzm9b0" href="/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:90px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;30&#x27; width=&#x27;90&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/54920/beomy-logo.webp 90w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 90px) 90px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 90px) 90px, 100vw" decoding="async" loading="lazy" data-src="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png 90w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로그 로고"/></picture><noscript><picture><source type="image/webp" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/54920/beomy-logo.webp 90w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 90px) 90px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 90px) 90px, 100vw" decoding="async" loading="lazy" src="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png 90w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로 그 로고"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a><style data-emotion="css 1dl8500">.css-1dl8500{margin:0 0 0 auto;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (max-width: 1056px){.css-1dl8500{display:none;}}.css-1dl8500 .emzm9b0{padding:5px 10px;text-transform:capitalize;}</style><style data-emotion="css 9svuyu">.css-9svuyu{margin:0 0 0 auto;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (max-width: 1056px){.css-9svuyu{display:none;}}.css-9svuyu .emzm9b0{padding:5px 10px;text-transform:capitalize;}</style><ul class="e1x16fym5 css-9svuyu e15nj2rp0"><style data-emotion="css 14qmwqf">.css-14qmwqf{list-style:none;margin:0 10px;}</style><li class="css-14qmwqf eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/about/">about</a></li><li class="css-14qmwqf eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech">tech</a></li><li class="css-14qmwqf eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/review">review</a></li><li class="css-14qmwqf eh0tn9j0"><a href="/games" target="_blank" class="css-6ymkmw emzm9b0">games</a></li></ul><style data-emotion="css 1n4jurc">.css-1n4jurc{margin-left:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-1n4jurc button +button{margin-left:10px;}</style><div class="css-1n4jurc e1x16fym3"><style data-emotion="css 1m1n2i1">.css-1m1n2i1{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);}.css-1m1n2i1:hover{background-color:hsl(0, 0%, 90%);color:hsl(0, 0%, 0%);}</style><button aria-label="theme" class="css-1m1n2i1 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg></button><button aria-label="search" class="css-1m1n2i1 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg></button><style data-emotion="css 1dana7o">.css-1dana7o{display:none;}@media screen and (max-width: 1056px){.css-1dana7o{display:block;}}</style><button aria-label="menu" class="css-1dana7o e1x16fym6"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path></svg></button></div></nav><style data-emotion="css u7tm4n">.css-u7tm4n{height:0;background-color:hsla(0, 0%, 98%, 0.8);-webkit-transition:height 0.35s ease-in-out 0s;transition:height 0.35s ease-in-out 0s;visibility:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-u7tm4n .ejegnqc0{margin:auto;height:100%;width:1376px;}@media screen and (max-width: 1440px){.css-u7tm4n .ejegnqc0{width:1024px;}}@media screen and (max-width: 1056px){.css-u7tm4n .ejegnqc0{width:calc(100% - 20px);}}</style><div class="css-u7tm4n e1x16fym1"><style data-emotion="css 1tzge2">.css-1tzge2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%;box-sizing:border-box;}.css-1tzge2 >*{color:hsl(0, 0%, 40%);font-size:20px;}</style><div font-size="20px" class="css-1tzge2 ejegnqc0"><style data-emotion="css fzhqx9">.css-fzhqx9{min-height:36px;height:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><input type="text" placeholder="검색어를 입력해 주세요." font-size="20px" class="css-fzhqx9 ejegnqc2" value=""/><style data-emotion="css 1txfo5x">.css-1txfo5x button +button{margin-left:5px;}</style><div class="css-1txfo5x ejegnqc1"><style data-emotion="css 4fwik7">.css-4fwik7{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);display:none;}.css-4fwik7:hover{background-color:hsl(0, 0%, 90%);color:hsl(0, 0%, 0%);}</style><button display="none" aria-label="clear" class="css-4fwik7 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button><button aria-label="search" class="css-1m1n2i1 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg></button></div></div></div><style data-emotion="css 156ce5u">.css-156ce5u{position:fixed;top:0;right:0;height:100%;z-index:9;margin:0;padding:0;display:none;}.css-156ce5u >*{-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);transition:transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);}.css-156ce5u .e15nj2rp0{padding-left:30px;}.css-156ce5u .emzm9b0{text-transform:capitalize;}@media screen and (max-width: 1056px){.css-156ce5u{display:block;}}</style><menu class="e1x16fym4 css-156ce5u e1uny1v0"><style data-emotion="css 1u3qco2">.css-1u3qco2{background:hsl(0, 0%, 0%);opacity:0;width:100%;height:0;position:absolute;top:0;left:0;-webkit-transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;}</style><div class="css-1u3qco2 e16anfpj0"></div><style data-emotion="css hp6piz">.css-hp6piz{width:285px;height:100%;position:absolute;background:hsl(0, 0%, 100%);-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);right:0;}</style><div class="css-hp6piz e1uny1v2"><style data-emotion="css 11f77qu">.css-11f77qu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:45px;border-bottom:1px solid hsl(0, 0%, 90%);padding-left:20px;}</style><div class="css-11f77qu e1uny1v1"><a class="css-6ymkmw emzm9b0" href="/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:60px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;20&#x27; width=&#x27;60&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/6d827/beomy-logo.webp 60w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 60px) 60px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 60px) 60px, 100vw" decoding="async" loading="lazy" data-src="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png 60w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로그 로고"/></picture><noscript><picture><source type="image/webp" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/6d827/beomy-logo.webp 60w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 60px) 60px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 60px) 60px, 100vw" decoding="async" loading="lazy" src="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png 60w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로그 로고"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a><style data-emotion="css 1fhkxff">.css-1fhkxff{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);margin-right:5px;}.css-1fhkxff:hover{background-color:hsl(0, 0%, 90%);color:hsl(0, 0%, 0%);}</style><button aria-label="close" class="css-1fhkxff e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button></div><ul class="css-13wylk3 e15nj2rp0"><style data-emotion="css hk1l2p">.css-hk1l2p{list-style:none;margin-bottom:30px;}</style><li class="css-hk1l2p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/about">About</a></li><li class="css-hk1l2p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/review/">review<!-- --> <small>(<!-- -->1<!-- -->)</small></a><style data-emotion="css 4qklon">.css-4qklon{margin-top:10px;}</style><ul class="css-4qklon e15nj2rp0"><style data-emotion="css 1fjmd3p">.css-1fjmd3p{list-style:none;margin-bottom:10px;}</style><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/review/book/">book<!-- --> <small>(<!-- -->1<!-- -->)</small></a></li></ul></li><li class="css-hk1l2p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/">tech<!-- --> <small>(<!-- -->60<!-- -->)</small></a><ul class="css-4qklon e15nj2rp0"><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/browser/">browser<!-- --> <small>(<!-- -->7<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/etc/">etc<!-- --> <small>(<!-- -->10<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/javascript/">javascript<!-- --> <small>(<!-- -->4<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/react/">react<!-- --> <small>(<!-- -->8<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/svelte/">svelte<!-- --> <small>(<!-- -->22<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/vuejs/">vuejs<!-- --> <small>(<!-- -->9<!-- -->)</small></a></li></ul></li><style data-emotion="css x70ess">.css-x70ess{list-style:none;}</style><li class="css-x70ess eh0tn9j0"><a href="/games" target="_blank" class="css-6ymkmw emzm9b0">Games</a></li></ul></div></menu></header><style data-emotion="css 19mhadv">.css-19mhadv{padding:70px 0 10px 0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:calc(100% - 20px);line-height:2;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}@media screen and (min-width: 767px){.css-19mhadv{width:calc(100% - 20px);}}@media screen and (min-width: 1056px){.css-19mhadv{width:1024px;}}@media screen and (min-width: 1440px){.css-19mhadv{width:1376px;}}</style><main display="flex" width="screen.xs,screen.xs,screen.sm,screen.m" class="css-19mhadv eh5ow4h0"><style data-emotion="css 107ksbg">.css-107ksbg{width:380px;height:100%;}@media screen and (max-width: 1056px){.css-107ksbg{position:fixed;top:0;right:0;width:0;z-index:10;}.css-107ksbg >*{-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);transition:transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);}}</style><nav class="css-107ksbg e1qho98x1"><style data-emotion="css 1u3qco2">.css-1u3qco2{background:hsl(0, 0%, 0%);opacity:0;width:100%;height:0;position:absolute;top:0;left:0;-webkit-transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;}</style><div class="css-1u3qco2 e16anfpj0"></div><style data-emotion="css 1tqrv0v">.css-1tqrv0v{position:fixed;width:340px;padding:10px;margin-left:40px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;top:70px;height:calc(100% - 70px);}.css-1tqrv0v fieldset +fieldset{margin-top:10px;}.css-1tqrv0v >.e1nnruu30{display:none;}@media screen and (max-width: 1056px){.css-1tqrv0v{top:0;right:0;height:100%;max-width:calc(100% - 60px);margin:0;background-color:hsl(0, 0%, 100%);-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}.css-1tqrv0v >.e1nnruu30{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background-color:hsl(0, 0%, 100%);position:absolute;left:-50px;bottom:20px;-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);transition:transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}}</style><div class="css-1tqrv0v e1qho98x0"><style data-emotion="css 1bp06lr">.css-1bp06lr{margin:0;padding:5px 15px 10px 15px;border-radius:10px;border:1px solid hsl(0, 0%, 70%);background-color:hsl(0, 0%, 100%);}</style><fieldset title="공유하기" class="e1kyy02g1 css-1bp06lr e1j2b8kn1"><style data-emotion="css h3i8mu">.css-h3i8mu{padding:0 5px;font-size:1rem;font-weight:bold;}</style><legend class="css-h3i8mu e1j2b8kn0">공유하기</legend><style data-emotion="css ha9uku">.css-ha9uku{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-ha9uku e1kyy02g0"><style data-emotion="css rojewr">.css-rojewr{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);border:1px solid hsl(0, 0%, 90%);}.css-rojewr:hover{border:1px solid hsl(0, 0%, 70%);color:hsl(0, 0%, 0%);}</style><button aria-label="facebook" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"></path></svg></button><button aria-label="twitter" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"></path></svg></button><button aria-label="linkedin" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></button><button aria-label="line" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 0c4.411 0 8 2.912 8 6.492 0 1.433-.555 2.723-1.715 3.994-1.678 1.932-5.431 4.285-6.285 4.645-.83.35-.734-.197-.696-.413l.003-.018.114-.685c.027-.204.055-.521-.026-.723-.09-.223-.444-.339-.704-.395C2.846 12.39 0 9.701 0 6.492 0 2.912 3.59 0 8 0zM5.022 7.686H3.497V4.918a.156.156 0 0 0-.155-.156H2.78a.156.156 0 0 0-.156.156v3.486c0 .041.017.08.044.107v.001l.002.002.002.002a.154.154 0 0 0 .108.043h2.242c.086 0 .155-.07.155-.156v-.56a.156.156 0 0 0-.155-.157zm.791-2.924h.562c.086 0 .155.07.155.156v3.486c0 .086-.07.155-.155.155h-.562a.156.156 0 0 1-.156-.155V4.918c0-.086.07-.156.156-.156zm3.863 0h.56c.087 0 .157.07.157.156v3.486c0 .086-.07.155-.156.155h-.561a.155.155 0 0 1-.04-.005h-.002a.168.168 0 0 1-.011-.004l-.005-.002-.007-.003a.066.066 0 0 1-.008-.004L9.6 8.54l-.01-.006-.001-.001a.154.154 0 0 1-.04-.039l-1.6-2.16v2.07a.155.155 0 0 1-.155.156h-.561a.156.156 0 0 1-.156-.155V4.918c0-.086.07-.156.156-.156H7.8l.005.001h.006l.003.001h.006l.01.003h.002l.002.001.01.003.005.002a.09.09 0 0 1 .009.004l.003.001.002.001a.113.113 0 0 1 .013.008l.003.002.005.003v.001c.002 0 .003.002.004.003a.092.092 0 0 1 .008.006l.003.003a.17.17 0 0 1 .023.026L9.52 6.99V4.918c0-.086.07-.156.156-.156zm3.815.717c0 .086-.07.156-.155.156H11.81v.59h1.525c.086 0 .155.07.155.155v.561c0 .086-.07.156-.155.156H11.81v.59h1.525c.086 0 .155.07.155.155v.561c0 .086-.07.156-.155.156h-2.242a.155.155 0 0 1-.11-.045l-.002-.003a.155.155 0 0 1-.044-.107V4.918c0-.042.017-.08.043-.107l.003-.003.001-.001a.155.155 0 0 1 .109-.045h2.242c.086 0 .155.07.155.156v.561z"></path></svg></button><button aria-label="link" class="css-rojewr e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z"></path></svg></button></div></fieldset><style data-emotion="css h6yjyb">.css-h6yjyb{max-height:100%;overflow:auto;}</style><style data-emotion="css 3u1z2c">.css-3u1z2c{margin:0;padding:5px 15px 10px 15px;border-radius:10px;border:1px solid hsl(0, 0%, 70%);background-color:hsl(0, 0%, 100%);max-height:100%;overflow:auto;}</style><fieldset title="목차" class="e1oosfhr1 css-3u1z2c e1j2b8kn1"><legend class="css-h3i8mu e1j2b8kn0">목차</legend><style data-emotion="css 4z857k">.css-4z857k{font-size:0.875rem;}.css-4z857k a{color:hsl(0, 0%, 50%);-webkit-text-decoration:none;text-decoration:none;}.css-4z857k a:hover{color:hsl(0, 0%, 0%);}.css-4z857k .active{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}.css-4z857k .active a{color:hsl(0, 0%, 0%);}.css-4z857k li{list-style:none;}.css-4z857k p{margin:0;}.css-4z857k >ul{margin:0;padding:0;}.css-4z857k >ul >li >ul{padding-left:15px;}</style><nav class="css-4z857k e1oosfhr0"><ul>
<li>
<p><a href="#repaintredraw-%EB%9E%80">Repaint(Redraw) 란?</a></p>
</li>
<li>
<p><a href="#reflowlayout-%EB%9E%80">Reflow(Layout) 란?</a></p>
<ul>
<li><a href="#reflow%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0">Reflow가 발생하는 경우</a></li>
</ul>
</li>
<li>
<p><a href="#reflow-%EC%B5%9C%EC%A0%81%ED%99%94">Reflow 최적화</a></p>
<ul>
<li><a href="#1-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%A0-%EA%B2%BD%EC%9A%B0-%EA%B0%80%EC%9E%A5-%ED%95%98%EC%9C%84-%EB%85%B8%EB%93%9C%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%EB%B3%80%EA%B2%BD%ED%95%9C%EB%8B%A4">1. 스타일을 변경할 경우 가장 하위 노드의 클래스를 변경한다.</a></li>
<li><a href="#2-%EC%9D%B8%EB%9D%BC%EC%9D%B8-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4">2. 인라인 스타일을 사용하지 않는다.</a></li>
<li><a href="#3-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%85%B8%EB%93%9C%EB%8A%94-position%EC%9D%84-fixed-%EB%98%90%EB%8A%94-absolute%EB%A1%9C-%EC%A7%80%EC%A0%95%ED%95%9C%EB%8B%A4">3. 애니메이션이 있는 노드는 <code class="language-text">position</code>을 <code class="language-text">fixed</code> 또는 <code class="language-text">absolute</code>로 지정한다.</a></li>
<li><a href="#4-%ED%80%84%EB%A6%AC%ED%8B%B0-%ED%8D%BC%ED%8F%AC%EB%A8%BC%EC%8A%A4%EC%9D%98-%ED%83%80%ED%98%91%EC%A0%90%EC%9D%84-%EC%B0%BE%EB%8A%94%EB%8B%A4">4. 퀄리티, 퍼포먼스의 타협점을 찾는다.</a></li>
<li><a href="#5-table-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83%EC%9D%84-%ED%94%BC%ED%95%9C%EB%8B%A4">5. <code class="language-text">&lt;table></code> 레이아웃을 피한다.</a></li>
<li><a href="#6-ie%EC%9D%98-css-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4">6. IE의 CSS 표현식을 사용하지 않는다.</a></li>
<li><a href="#7-css-%ED%95%98%EC%9C%84-%EC%84%A0%ED%83%9D%EC%9E%90%EB%A5%BC-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4">7. CSS 하위 선택자를 최소화한다.</a></li>
<li><a href="#8-%EC%88%A8%EA%B2%A8%EC%A7%84-%EB%85%B8%EB%93%9C%EC%9D%98-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%9C%EB%8B%A4">8. 숨겨진 노드의 스타일을 변경한다.</a></li>
<li><a href="#9-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%ED%98%B9%EC%9D%80-csstext-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%9C%EB%8B%A4">9. 클래스를 혹은 <code class="language-text">cssText</code> 사용하여 한 번에 스타일을 변경한다.</a></li>
<li><a href="#10-dom-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4">10. DOM 사용을 최소화한다.</a></li>
<li><a href="#11-%EC%BA%90%EC%8B%9C%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C%EB%8B%A4">11. 캐시를 활용한다.</a></li>
<li><a href="#%EA%B3%A0%EC%B0%B0">고찰</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%9A%94%EC%95%BD">요약</a></p>
</li>
</ul></nav></fieldset><button aria-label="toc" class="css-rojewr e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"></path></svg></button></div></nav><style data-emotion="css 9r1qy5">.css-9r1qy5{width:calc(100% - 380px);}@media screen and (max-width: 1056px){.css-9r1qy5{width:100%;}}</style><article class="css-9r1qy5 e1qho98x2"><style data-emotion="css sh0wug">.css-sh0wug{line-height:1.5;}.css-sh0wug >div{margin-bottom:30px;}.css-sh0wug .e1lweznj0{color:hsl(0, 0%, 50%);font-size:0.875rem;}</style><div class="css-sh0wug evkig9s0"><style data-emotion="css aa0k2j">.css-aa0k2j{margin:0;font-size:3rem;}</style><h1 font-size="7" class="css-aa0k2j e1vfif620">[Browser] Reflow와 Repaint</h1><div><style data-emotion="css ds0ngy">.css-ds0ngy{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;margin-right:20px;}.css-ds0ngy >svg{margin-right:5px;}</style><span class="css-ds0ngy e1lweznj0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"></path></svg><span>2019년 12월 06일</span></span><style data-emotion="css hhxzgh">.css-hhxzgh{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;}.css-hhxzgh >svg{margin-right:5px;}</style><span class="css-hhxzgh e1lweznj0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"></path></svg><span>20<!-- -->분 소요</span></span></div><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2000px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1000&#x27; width=&#x27;2000&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/a061b86ded539904e8b39295bf3695a3/29f5b/browser.webp 300w,/static/a061b86ded539904e8b39295bf3695a3/11ba1/browser.webp 750w,/static/a061b86ded539904e8b39295bf3695a3/089e1/browser.webp 1080w,/static/a061b86ded539904e8b39295bf3695a3/ad4fd/browser.webp 1366w,/static/a061b86ded539904e8b39295bf3695a3/d8a73/browser.webp 1920w,/static/a061b86ded539904e8b39295bf3695a3/a28c0/browser.webp 2000w" sizes="(min-width: 2000px) 2000px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2000px) 2000px, 100vw" decoding="async" loading="lazy" data-src="/static/a061b86ded539904e8b39295bf3695a3/f635c/browser.png" data-srcset="/static/a061b86ded539904e8b39295bf3695a3/a5da5/browser.png 300w,/static/a061b86ded539904e8b39295bf3695a3/cadb4/browser.png 750w,/static/a061b86ded539904e8b39295bf3695a3/feb73/browser.png 1080w,/static/a061b86ded539904e8b39295bf3695a3/6032c/browser.png 1366w,/static/a061b86ded539904e8b39295bf3695a3/3d4b2/browser.png 1920w,/static/a061b86ded539904e8b39295bf3695a3/f635c/browser.png 2000w" alt="포스트 배너"/></picture><noscript><picture><source type="image/webp" srcSet="/static/a061b86ded539904e8b39295bf3695a3/29f5b/browser.webp 300w,/static/a061b86ded539904e8b39295bf3695a3/11ba1/browser.webp 750w,/static/a061b86ded539904e8b39295bf3695a3/089e1/browser.webp 1080w,/static/a061b86ded539904e8b39295bf3695a3/ad4fd/browser.webp 1366w,/static/a061b86ded539904e8b39295bf3695a3/d8a73/browser.webp 1920w,/static/a061b86ded539904e8b39295bf3695a3/a28c0/browser.webp 2000w" sizes="(min-width: 2000px) 2000px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2000px) 2000px, 100vw" decoding="async" loading="lazy" src="/static/a061b86ded539904e8b39295bf3695a3/f635c/browser.png" srcSet="/static/a061b86ded539904e8b39295bf3695a3/a5da5/browser.png 300w,/static/a061b86ded539904e8b39295bf3695a3/cadb4/browser.png 750w,/static/a061b86ded539904e8b39295bf3695a3/feb73/browser.png 1080w,/static/a061b86ded539904e8b39295bf3695a3/6032c/browser.png 1366w,/static/a061b86ded539904e8b39295bf3695a3/3d4b2/browser.png 1920w,/static/a061b86ded539904e8b39295bf3695a3/f635c/browser.png 2000w" alt="포스트 배너"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></div><style data-emotion="css y72cav">.css-y72cav img{display:block;max-width:100%;height:auto;width:auto;margin:0 auto;border-radius:10px;background-color:hsl(0, 0%, 100%);}.css-y72cav pre{border-radius:10px;}.css-y72cav:not(pre) code[class*='language-']{word-break:break-word;}.css-y72cav code .token{background:transparent;}.css-y72cav table{display:table;table-layout:fixed;width:100%;overflow-x:auto;border-collapse:collapse;border-spacing:0;border:1px solid hsl(0, 0%, 90%);border-radius:4px;}.css-y72cav table tr{vertical-align:top;}.css-y72cav table tr th,.css-y72cav table tr td{padding:6px 13px;border:1px solid hsl(0, 0%, 90%);}.css-y72cav h1,.css-y72cav h2,.css-y72cav h3,.css-y72cav h4,.css-y72cav h5{margin:2.5rem 0 1rem 0;line-height:1.5;}.css-y72cav h1 +h1,.css-y72cav h2 +h1,.css-y72cav h3 +h1,.css-y72cav h4 +h1,.css-y72cav h5 +h1,.css-y72cav h1 +h2,.css-y72cav h2 +h2,.css-y72cav h3 +h2,.css-y72cav h4 +h2,.css-y72cav h5 +h2,.css-y72cav h1 +h3,.css-y72cav h2 +h3,.css-y72cav h3 +h3,.css-y72cav h4 +h3,.css-y72cav h5 +h3,.css-y72cav h1 +h4,.css-y72cav h2 +h4,.css-y72cav h3 +h4,.css-y72cav h4 +h4,.css-y72cav h5 +h4,.css-y72cav h1 +h5,.css-y72cav h2 +h5,.css-y72cav h3 +h5,.css-y72cav h4 +h5,.css-y72cav h5 +h5{margin-top:1rem;}.css-y72cav h1{font-size:2.5rem;}.css-y72cav h2{font-size:2rem;}.css-y72cav h3{font-size:1.5rem;}.css-y72cav h4{font-size:1.25rem;}.css-y72cav h5{font-size:1rem;}.css-y72cav blockquote{margin:2rem 0;border:1px solid hsl(0, 0%, 90%);border-left:4px solid hsl(0, 0%, 50%);background:hsl(0, 0%, 98%);border-radius:4px;padding:1rem 1rem 1rem 2rem;}.css-y72cav blockquote h1,.css-y72cav blockquote h2,.css-y72cav blockquote h3,.css-y72cav blockquote h4,.css-y72cav blockquote h5{line-height:2;margin:1rem 0;}.css-y72cav blockquote h1:first-child,.css-y72cav blockquote h2:first-child,.css-y72cav blockquote h3:first-child,.css-y72cav blockquote h4:first-child,.css-y72cav blockquote h5:first-child{margin-top:0;}.css-y72cav blockquote p:first-child{margin-top:0;}.css-y72cav blockquote p:last-child{margin-bottom:0;}.css-y72cav p{margin:1rem 0;}.css-y72cav p >img{margin:2rem auto;}.css-y72cav ul{margin:0;}.css-y72cav #참고{margin-top:50px;margin-bottom:0;}.css-y72cav #참고 +ul{line-height:1.5;}.css-y72cav [data-language]{position:relative;}.css-y72cav [data-language]:before{position:absolute;top:0;right:0;padding:0 10px;font-size:0.75rem;}.css-y72cav [data-language='http']:before{content:'HTTP';}.css-y72cav [data-language='html']:before{content:'HTML';}.css-y72cav [data-language='js']:before{content:'JS';}.css-y72cav [data-language='jsx']:before{content:'JSX';}.css-y72cav [data-language='ts']:before{content:'TS';}.css-y72cav [data-language='tsx']:before{content:'TSX';}.css-y72cav [data-language='bash']:before{content:'BASH';}.css-y72cav [data-language='scss']:before{content:'SCSS';}.css-y72cav [data-language='json']:before{content:'JSON';}.css-y72cav [data-language='css']:before{content:'CSS';}</style><div class="css-y72cav egcbvbd0"><p>이번 포스트에서는 화면이 수정될 때, 렌더링 과정을 최적화하는 방법에 대해 이야기할 것입니다. 화면을 다시 그리는 과정은 크게 Reflow(Layout이라고도 함)와 Repaint(Redraw라고도 함) 두 개로 나눌 수 있습니다.</p>
<h2 id="repaintredraw-란" style="position:relative;">Repaint(Redraw) 란?<a href="#repaintredraw-%EB%9E%80" aria-label="repaintredraw 란 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>Repaint는 화면에 변화가 있을 때 화면을 그리는 과정입니다.</p>
<p>화면의 구조가 변경되었을 때에는 Reflow 과정을 거쳐 화면 구조를 다시 계산한 후 Repaint 과정을 통해 화면을 다시 그립니다. 즉 화면의 구조가 변경되었을 때에는 Reflow와 Repaint 모두 발생합니다.</p>
<p>화면의 구조가 변경되지 않는 화면 변화의 경우 Repaint만 발생합니다. 예를 들면 <code class="language-text">opacity</code>, <code class="language-text">background-color</code>, <code class="language-text">visibility</code>, <code class="language-text">outline</code> 등의 스타일 변경 시에는 Repaint만 동작합니다. Repaint가 발생하는 예제를 살펴보겠습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">.repaint</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
        <span class="token property">transition-duration</span><span class="token punctuation">:</span> 2s<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.repaint:hover</span> <span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>repaint<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="/assets/img/posts/browser/repaint.png" alt="Repaint 예시 그림"></p>
<p>위의 코드를 크롬 개발자 도구의 Performance에서 체크한 그림입니다. 위의 그림을 보면 Paint가 주기적으로 발생하는 것을 볼 수 있습니다. <a href="/assets/example/browser/reflow-repaint/repaint.html">repaint.html</a>에서 위의 코드 예제를 확인할 수 있습니다.</p>
<h2 id="reflowlayout-란" style="position:relative;">Reflow(Layout) 란?<a href="#reflowlayout-%EB%9E%80" aria-label="reflowlayout 란 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>Reflow는 화면 구조(Layout)이 변경되었을 때, 뷰포트 내에서 렌더 트리의 노드의 정확한 위치와 크기를 계산하는 과정을 Reflow(혹은 Layout)이라고 합니다. (<a href="/tech/browser/browser-rendering/#%EB%A0%8C%EB%8D%94-%ED%8A%B8%EB%A6%AC-%EA%B5%AC%EC%B6%95">렌더 트리</a>와 <a href="/tech/browser/browser-rendering/#layout">Layout</a>을 참고 바랍니다.) Reflow가 발생하는 예제를 살펴보겠습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">.reflow</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
        <span class="token property">transition-duration</span><span class="token punctuation">:</span> 2s<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.reflow:hover</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="/assets/img/posts/browser/reflow.png" alt="Reflow 예시 그림"></p>
<p>위의 코드를 크롬 개발자 도구의 Performance에서 체크한 그림입니다. 위의 그림을 보면 Repaint와 Layout이 반복적으로 발생하는 것을 볼 수 있습니다. <a href="/assets/example/browser/reflow-repaint/reflow.html">reflow.html</a>에서 위의 코드 예제를 확인할 수 있습니다.</p>
<h3 id="reflow가-발생하는-경우" style="position:relative;">Reflow가 발생하는 경우<a href="#reflow%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0" aria-label="reflow가 발생하는 경우 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<ul>
<li>DOM 노드의 추가, 제거</li>
<li>DOM 노드의 위치 변경</li>
<li>DOM 노드의 크기 변경(margin, padding, border, width, height 등..)</li>
<li>CSS3 애니메이션과 트랜지션</li>
<li>폰트 변경, 텍스트 내용 변경</li>
<li>이미지 크기 변경</li>
<li>offset, scrollTop, scrollLeft과 같은 계산된 스타일 정보 요청</li>
<li>페이지 초기 렌더링</li>
<li>윈도우 리사이징</li>
</ul>
<p>위의 내용에서 빠졌더라도 화면의 구조가 변경되었다면 Reflow가 발생한다고 이해하면 됩니다.</p>
<h2 id="reflow-최적화" style="position:relative;">Reflow 최적화<a href="#reflow-%EC%B5%9C%EC%A0%81%ED%99%94" aria-label="reflow 최적화 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>Repaint는 변경된 화면을 실제 화면에 반영하는 과정으로 최적화할 수 있는 방법은 화면 변화를 최소화할 수 있는 방법밖에 없습니다. 하지만 Reflow는 렌더 트리의 변화를 최소화하는 등.. Reflow를 최적화할 수 있는 방법이 몇 가지 있습니다. 지금부터는 Reflow를 최적화할 수 있는 11가지 방법을 이야기하도록 하겠습니다.</p>
<h3 id="1-스타일을-변경할-경우-가장-하위-노드의-클래스를-변경한다" style="position:relative;">1. 스타일을 변경할 경우 가장 하위 노드의 클래스를 변경한다.<a href="#1-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%A0-%EA%B2%BD%EC%9A%B0-%EA%B0%80%EC%9E%A5-%ED%95%98%EC%9C%84-%EB%85%B8%EB%93%9C%EC%9D%98-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%EB%B3%80%EA%B2%BD%ED%95%9C%EB%8B%A4" aria-label="1 스타일을 변경할 경우 가장 하위 노드의 클래스를 변경한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>DOM 노드의 크기 또는 위치가 변경되면 하위 노드와 상위 노드까지 영향을 미칠 수 있습니다.</p>
<p>가장 하위 노드의 스타일을 변경할 경우, 전체 노드가 아닌 일부 노드로 reflow를 영향을 최소화할 수 있습니다. 하지만 실무에서는 보통 변경해야 할 노드들이 정해져 있기 때문에 적용 범위가 크지 않을 수 있습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">.reflow</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
        <span class="token property">transition-duration</span><span class="token punctuation">:</span> 2s<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.reflow div</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        ...
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'200px'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="/assets/img/posts/browser/reflow_1-1.png" alt="최상위 노드에서 reflow 발생 시"></p>
<p>위의 그림은 위의 코드(최상위 노드에서 reflow가 발생할 경우)를 Performance 체크한 그림입니다. Layout에 148.3ms 시간이 소요된 것을 볼 수 있습니다. <a href="/assets/example/browser/reflow-repaint/reflow_1-1.html">reflow_1-1.html</a>에서 예제를 확인할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">.reflow</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
        <span class="token property">transition-duration</span><span class="token punctuation">:</span> 2s<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.reflow div</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        ...
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'200px'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="/assets/img/posts/browser/reflow_1-2.png" alt="최하위 노드에서 reflow 발생 시"></p>
<p>위의 그림은 위의 코드(최하위 노드에서 reflow가 발생할 경우)를 Performance 체크한 그림입니다. Layout에 87.8ms 시간이 소요된 것을 볼 수 있습니다. <a href="/assets/example/browser/reflow-repaint/reflow_1-2.html">reflow_1-2.html</a>에서 예제를 확인할 수 있습니다.</p>
<p>최상위 노드에서 reflow가 발생할 경우는 148.3ms, 최하위 노드에서 reflow가 발생할 경우는 87.8ms로 최하위 노드에서 reflow가 발생할 경우 더 적은 reflow 시간이 소모되는 것을 확인할 수 있습니다.</p>
<h3 id="2-인라인-스타일을-사용하지-않는다" style="position:relative;">2. 인라인 스타일을 사용하지 않는다.<a href="#2-%EC%9D%B8%EB%9D%BC%EC%9D%B8-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4" aria-label="2 인라인 스타일을 사용하지 않는다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>인라인 스타일은 HTML이 파싱 될 때, 레이아웃에 영향을 미쳐 추가 리플로우를 발생시킵니다. 또한 관심사 분리가 제대로 이루어지지 않으면 유지 보수가 힘들어질 수 있습니다. 앞으로의 유지 보수를 위해서라도 인라인 스타일은 사용하지 않는 것이 좋습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span> <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span> <span class="token property">transition-duration</span><span class="token punctuation">:</span> 2s<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        ...
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'200px'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="/assets/img/posts/browser/reflow_2.png" alt="Fast 3G 인라인 스타일"></p>
<p>위의 그림은 위의 코드(인라인 스타일을 사용한)를 Fast 3G로 Newwork를 확인한 그림입니다. <a href="/assets/example/browser/reflow-repaint/reflow_2.html">reflow_2.html</a>에서 예제를 확인할 수 있습니다.</p>
<p><img src="/assets/img/posts/browser/reflow_1-1_network.png" alt="Fast 3G 인라인 스타일 사용 안 함"></p>
<p>위의 그림은 1번에서 살펴 본 <a href="/assets/example/browser/reflow-repaint/reflow_1-1.html">reflow_1-1.html</a>을 Fast 3G로 Network를 확인한 그림입니다.</p>
<p>위의 두 사진에서 빨간 글씨로 쓰인 Load 타임스탬프를 비교해보면, 인라인 스타일을 사용한 경우는 1.02s, 인라인 스타일을 사용하지 않는 경우는 853ms로 인라인 스타일을 사용하지 않는 경우 더 빠르게 DOM이 그려지는 것을 확인할 수 있습니다.</p>
<h3 id="3-애니메이션이-있는-노드는-position을-fixed-또는-absolute로-지정한다" style="position:relative;">3. 애니메이션이 있는 노드는 <code class="language-text">position</code>을 <code class="language-text">fixed</code> 또는 <code class="language-text">absolute</code>로 지정한다.<a href="#3-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%9D%B4-%EC%9E%88%EB%8A%94-%EB%85%B8%EB%93%9C%EB%8A%94-position%EC%9D%84-fixed-%EB%98%90%EB%8A%94-absolute%EB%A1%9C-%EC%A7%80%EC%A0%95%ED%95%9C%EB%8B%A4" aria-label="3 애니메이션이 있는 노드는 position을 fixed 또는 absolute로 지정한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>애니메이션 효과는 많은 Reflow 비용이 발생하게 됩니다. <code class="language-text">position</code> 속성을 <code class="language-text">fixed</code> 또는 <code class="language-text">absolute</code>의 값을 줘서, 지정된 노드를 전체 노드에서 분리시켜 해당 노드만 Reflow가 발생하도록 제한시킬 수 있습니다.</p>
<p>애니메이션 효과를 줘야 하는 노드에 <code class="language-text">position</code> 속성이 적용되지 않았다면 애니메이션 시작 시 <code class="language-text">position</code> 속성 값을 <code class="language-text">fixed</code> 또는 <code class="language-text">absolute</code>로 변경하였다가 애니메이션 종료 후 다시 원복 시켜 렌더링을 최적화할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">.reflow</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
        <span class="token property">transition-duration</span><span class="token punctuation">:</span> 2s<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.reflow div</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        ...
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'200px'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="/assets/img/posts/browser/reflow_3.png" alt="position 지정"></p>
<p>위의 그림은 애니메이션 효과가 들어간 노드에 <code class="language-text">position: absolute</code>이 주어진 경우 Performance를 측정한 결과입니다. <a href="/assets/example/browser/reflow-repaint/reflow_3.html">reflow_3.html</a>에서 위의 코드 예제를 확인할 수 있습니다. 위의 그림을 보면 Layout에 13.4ms가 사용된 것을 볼 수 있습니다.</p>
<p><img src="/assets/img/posts/browser/reflow_1-2.png" alt="최하위 노드에서 reflow 발생 시"></p>
<p>반면, 위의 그림을 보면 <a href="/assets/example/browser/reflow-repaint/reflow_1-2.html">reflow_1-2.html</a> 예제와 같이 <code class="language-text">position</code>이 지정되어 있지 않을 경우에는 Layout에 87.8ms이 사용된 것을 볼 수 있습니다.</p>
<h3 id="4-퀄리티-퍼포먼스의-타협점을-찾는다" style="position:relative;">4. 퀄리티, 퍼포먼스의 타협점을 찾는다.<a href="#4-%ED%80%84%EB%A6%AC%ED%8B%B0-%ED%8D%BC%ED%8F%AC%EB%A8%BC%EC%8A%A4%EC%9D%98-%ED%83%80%ED%98%91%EC%A0%90%EC%9D%84-%EC%B0%BE%EB%8A%94%EB%8B%A4" aria-label="4 퀄리티 퍼포먼스의 타협점을 찾는다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>3번에서 말씀드렸듯이 애니메이션 효과는 많은 Reflow가 발생합니다. 퀄리티가 좋은 애니메이션은 좋은 퀄리티만큼 많은 Reflow가 발생하고, 퀄리티가 낮은 애니메이션은 적은 Reflow가 발생합니다.</p>
<p>예를 들어 10px을 이동해야 하는 애니메이션 효과가 있다고 하면, 한 번에 1px씩 움직이는 애니메이션일 경우 10번의 Reflow가 발생하지만 한 번에 2px씩 움직이는 애니메이션일 경우에는 5번의 Reflow가 발생합니다. 따라서 퀄리티와 퍼포먼스 간의 타협점을 찾아 최적의 방법을 찾아야 합니다.</p>
<h3 id="5-table-레이아웃을-피한다" style="position:relative;">5. <code class="language-text">&lt;table></code> 레이아웃을 피한다.<a href="#5-table-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83%EC%9D%84-%ED%94%BC%ED%95%9C%EB%8B%A4" aria-label="5 table 레이아웃을 피한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">&lt;table></code>은 점진적으로 렌더링 되지 않고, 모두 로드되고 테이블 너비가 계산된 후 화면에 그려집니다. 테이블 안의 콘텐츠의 값에 따라 테이블 너비가 계산됩니다.</p>
<p>콘텐츠의 값에 따라 테이블 너비가 계산되기 때문에, 테이블 콘텐츠의 작은 변경만 있어도 테이블 너비가 다시 계산되고 테이블의 모든 노드들이 Reflow가 발생합니다. 이러한 이유로 <code class="language-text">&lt;table></code>을 레이아웃 용도로 사용하는 일은 피해야 합니다.</p>
<p><code class="language-text">&lt;table></code>을 사용할 때 <code class="language-text">table-layout:fixed</code> 값을 지정하는 것이 좋습니다. <code class="language-text">table-layout:fixed</code>는 테이블의 콘텐츠의 길이에 따라 테이블의 너비가 계산되는 것이 아니기 때문에, <code class="language-text">table-layout</code>의 기본 값인 <code class="language-text">auto</code>에 비해 성능이 더 좋습니다. <code class="language-text">&lt;table></code>을 레이아웃 용도가 아닌 데이터 표시 용도로 사용할 때도 <code class="language-text">table-layout:fixed</code>를 지정하는 것이 성능 면에서 더 좋습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">th, td</span> <span class="token punctuation">{</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000
      <span class="token punctuation">}</span>
      <span class="token selector">table</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.table-fixed</span> <span class="token punctuation">{</span>
        <span class="token property">table-layout</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>table-fixed<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>title5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>텍스트텍스트텍스트텍스트텍스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>위의 예제는 <code class="language-text">table-layout:auto</code>와 <code class="language-text">table-layout:fixed</code>의 차이를 비교하는 예제입니다. <a href="/assets/example/browser/reflow-repaint/table-layout.html">table-layout.html</a>에서 테이블 너비 차이를 비교할 수 있습니다.</p>
<h3 id="6-ie의-css-표현식을-사용하지-않는다" style="position:relative;">6. IE의 CSS 표현식을 사용하지 않는다.<a href="#6-ie%EC%9D%98-css-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4" aria-label="6 ie의 css 표현식을 사용하지 않는다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>CSS 표현식(expression)은 비용이 매우 높기 때문에 사용을 피해야 합니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">.</span>expression <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token function">expression</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">'1000px'</span> <span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>위의 코드와 같이 CSS 표현식을 사용할 수 있습니다.</p>
<p>CSS 표현식의 비용이 높은 이유는 Reflow가 발생할 때마다 자바스크립트 표현식이 다시 계산되기 때문입니다. 만약 애니메이션이 동작한다면, 애니메이션에 의한 Reflow가 발행할 때마다 자바스크립트 표현식이 계산되게 됩니다.</p>
<h3 id="7-css-하위-선택자를-최소화한다" style="position:relative;">7. CSS 하위 선택자를 최소화한다.<a href="#7-css-%ED%95%98%EC%9C%84-%EC%84%A0%ED%83%9D%EC%9E%90%EB%A5%BC-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4" aria-label="7 css 하위 선택자를 최소화한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>CSS 하위 선택자를 최소화하는 것은 Reflow 횟수를 줄이는 방법이 아니라 렌더 트리 계산을 최소화하는 방법에 대한 내용입니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow_box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow_list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>버튼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>버튼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">/* 잘못된 예 */</span>
<span class="token punctuation">.</span>reflow_box <span class="token punctuation">.</span>reflow_list li <span class="token punctuation">.</span>btn<span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span>block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 올바른 예 */</span>
<span class="token punctuation">.</span>reflow_list <span class="token punctuation">.</span>btn <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span>block<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>위의 코드와 같이 CSS 하위 선택자를 최소화하는 것이 렌더링 성능에 더 좋습니다.</p>
<p>렌더 트리는 DOM과 CSSOM이 합쳐져서 만들어집니다. DOM은 HTML이 파싱 되어 만들어진 트리이고, CSSOM은 CSS가 파싱 되어 만들어진 트리입니다. 두 트리를 결합하여 렌더 트리를 만드는데, CSS 하위 선택자가 많아지면 CSSOM 트리의 깊이(Depth)가 깊어지게 되고 결국 렌더 트리를 만드는 시간이 더 오래 걸릴 수 있게 됩니다. 더 자세한 내용은 <a href="/tech/browser/browser-rendering/#%EB%A0%8C%EB%8D%94-%ED%8A%B8%EB%A6%AC-%EA%B5%AC%EC%B6%95">렌더 트리 구축</a>을 참고 바랍니다.</p>
<h3 id="8-숨겨진-노드의-스타일을-변경한다" style="position:relative;">8. 숨겨진 노드의 스타일을 변경한다.<a href="#8-%EC%88%A8%EA%B2%A8%EC%A7%84-%EB%85%B8%EB%93%9C%EC%9D%98-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%9C%EB%8B%A4" aria-label="8 숨겨진 노드의 스타일을 변경한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">display:none</code>으로 숨겨진 노드를 변경할 때는 Reflow가 발생하지 않습니다. 숨겨진 노드를 표시하기 전에 노드의 콘텐츠를 먼저 변경한 후 화면에 나타내면 Reflow를 줄일 수 있습니다.</p>
<h3 id="9-클래스를-혹은-csstext-사용하여-한-번에-스타일을-변경한다" style="position:relative;">9. 클래스를 혹은 <code class="language-text">cssText</code> 사용하여 한 번에 스타일을 변경한다.<a href="#9-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%ED%98%B9%EC%9D%80-csstext-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%9C%EB%8B%A4" aria-label="9 클래스를 혹은 csstext 사용하여 한 번에 스타일을 변경한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>스타일을 변경할 때, 스타일을 각각 변경할 경우 추가 Reflow가 발생할 수 있기 때문에 한 번에 스타일을 변경하는 것이 좋습니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'80px'</span><span class="token punctuation">;</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'inline-block'</span><span class="token punctuation">;</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>위의 코드는 각각의 스타일을 바꾸는 방식입니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// class 사용</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'block'</span>

  <span class="token comment">// cssText 사용</span>
  div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">'height:80px;background-color:#00f;display:inline-block;overflow:hidden;font-size:40px;color:#fff;'</span>
<span class="token punctuation">}</span></code></pre></div>
<p>위의 코드는 class, <code class="language-text">cssText</code>를 사용하여 한 번에 스타일을 바꾸는 방법입니다. 위의 코드와 같이 스타일은 한 번에 변경하는 것이 좋습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">.block</span> <span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #00f<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-inline<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>인라인 스타일 적용<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-class<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>클래스 스타일 적용<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-css-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>cssText 스타일 적용<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>DIV 스타일 테스트<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- 10000번 선언 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn-inline'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'80px'</span><span class="token punctuation">;</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'#00f'</span><span class="token punctuation">;</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'inline-block'</span><span class="token punctuation">;</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">'40px'</span><span class="token punctuation">;</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn-class'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'block'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn-css-text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> div<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          div<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">'height:80px;background-color:#00f;display:inline-block;overflow:hidden;font-size:40px;color:#fff;'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>위의 코드는 스타일을 각각 변경할 경우, class를 사용할 경우, <code class="language-text">cssText</code>를 사용할 경우의 Performance 차이를 살펴보기 위한 예제입니다. <a href="/assets/example/browser/reflow-repaint/reflow_9.html">reflow_9.html</a>에서 확인할 수 있습니다.</p>
<p><img src="/assets/img/posts/browser/reflow_11-1.png" alt="각각 변경할 경우"></p>
<p>위의 그림은 <code class="language-text">&lt;button id="btn-inline"></code>를 클릭하여 스타일을 각각 변경한 경우에 걸린 Layout 시간을 나타낸 그림입니다. Layout에 275.2ms가 사용되었습니다.</p>
<p><img src="/assets/img/posts/browser/reflow_11-2.png" alt="class 사용할 경우"></p>
<p>위의 그림은 <code class="language-text">&lt;button id="btn-class"></code>를 클릭하여 class를 사용하여 스타일을 변경한 경우에 걸린 Layout 시간을 나타낸 그림입니다. Layout에 255.2ms가 사용되었습니다.</p>
<p><img src="/assets/img/posts/browser/reflow_11-3.png" alt="cssText 사용할 경우"></p>
<p>위의 그림은 <code class="language-text">&lt;button id="btn-css-text"></code>를 클릭하여 <code class="language-text">cssText</code>를 사용하여 스타일을 변경한 경우에 걸린 Layout 시간을 나타낸 그림입니다. Layout에 279.0ms가 사용되었습니다.</p>
<p>3가지를 비교하면 class를 사용할 경우 Layout에 가장 적은 시간이 사용된 것을 볼 수 있습니다. 스타일을 변경해야 할 경우 class를 사용하는 것이 성능에 가장 좋은 것으로 판단됩니다.</p>
<h3 id="10-dom-사용을-최소화한다" style="position:relative;">10. DOM 사용을 최소화한다.<a href="#10-dom-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4" aria-label="10 dom 사용을 최소화한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Reflow 비용을 줄이기 위해서 DOM 노드를 사용을 최소화해야 합니다. 그 방법 중 하나가 DOM Fragment를 사용하여 DOM을 추가할 때 DOM 접근을 최소화하는 방법입니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ul <span class="token operator">=</span> frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  li <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  li<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> i <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>위의 코드와 같이 <code class="language-text">createDocumentFragment</code>를 사용하여 한 번에 DOM을 추가하여 DOM 접근을 최소화할 수 있습니다. <code class="language-text">createDocumentFragment</code>를 사용한 예제는 <a href="/assets/example/browser/reflow-repaint/reflow_10.html">reflow_10.html</a>에서 확인할 수 있습니다.</p>
<h3 id="11-캐시를-활용한다" style="position:relative;">11. 캐시를 활용한다.<a href="#11-%EC%BA%90%EC%8B%9C%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C%EB%8B%A4" aria-label="11 캐시를 활용한다 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>브라우저는 레이아웃 변경을 큐에 저장했다가 한 번에 실행하여 Reflow를 최소화합니다. 하지만 <code class="language-text">offset</code>, <code class="language-text">scrollTop</code>과 같은 계산된 스타일 정보를 요청할 때마다 정확한 정보를 제공하기 위해 큐를 비우고 모든 변경사항을 적용합니다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> el<span class="token punctuation">.</span>offsetTop <span class="token operator">+</span> <span class="token number">10</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> el<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> <span class="token number">10</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Bad practice</span>

<span class="token keyword">let</span> top <span class="token operator">=</span> el<span class="token punctuation">.</span>offsetTop<span class="token punctuation">,</span> left <span class="token operator">=</span> el<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">,</span> elStyle <span class="token operator">=</span> el<span class="token punctuation">.</span>style<span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  top <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  left <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  elStyle<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> top <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  elStyle<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> left <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Good practice</span></code></pre></div>
<p>이런 낭비를 해결하기 위해서 위의 코드와 같이 스타일 정보를 변수에 저장하여 <code class="language-text">offset</code>, <code class="language-text">scrollTop</code>등의 값 요청을 최소화해야 합니다.</p>
<h3 id="고찰" style="position:relative;">고찰<a href="#%EA%B3%A0%EC%B0%B0" aria-label="고찰 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Reflow 최적화 테스트는 크롬 버전 78.0.3904.108에서 이루어졌습니다. 몇몇의 테스트들은 예상과 다른 결괏값을 보이는 것이 있어 이렇게 고찰을 기록하게 되었습니다.</p>
<h4 id="브라우저-성능-향상으로-인해" style="position:relative;">브라우저 성능 향상으로 인해<a href="#%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%84%B1%EB%8A%A5-%ED%96%A5%EC%83%81%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%B4" aria-label="브라우저 성능 향상으로 인해 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<p>뛰어난 브라우저 성능으로 예상과 다른 테스트 결과를 나타낸 경우가 있었습니다.</p>
<h5 id="2-인라인-스타일을-사용하지-않는다-1" style="position:relative;">2. 인라인 스타일을 사용하지 않는다.<a href="#2-%EC%9D%B8%EB%9D%BC%EC%9D%B8-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4-1" aria-label="2 인라인 스타일을 사용하지 않는다 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p>인라인 스타일을 사용하는 경우와 사용하지 않는 경우 이 둘의 차이는 어느 정도 존재했습니다. 하지만 고민된 점은 인라인 스타일을 사용하면 HTML 파일의 크기가 커진다는 부분입니다. 이 둘의 속도 차이는 HTML 파일을 다운로드하는 차이가 아닐까라는 생각이 들었습니다. 두 속도 차이가 Reflow에 의한 차이보다는 HTML의 크기 차이에 영향을 받은 것 같다는 생각이 들었습니다.</p>
<h5 id="5-table-레이아웃을-피한다-1" style="position:relative;">5. <code class="language-text">&lt;table></code> 레이아웃을 피한다.<a href="#5-table-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83%EC%9D%84-%ED%94%BC%ED%95%9C%EB%8B%A4-1" aria-label="5 table 레이아웃을 피한다 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">table-layout</code>의 값을 <code class="language-text">fixed</code>로 지정할 때와 지정하지 않을 때의 렌더링 속도 차이를 발견하지 못했습니다.</p>
<h5 id="11-캐시를-활용한다-1" style="position:relative;">11. 캐시를 활용한다.<a href="#11-%EC%BA%90%EC%8B%9C%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C%EB%8B%A4-1" aria-label="11 캐시를 활용한다 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p>캐시를 사용할 때와 사용하지 않을 때 모두 매우 빠른 속도로 동작하여 정확한 테스트를 하지 못했습니다. 테스트 예제는 <a href="/assets/example/browser/reflow-repaint/reflow_11.html">reflow_11.html</a>에서 확인할 수 있습니다.</p>
<h4 id="렌터-큐의-존재로-인해" style="position:relative;">렌터 큐의 존재로 인해<a href="#%EB%A0%8C%ED%84%B0-%ED%81%90%EC%9D%98-%EC%A1%B4%EC%9E%AC%EB%A1%9C-%EC%9D%B8%ED%95%B4" aria-label="렌터 큐의 존재로 인해 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<p>브라우저는 레이아웃 변경을 큐에 저장했다가 1초에 60번의 속도로 큐에 있는 내용을 화면에 반영합니다. 즉 1초에 60프레임(60fps)의 속도로 화면을 다시 그립니다(<a href="/tech/javascript/javascript-runtime/#%EB%B6%80%EB%A1%9D-%EB%A0%8C%EB%8D%94-%ED%81%90">렌더 큐</a> 참고). 브라우저에 렌터 큐가 있기 때문에 정확히 테스트 되지 못한 부분이 있었습니다.</p>
<h5 id="9-클래스를-혹은-csstext-사용하여-한-번에-스타일을-변경한다-1" style="position:relative;">9. 클래스를 혹은 <code class="language-text">cssText</code> 사용하여 한 번에 스타일을 변경한다.<a href="#9-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-%ED%98%B9%EC%9D%80-csstext-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%ED%95%9C-%EB%B2%88%EC%97%90-%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84-%EB%B3%80%EA%B2%BD%ED%95%9C%EB%8B%A4-1" aria-label="9 클래스를 혹은 csstext 사용하여 한 번에 스타일을 변경한다 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">cssText</code>를 사용할 때와 css를 각각 입력할 경우의 Layout에 사용된 시간이 의미 있을 만큼 크지 않았습니다. 오히려 <code class="language-text">cssText</code>를 사용할 경우 더 느리게 측정되는 경우도 있었습니다. 원인을 고민해 보았는데, css를 각각 변경하였다 하더라도 렌더 큐가 있기 때문에 한꺼번에 화면에 반영되어 두 경우가 동일한 것으로 추측했습니다.</p>
<p><code class="language-text">cssText</code>를 사용할 경우와 class와의 차이는 어느 정도 존재했는데, 이 이유는 <code class="language-text">cssText</code>를 사용하면 인라인 스타일로 적용되기 때문에 인라인 스타일을 파싱하고 화면에 적용하는 데에 차이가 있는 것으로 추측됩니다.</p>
<h5 id="10-dom-사용을-최소화한다-1" style="position:relative;">10. DOM 사용을 최소화한다.<a href="#10-dom-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%9C%EB%8B%A4-1" aria-label="10 dom 사용을 최소화한다 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p>DOM Fragment를 사용한다고 Layout 속도가 개선되지 않았습니다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-fragment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Fragment 사용<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn-none-fragment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Fragment 미사용<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reflow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn-fragment'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> ul <span class="token operator">=</span> frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          li <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          li<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> i <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btn-none-fragment'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.reflow ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          li<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> i <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p><img src="/assets/img/posts/browser/reflow_10-1.png" alt="DOM Fragment 사용"></p>
<p>위의 그림은 위의 코드에서 <code class="language-text">&lt;button id="btn-fragment"></code>를 클릭하여 Performance를 확인한 그림입니다.</p>
<p><img src="/assets/img/posts/browser/reflow_10-2.png" alt="DOM Fragment 미사용"></p>
<p>위의 그림은 위의 코드에서 <code class="language-text">&lt;button id="btn-none-fragment"></code>를 클릭하여 Performance를 확인한 그림입니다. <a href="/assets/example/browser/reflow-repaint/reflow_10.html">reflow_10.html</a>에서 확인할 수 있습니다.</p>
<p>두 경우 각각 203.5ms와 199.7ms로 Layout에 사용된 시간은 의미가 없을 정도로 미세합니다. 이 두 차이도 렌더 큐의 역할 때문인 것 같습니다. DOM에 각각 추가하더라고 동시에 화면에 반영되기 때문으로 추측됩니다.</p>
<h2 id="요약" style="position:relative;">요약<a href="#%EC%9A%94%EC%95%BD" aria-label="요약 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<ul>
<li>Repaint(Redraw)는 화면에 변화가 있을 때 화면을 그리는 과정입니다.</li>
<li>Reflow(Layout)는 뷰포트 내에서 렌더 트리의 노드의 정확한 위치와 크기를 계산하는 과정입니다.</li>
<li>Repaint가 발생하는 경우는 화면이 변경되는 모든 경우입니다.</li>
<li>Reflow가 발생하는 경우는 화면의 구조가 바뀌었을 경우입니다.</li>
<li>Reflow를 최적화하는 방법은 11가지 정도로 이야기할 수 있습니다.
<ol>
<li>스타일을 변경할 경우 가장 하위 노드의 클래스를 변경한다.</li>
<li>인라인 스타일을 사용하지 않는다.</li>
<li>애니메이션이 있는 노드는 <code class="language-text">position</code>을 <code class="language-text">fixed</code> 또는 <code class="language-text">absolute</code>로 지정한다.</li>
<li>퀄리티, 퍼포먼스의 타협점을 찾는다.</li>
<li><code class="language-text">&lt;table></code> 레이아웃을 피한다.</li>
<li>IE의 CSS 표현식을 사용하지 않는다.</li>
<li>CSS 하위 선택자를 최소화한다.</li>
<li>숨겨진 노드의 스타일을 변경한다.</li>
<li>클래스를 혹은 <code class="language-text">cssText</code> 사용하여 한 번에 스타일을 변경한다.</li>
<li>DOM 사용을 최소화한다.</li>
<li>캐시를 활용한다.</li>
</ol>
</li>
</ul>
<h5 id="참고" style="position:relative;">참고<a href="#%EC%B0%B8%EA%B3%A0" aria-label="참고 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><a href="https://github.com/wonism/TIL/blob/master/front-end/browser/reflow-repaint.md">https://github.com/wonism/TIL/blob/master/front-end/browser/reflow-repaint.md</a></li>
<li><a href="https://webclub.tistory.com/346">https://webclub.tistory.com/346</a></li>
<li><a href="https://wit.nts-corp.com/2017/06/05/4571">https://wit.nts-corp.com/2017/06/05/4571</a></li>
<li><a href="http://sdsupport.cafe24.com/reference/css/table-layout.html">http://sdsupport.cafe24.com/reference/css/table-layout.html</a></li>
<li><a href="https://lists.w3.org/Archives/Public/public-html-ig-ko/2011Sep/att-0031/Reflow_____________________________Tip.pdf">https://lists.w3.org/Archives/Public/public-html-ig-ko/2011Sep/att-0031/Reflow_____________________________Tip.pdf</a></li>
</ul></div><style data-emotion="css 3pb3p3">.css-3pb3p3{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;line-height:1.4;margin-top:20px;}@media screen and (max-width: 767px){.css-3pb3p3{display:block;}}</style><div class="css-3pb3p3 e1nfdjh41"><style data-emotion="css uk1eth">.css-uk1eth{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;height:70px;margin-bottom:10px;}.css-uk1eth:first-of-type{margin-right:5px;}.css-uk1eth:last-of-type{margin-left:5px;}.css-uk1eth:empty{height:0;}@media screen and (max-width: 767px){.css-uk1eth{-webkit-box-flex:initial;-webkit-flex-grow:initial;-ms-flex-positive:initial;flex-grow:initial;-webkit-flex-shrink:initial;-ms-flex-negative:initial;flex-shrink:initial;-webkit-flex-basis:initial;-ms-flex-preferred-size:initial;flex-basis:initial;}.css-uk1eth:first-of-type{margin-right:0;}.css-uk1eth:last-child{margin-left:0;}}</style><div class="css-uk1eth e1nfdjh44"><style data-emotion="css 10az1jt">.css-10az1jt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:70px;line-height:1.4;}</style><style data-emotion="css zcyeyz">.css-zcyeyz{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;border:1px solid hsl(0, 0%, 90%);border-radius:10px;padding:5px 15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:70px;line-height:1.4;}.css-zcyeyz.active,.css-zcyeyz:hover{color:hsl(0, 0%, 0%);}.css-zcyeyz:hover{border:1px solid hsl(0, 0%, 70%);}</style><a class="e1nfdjh40 css-zcyeyz emzm9b0" href="/tech/browser/preload-preconnect-prefetch/"><style data-emotion="css 1qrmlco">.css-1qrmlco{width:35px;height:35px;}</style><div class="css-1qrmlco e1nfdjh42"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path></svg></div><style data-emotion="css llr17a">.css-llr17a{margin-left:20px;margin-right:auto;}.css-llr17a small{font-size:0.75rem;}</style><div class="css-llr17a e1nfdjh43"><small>이전 포스트</small><div>[Browser] 리소스 우선순위 - preload, preconnect, prefetch</div></div></a></div><div class="css-uk1eth e1nfdjh44"><style data-emotion="css m7mqgh">.css-m7mqgh{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;border:1px solid hsl(0, 0%, 90%);border-radius:10px;padding:5px 15px;text-align:right;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:70px;line-height:1.4;}.css-m7mqgh.active,.css-m7mqgh:hover{color:hsl(0, 0%, 0%);}.css-m7mqgh:hover{border:1px solid hsl(0, 0%, 70%);}</style><a class="e1nfdjh40 css-m7mqgh emzm9b0" href="/tech/browser/async-defer/"><style data-emotion="css 3fuysx">.css-3fuysx{margin-left:auto;margin-right:20px;}.css-3fuysx small{font-size:0.75rem;}</style><div class="css-3fuysx e1nfdjh43"><small>다음 포스트</small><div>[Browser] async와 defer</div></div><div class="css-1qrmlco e1nfdjh42"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path></svg></div></a></div></div><div id="disqus_thread"></div></article></main><style data-emotion="css 1auu4k1">.css-1auu4k1{text-align:center;padding:25px 0;background-color:hsl(0, 0%, 100%);border-top:1px solid hsl(0, 0%, 90%);}</style><footer class="css-1auu4k1 eqltkhc0"><style data-emotion="css gh4br9">.css-gh4br9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-around;-ms-flex-pack:space-around;-webkit-justify-content:space-around;justify-content:space-around;width:100px;margin:0 auto 10px;}.css-gh4br9 .emzm9b0{padding:5px 10px;}</style><nav class="css-gh4br9 eqltkhc2"><style data-emotion="css 6ymkmw">.css-6ymkmw{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;}.css-6ymkmw.active,.css-6ymkmw:hover{color:hsl(0, 0%, 0%);}</style><a href="https://github.com/beomy" target="_blank" aria-label="github" class="css-6ymkmw emzm9b0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a><a href="https://www.linkedin.com/in/효범-이-930453134" target="_blank" aria-label="linkedin" class="css-6ymkmw emzm9b0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a></nav><style data-emotion="css hm8ta6">.css-hm8ta6{color:hsl(0, 0%, 50%);font-size:0.875rem;}</style><span class="css-hm8ta6 eqltkhc1">© <!-- -->2024<!-- --> Beomy. All rights reserved.</span></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tech/browser/reflow-repaint/";window.___webpackCompilationHash="3d5a4f54dd29e3b3a5f7";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e08de4174abbdc2cf38c.js"],"app":["/app-a7f051f445e2a5498483.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-1eab2470549582cd4719.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-4b8bdadeafc284fcbeca.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-112980fdde7630ce2247.js"],"component---src-pages-search-tsx":["/component---src-pages-search-tsx-75b58aca6df70cc9b390.js"],"component---src-templates-category-tsx":["/component---src-templates-category-tsx-ec5cafac1deff2b5ebe2.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-f37576ac8b8ee6141b3a.js"]};/*]]>*/</script><script src="/polyfill-e08de4174abbdc2cf38c.js" nomodule=""></script><script src="/app-a7f051f445e2a5498483.js" async=""></script><script src="/f36c6662-a839537402515855fc54.js" async=""></script><script src="/a20b2305-d6201e9be78376417eb8.js" async=""></script><script src="/framework-47716356ce90bf20a040.js" async=""></script><script src="/webpack-runtime-dbccf3dafc0e274fa3df.js" async=""></script></body></html>