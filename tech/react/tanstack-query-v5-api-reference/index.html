<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.25.7"/><meta data-react-helmet="true" name="description" content="2023년 10월 TanStack Query v5가 정식 버전으로 릴리즈 되었습니다. 이번 포스터에서는 TanStack Query v5의 React Query를 멋있게 사용할 수 있도록 React Query의 API를 살펴보도록 하겠습니다."/><meta data-react-helmet="true" name="author" content="beomy"/><meta data-react-helmet="true" property="og:locale" content="ko"/><meta data-react-helmet="true" property="og:url" content="https://beomy.github.io/tech/react/tanstack-query-v5-api-reference/"/><meta data-react-helmet="true" property="og:site_name" content="Beomy"/><meta data-react-helmet="true" property="og:title" content="[React] TanStack Query v5 (React Query) API 레퍼런스"/><meta data-react-helmet="true" property="og:description" content="2023년 10월 TanStack Query v5가 정식 버전으로 릴리즈 되었습니다. 이번 포스터에서는 TanStack Query v5의 React Query를 멋있게 사용할 수 있도록 React Query의 API를 살펴보도록 하겠습니다."/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:image" content="/static/4fda5f70bb7ed7df9c12d984bb68bb88/f635c/tanstack-query-v5.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="beomy"/><meta data-react-helmet="true" name="twitter:title" content="[React] TanStack Query v5 (React Query) API 레퍼런스"/><meta data-react-helmet="true" name="twitter:description" content="2023년 10월 TanStack Query v5가 정식 버전으로 릴리즈 되었습니다. 이번 포스터에서는 TanStack Query v5의 React Query를 멋있게 사용할 수 있도록 React Query의 API를 살펴보도록 하겠습니다."/><meta data-react-helmet="true" property="article:published_time" content="2024-01-28T00:00:00+00:00"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="alternate" type="application/rss+xml" title="Beomy RSS Feed" href="/rss.xml"/><title data-react-helmet="true">[React] TanStack Query v5 (React Query) API 레퍼런스 | Beomy</title><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=964a167d80badc6402455502c767332d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=964a167d80badc6402455502c767332d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=964a167d80badc6402455502c767332d"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-144478158-1', 'auto', {});
      
      
      
      
      
      }</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MD8G3F353P"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-MD8G3F353P', {"send_page_view":false});
      }
      </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global 1w8smb">body{font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue','Apple SD Gothic Neo','Malgun Gothic','맑은 고딕',나눔고딕,'Nanum Gothic','Noto Sans KR','Noto Sans CJK KR',arial,돋움,Dotum,Tahoma,Geneva,sans-serif;font-size:1rem;color:hsl(0, 0%, 40%);background-color:hsl(0, 0%, 100%);word-break:break-word;margin:0;padding:0;}h1,h2,h3,h4,h5{color:hsl(0, 0%, 0%);}a{color:hsl(212, 100%, 50%);}input{padding:0;margin:0;border:0;background:0;}input:focus-visible{outline:none;}input,button,select,optgroup,textarea{font-size:inherit;font-family:inherit;line-height:inherit;}button{border:none;background:none;margin:0;padding:0;cursor:pointer;}</style><style data-emotion="css 1fnz6am">.css-1fnz6am{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:fixed;z-index:9;top:0;left:0;right:0;box-shadow:rgb(0 0 0 / 8%) 0 0 15px;-webkit-transition:top 0.2s ease-in-out;transition:top 0.2s ease-in-out;}.css-1fnz6am button{color:hsl(0, 0%, 40%);}.css-1fnz6am button:hover{color:hsl(0, 0%, 0%);}</style><header class="css-1fnz6am e1x16fym0"><style data-emotion="css 17m8908">.css-17m8908{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:10px 75px;border-bottom:1px solid hsl(0, 0%, 90%);background-color:hsla(0, 0%, 100%, 0.8);}@media screen and (max-width: 1056px){.css-17m8908{padding:10px 20px;}}</style><nav class="css-17m8908 e1x16fym2"><style data-emotion="css 6ymkmw">.css-6ymkmw{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;}.css-6ymkmw.active,.css-6ymkmw:hover{color:hsl(0, 0%, 0%);}</style><a class="css-6ymkmw emzm9b0" href="/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:90px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;30&#x27; width=&#x27;90&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/54920/beomy-logo.webp 90w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 90px) 90px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 90px) 90px, 100vw" decoding="async" loading="lazy" data-src="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png 90w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로그 로고"/></picture><noscript><picture><source type="image/webp" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/54920/beomy-logo.webp 90w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 90px) 90px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 90px) 90px, 100vw" decoding="async" loading="lazy" src="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/d8457/beomy-logo.png 90w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로 그 로고"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a><style data-emotion="css 1dl8500">.css-1dl8500{margin:0 0 0 auto;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (max-width: 1056px){.css-1dl8500{display:none;}}.css-1dl8500 .emzm9b0{padding:5px 10px;text-transform:capitalize;}</style><style data-emotion="css 9svuyu">.css-9svuyu{margin:0 0 0 auto;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (max-width: 1056px){.css-9svuyu{display:none;}}.css-9svuyu .emzm9b0{padding:5px 10px;text-transform:capitalize;}</style><ul class="e1x16fym5 css-9svuyu e15nj2rp0"><style data-emotion="css 14qmwqf">.css-14qmwqf{list-style:none;margin:0 10px;}</style><li class="css-14qmwqf eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/about/">about</a></li><li class="css-14qmwqf eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech">tech</a></li><li class="css-14qmwqf eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/review">review</a></li><li class="css-14qmwqf eh0tn9j0"><a href="/games" target="_blank" class="css-6ymkmw emzm9b0">games</a></li></ul><style data-emotion="css 1n4jurc">.css-1n4jurc{margin-left:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-1n4jurc button +button{margin-left:10px;}</style><div class="css-1n4jurc e1x16fym3"><style data-emotion="css 1m1n2i1">.css-1m1n2i1{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);}.css-1m1n2i1:hover{background-color:hsl(0, 0%, 90%);color:hsl(0, 0%, 0%);}</style><button aria-label="theme" class="css-1m1n2i1 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg></button><button aria-label="search" class="css-1m1n2i1 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg></button><style data-emotion="css 1dana7o">.css-1dana7o{display:none;}@media screen and (max-width: 1056px){.css-1dana7o{display:block;}}</style><button aria-label="menu" class="css-1dana7o e1x16fym6"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="30" width="30" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path></svg></button></div></nav><style data-emotion="css u7tm4n">.css-u7tm4n{height:0;background-color:hsla(0, 0%, 98%, 0.8);-webkit-transition:height 0.35s ease-in-out 0s;transition:height 0.35s ease-in-out 0s;visibility:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-u7tm4n .ejegnqc0{margin:auto;height:100%;width:1376px;}@media screen and (max-width: 1440px){.css-u7tm4n .ejegnqc0{width:1024px;}}@media screen and (max-width: 1056px){.css-u7tm4n .ejegnqc0{width:calc(100% - 20px);}}</style><div class="css-u7tm4n e1x16fym1"><style data-emotion="css 1tzge2">.css-1tzge2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%;box-sizing:border-box;}.css-1tzge2 >*{color:hsl(0, 0%, 40%);font-size:20px;}</style><div font-size="20px" class="css-1tzge2 ejegnqc0"><style data-emotion="css fzhqx9">.css-fzhqx9{min-height:36px;height:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><input type="text" placeholder="검색어를 입력해 주세요." font-size="20px" class="css-fzhqx9 ejegnqc2" value=""/><style data-emotion="css 1txfo5x">.css-1txfo5x button +button{margin-left:5px;}</style><div class="css-1txfo5x ejegnqc1"><style data-emotion="css 4fwik7">.css-4fwik7{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);display:none;}.css-4fwik7:hover{background-color:hsl(0, 0%, 90%);color:hsl(0, 0%, 0%);}</style><button display="none" aria-label="clear" class="css-4fwik7 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button><button aria-label="search" class="css-1m1n2i1 e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path></svg></button></div></div></div><style data-emotion="css 156ce5u">.css-156ce5u{position:fixed;top:0;right:0;height:100%;z-index:9;margin:0;padding:0;display:none;}.css-156ce5u >*{-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);transition:transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);}.css-156ce5u .e15nj2rp0{padding-left:30px;}.css-156ce5u .emzm9b0{text-transform:capitalize;}@media screen and (max-width: 1056px){.css-156ce5u{display:block;}}</style><menu class="e1x16fym4 css-156ce5u e1uny1v0"><style data-emotion="css 1u3qco2">.css-1u3qco2{background:hsl(0, 0%, 0%);opacity:0;width:100%;height:0;position:absolute;top:0;left:0;-webkit-transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;}</style><div class="css-1u3qco2 e16anfpj0"></div><style data-emotion="css hp6piz">.css-hp6piz{width:285px;height:100%;position:absolute;background:hsl(0, 0%, 100%);-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);right:0;}</style><div class="css-hp6piz e1uny1v2"><style data-emotion="css 11f77qu">.css-11f77qu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:45px;border-bottom:1px solid hsl(0, 0%, 90%);padding-left:20px;}</style><div class="css-11f77qu e1uny1v1"><a class="css-6ymkmw emzm9b0" href="/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:60px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;20&#x27; width=&#x27;60&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/6d827/beomy-logo.webp 60w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 60px) 60px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 60px) 60px, 100vw" decoding="async" loading="lazy" data-src="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png" data-srcset="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png 60w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로그 로고"/></picture><noscript><picture><source type="image/webp" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/6d827/beomy-logo.webp 60w,/static/103382efc7bc1c511705de8ec0c6b388/90479/beomy-logo.webp 300w,/static/103382efc7bc1c511705de8ec0c6b388/755d2/beomy-logo.webp 445w" sizes="(min-width: 60px) 60px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 60px) 60px, 100vw" decoding="async" loading="lazy" src="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png" srcSet="/static/103382efc7bc1c511705de8ec0c6b388/acbe7/beomy-logo.png 60w,/static/103382efc7bc1c511705de8ec0c6b388/b1606/beomy-logo.png 300w,/static/103382efc7bc1c511705de8ec0c6b388/89f8c/beomy-logo.png 445w" alt="블로그 로고"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a><style data-emotion="css 1fhkxff">.css-1fhkxff{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);margin-right:5px;}.css-1fhkxff:hover{background-color:hsl(0, 0%, 90%);color:hsl(0, 0%, 0%);}</style><button aria-label="close" class="css-1fhkxff e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button></div><ul class="css-13wylk3 e15nj2rp0"><style data-emotion="css hk1l2p">.css-hk1l2p{list-style:none;margin-bottom:30px;}</style><li class="css-hk1l2p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/about">About</a></li><li class="css-hk1l2p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/review/">review<!-- --> <small>(<!-- -->1<!-- -->)</small></a><style data-emotion="css 4qklon">.css-4qklon{margin-top:10px;}</style><ul class="css-4qklon e15nj2rp0"><style data-emotion="css 1fjmd3p">.css-1fjmd3p{list-style:none;margin-bottom:10px;}</style><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/review/book/">book<!-- --> <small>(<!-- -->1<!-- -->)</small></a></li></ul></li><li class="css-hk1l2p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/">tech<!-- --> <small>(<!-- -->61<!-- -->)</small></a><ul class="css-4qklon e15nj2rp0"><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/browser/">browser<!-- --> <small>(<!-- -->7<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/etc/">etc<!-- --> <small>(<!-- -->11<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/javascript/">javascript<!-- --> <small>(<!-- -->4<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/react/">react<!-- --> <small>(<!-- -->8<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/svelte/">svelte<!-- --> <small>(<!-- -->22<!-- -->)</small></a></li><li class="css-1fjmd3p eh0tn9j0"><a class="css-6ymkmw emzm9b0" href="/tech/vuejs/">vuejs<!-- --> <small>(<!-- -->9<!-- -->)</small></a></li></ul></li><style data-emotion="css x70ess">.css-x70ess{list-style:none;}</style><li class="css-x70ess eh0tn9j0"><a href="/games" target="_blank" class="css-6ymkmw emzm9b0">Games</a></li></ul></div></menu></header><style data-emotion="css 19mhadv">.css-19mhadv{padding:70px 0 10px 0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:calc(100% - 20px);line-height:2;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}@media screen and (min-width: 767px){.css-19mhadv{width:calc(100% - 20px);}}@media screen and (min-width: 1056px){.css-19mhadv{width:1024px;}}@media screen and (min-width: 1440px){.css-19mhadv{width:1376px;}}</style><main display="flex" width="screen.xs,screen.xs,screen.sm,screen.m" class="css-19mhadv eh5ow4h0"><style data-emotion="css 107ksbg">.css-107ksbg{width:380px;height:100%;}@media screen and (max-width: 1056px){.css-107ksbg{position:fixed;top:0;right:0;width:0;z-index:10;}.css-107ksbg >*{-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);transition:transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),box-shadow 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);}}</style><nav class="css-107ksbg e1qho98x1"><style data-emotion="css 1u3qco2">.css-1u3qco2{background:hsl(0, 0%, 0%);opacity:0;width:100%;height:0;position:absolute;top:0;left:0;-webkit-transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;transition:opacity 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86),height 0s ease 0.3s;}</style><div class="css-1u3qco2 e16anfpj0"></div><style data-emotion="css 1tqrv0v">.css-1tqrv0v{position:fixed;width:340px;padding:10px;margin-left:40px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;top:70px;height:calc(100% - 70px);}.css-1tqrv0v fieldset +fieldset{margin-top:10px;}.css-1tqrv0v >.e1nnruu30{display:none;}@media screen and (max-width: 1056px){.css-1tqrv0v{top:0;right:0;height:100%;max-width:calc(100% - 60px);margin:0;background-color:hsl(0, 0%, 100%);-webkit-transform:translateX(100%);-moz-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}.css-1tqrv0v >.e1nnruu30{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;background-color:hsl(0, 0%, 100%);position:absolute;left:-50px;bottom:20px;-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);transition:transform 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}}</style><div class="css-1tqrv0v e1qho98x0"><style data-emotion="css 1bp06lr">.css-1bp06lr{margin:0;padding:5px 15px 10px 15px;border-radius:10px;border:1px solid hsl(0, 0%, 70%);background-color:hsl(0, 0%, 100%);}</style><fieldset title="공유하기" class="e1kyy02g1 css-1bp06lr e1j2b8kn1"><style data-emotion="css h3i8mu">.css-h3i8mu{padding:0 5px;font-size:1rem;font-weight:bold;}</style><legend class="css-h3i8mu e1j2b8kn0">공유하기</legend><style data-emotion="css ha9uku">.css-ha9uku{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-ha9uku e1kyy02g0"><style data-emotion="css rojewr">.css-rojewr{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:10px;border-radius:100%;color:hsl(0, 0%, 40%);border:1px solid hsl(0, 0%, 90%);}.css-rojewr:hover{border:1px solid hsl(0, 0%, 70%);color:hsl(0, 0%, 0%);}</style><button aria-label="facebook" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"></path></svg></button><button aria-label="twitter" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"></path></svg></button><button aria-label="linkedin" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></button><button aria-label="line" class="react-share__ShareButton css-rojewr er5rhgn0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 0c4.411 0 8 2.912 8 6.492 0 1.433-.555 2.723-1.715 3.994-1.678 1.932-5.431 4.285-6.285 4.645-.83.35-.734-.197-.696-.413l.003-.018.114-.685c.027-.204.055-.521-.026-.723-.09-.223-.444-.339-.704-.395C2.846 12.39 0 9.701 0 6.492 0 2.912 3.59 0 8 0zM5.022 7.686H3.497V4.918a.156.156 0 0 0-.155-.156H2.78a.156.156 0 0 0-.156.156v3.486c0 .041.017.08.044.107v.001l.002.002.002.002a.154.154 0 0 0 .108.043h2.242c.086 0 .155-.07.155-.156v-.56a.156.156 0 0 0-.155-.157zm.791-2.924h.562c.086 0 .155.07.155.156v3.486c0 .086-.07.155-.155.155h-.562a.156.156 0 0 1-.156-.155V4.918c0-.086.07-.156.156-.156zm3.863 0h.56c.087 0 .157.07.157.156v3.486c0 .086-.07.155-.156.155h-.561a.155.155 0 0 1-.04-.005h-.002a.168.168 0 0 1-.011-.004l-.005-.002-.007-.003a.066.066 0 0 1-.008-.004L9.6 8.54l-.01-.006-.001-.001a.154.154 0 0 1-.04-.039l-1.6-2.16v2.07a.155.155 0 0 1-.155.156h-.561a.156.156 0 0 1-.156-.155V4.918c0-.086.07-.156.156-.156H7.8l.005.001h.006l.003.001h.006l.01.003h.002l.002.001.01.003.005.002a.09.09 0 0 1 .009.004l.003.001.002.001a.113.113 0 0 1 .013.008l.003.002.005.003v.001c.002 0 .003.002.004.003a.092.092 0 0 1 .008.006l.003.003a.17.17 0 0 1 .023.026L9.52 6.99V4.918c0-.086.07-.156.156-.156zm3.815.717c0 .086-.07.156-.155.156H11.81v.59h1.525c.086 0 .155.07.155.155v.561c0 .086-.07.156-.155.156H11.81v.59h1.525c.086 0 .155.07.155.155v.561c0 .086-.07.156-.155.156h-2.242a.155.155 0 0 1-.11-.045l-.002-.003a.155.155 0 0 1-.044-.107V4.918c0-.042.017-.08.043-.107l.003-.003.001-.001a.155.155 0 0 1 .109-.045h2.242c.086 0 .155.07.155.156v.561z"></path></svg></button><button aria-label="link" class="css-rojewr e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z"></path></svg></button></div></fieldset><style data-emotion="css h6yjyb">.css-h6yjyb{max-height:100%;overflow:auto;}</style><style data-emotion="css 3u1z2c">.css-3u1z2c{margin:0;padding:5px 15px 10px 15px;border-radius:10px;border:1px solid hsl(0, 0%, 70%);background-color:hsl(0, 0%, 100%);max-height:100%;overflow:auto;}</style><fieldset title="목차" class="e1oosfhr1 css-3u1z2c e1j2b8kn1"><legend class="css-h3i8mu e1j2b8kn0">목차</legend><style data-emotion="css 4z857k">.css-4z857k{font-size:0.875rem;}.css-4z857k a{color:hsl(0, 0%, 50%);-webkit-text-decoration:none;text-decoration:none;}.css-4z857k a:hover{color:hsl(0, 0%, 0%);}.css-4z857k .active{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}.css-4z857k .active a{color:hsl(0, 0%, 0%);}.css-4z857k li{list-style:none;}.css-4z857k p{margin:0;}.css-4z857k >ul{margin:0;padding:0;}.css-4z857k >ul >li >ul{padding-left:15px;}</style><nav class="css-4z857k e1oosfhr0"><ul>
<li>
<p><a href="#react-query-%EA%B5%AC%EC%A1%B0">React Query 구조</a></p>
</li>
<li>
<p><a href="#react-query-api-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4">React Query API 레퍼런스</a></p>
<ul>
<li><a href="#usequery"><code class="language-text">useQuery</code></a></li>
<li><a href="#usequeries"><code class="language-text">useQueries</code></a></li>
<li><a href="#useinfinitequery"><code class="language-text">useInfiniteQuery</code></a></li>
<li><a href="#usemutation"><code class="language-text">useMutation</code></a></li>
<li><a href="#useisfetching"><code class="language-text">useIsFetching</code></a></li>
<li><a href="#useismutating"><code class="language-text">useIsMutating</code></a></li>
<li><a href="#querycache"><code class="language-text">QueryCache</code></a></li>
<li><a href="#mutationcache"><code class="language-text">MutationCache</code></a></li>
<li><a href="#usemutationstate"><code class="language-text">useMutationState</code></a></li>
<li><a href="#usesuspensequery"><code class="language-text">useSuspenseQuery</code></a></li>
<li><a href="#usesuspenseinfinitequery"><code class="language-text">useSuspenseInfiniteQuery</code></a></li>
<li><a href="#usesuspensequeries"><code class="language-text">useSuspenseQueries</code></a></li>
<li><a href="#queryclient"><code class="language-text">QueryClient</code></a></li>
<li><a href="#usequeryclient"><code class="language-text">useQueryClient</code></a></li>
<li><a href="#queryclientprovider"><code class="language-text">QueryClientProvider</code></a></li>
<li><a href="#queryobserver"><code class="language-text">QueryObserver</code></a></li>
<li><a href="#infinitequeryobserver"><code class="language-text">InfiniteQueryObserver</code></a></li>
<li><a href="#queriesobserver"><code class="language-text">QueriesObserver</code></a></li>
<li><a href="#queryerrorresetboundary"><code class="language-text">QueryErrorResetBoundary</code></a></li>
<li><a href="#usequeryerrorresetboundary"><code class="language-text">useQueryErrorResetBoundary</code></a></li>
<li><a href="#focusmanager"><code class="language-text">focusManager</code></a></li>
<li><a href="#onlinemanager"><code class="language-text">onlineManager</code></a></li>
</ul>
</li>
</ul></nav></fieldset><button aria-label="toc" class="css-rojewr e1nnruu30"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"></path></svg></button></div></nav><style data-emotion="css 9r1qy5">.css-9r1qy5{width:calc(100% - 380px);}@media screen and (max-width: 1056px){.css-9r1qy5{width:100%;}}</style><article class="css-9r1qy5 e1qho98x2"><style data-emotion="css sh0wug">.css-sh0wug{line-height:1.5;}.css-sh0wug >div{margin-bottom:30px;}.css-sh0wug .e1lweznj0{color:hsl(0, 0%, 50%);font-size:0.875rem;}</style><div class="css-sh0wug evkig9s0"><style data-emotion="css aa0k2j">.css-aa0k2j{margin:0;font-size:3rem;}</style><h1 font-size="7" class="css-aa0k2j e1vfif620">[React] TanStack Query v5 (React Query) API 레퍼런스</h1><div><style data-emotion="css ds0ngy">.css-ds0ngy{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;margin-right:20px;}.css-ds0ngy >svg{margin-right:5px;}</style><span class="css-ds0ngy e1lweznj0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"></path></svg><span>2024년 01월 28일</span></span><style data-emotion="css hhxzgh">.css-hhxzgh{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;}.css-hhxzgh >svg{margin-right:5px;}</style><span class="css-hhxzgh e1lweznj0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"></path></svg><span>56<!-- -->분 소요</span></span></div><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2000px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1000&#x27; width=&#x27;2000&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#181828;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/4fda5f70bb7ed7df9c12d984bb68bb88/29f5b/tanstack-query-v5.webp 300w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/11ba1/tanstack-query-v5.webp 750w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/089e1/tanstack-query-v5.webp 1080w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/ad4fd/tanstack-query-v5.webp 1366w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/d8a73/tanstack-query-v5.webp 1920w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/a28c0/tanstack-query-v5.webp 2000w" sizes="(min-width: 2000px) 2000px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2000px) 2000px, 100vw" decoding="async" loading="lazy" data-src="/static/4fda5f70bb7ed7df9c12d984bb68bb88/f635c/tanstack-query-v5.png" data-srcset="/static/4fda5f70bb7ed7df9c12d984bb68bb88/a5da5/tanstack-query-v5.png 300w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/cadb4/tanstack-query-v5.png 750w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/feb73/tanstack-query-v5.png 1080w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/6032c/tanstack-query-v5.png 1366w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/3d4b2/tanstack-query-v5.png 1920w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/f635c/tanstack-query-v5.png 2000w" alt="포스트 배너"/></picture><noscript><picture><source type="image/webp" srcSet="/static/4fda5f70bb7ed7df9c12d984bb68bb88/29f5b/tanstack-query-v5.webp 300w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/11ba1/tanstack-query-v5.webp 750w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/089e1/tanstack-query-v5.webp 1080w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/ad4fd/tanstack-query-v5.webp 1366w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/d8a73/tanstack-query-v5.webp 1920w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/a28c0/tanstack-query-v5.webp 2000w" sizes="(min-width: 2000px) 2000px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2000px) 2000px, 100vw" decoding="async" loading="lazy" src="/static/4fda5f70bb7ed7df9c12d984bb68bb88/f635c/tanstack-query-v5.png" srcSet="/static/4fda5f70bb7ed7df9c12d984bb68bb88/a5da5/tanstack-query-v5.png 300w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/cadb4/tanstack-query-v5.png 750w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/feb73/tanstack-query-v5.png 1080w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/6032c/tanstack-query-v5.png 1366w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/3d4b2/tanstack-query-v5.png 1920w,/static/4fda5f70bb7ed7df9c12d984bb68bb88/f635c/tanstack-query-v5.png 2000w" alt="포스트 배너"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></div><style data-emotion="css y72cav">.css-y72cav img{display:block;max-width:100%;height:auto;width:auto;margin:0 auto;border-radius:10px;background-color:hsl(0, 0%, 100%);}.css-y72cav pre{border-radius:10px;}.css-y72cav:not(pre) code[class*='language-']{word-break:break-word;}.css-y72cav code .token{background:transparent;}.css-y72cav table{display:table;table-layout:fixed;width:100%;overflow-x:auto;border-collapse:collapse;border-spacing:0;border:1px solid hsl(0, 0%, 90%);border-radius:4px;}.css-y72cav table tr{vertical-align:top;}.css-y72cav table tr th,.css-y72cav table tr td{padding:6px 13px;border:1px solid hsl(0, 0%, 90%);}.css-y72cav h1,.css-y72cav h2,.css-y72cav h3,.css-y72cav h4,.css-y72cav h5{margin:2.5rem 0 1rem 0;line-height:1.5;}.css-y72cav h1 +h1,.css-y72cav h2 +h1,.css-y72cav h3 +h1,.css-y72cav h4 +h1,.css-y72cav h5 +h1,.css-y72cav h1 +h2,.css-y72cav h2 +h2,.css-y72cav h3 +h2,.css-y72cav h4 +h2,.css-y72cav h5 +h2,.css-y72cav h1 +h3,.css-y72cav h2 +h3,.css-y72cav h3 +h3,.css-y72cav h4 +h3,.css-y72cav h5 +h3,.css-y72cav h1 +h4,.css-y72cav h2 +h4,.css-y72cav h3 +h4,.css-y72cav h4 +h4,.css-y72cav h5 +h4,.css-y72cav h1 +h5,.css-y72cav h2 +h5,.css-y72cav h3 +h5,.css-y72cav h4 +h5,.css-y72cav h5 +h5{margin-top:1rem;}.css-y72cav h1{font-size:2.5rem;}.css-y72cav h2{font-size:2rem;}.css-y72cav h3{font-size:1.5rem;}.css-y72cav h4{font-size:1.25rem;}.css-y72cav h5{font-size:1rem;}.css-y72cav blockquote{margin:2rem 0;border:1px solid hsl(0, 0%, 90%);border-left:4px solid hsl(0, 0%, 50%);background:hsl(0, 0%, 98%);border-radius:4px;padding:1rem 1rem 1rem 2rem;}.css-y72cav blockquote h1,.css-y72cav blockquote h2,.css-y72cav blockquote h3,.css-y72cav blockquote h4,.css-y72cav blockquote h5{line-height:2;margin:1rem 0;}.css-y72cav blockquote h1:first-child,.css-y72cav blockquote h2:first-child,.css-y72cav blockquote h3:first-child,.css-y72cav blockquote h4:first-child,.css-y72cav blockquote h5:first-child{margin-top:0;}.css-y72cav blockquote p:first-child{margin-top:0;}.css-y72cav blockquote p:last-child{margin-bottom:0;}.css-y72cav p{margin:1rem 0;}.css-y72cav p >img{margin:2rem auto;}.css-y72cav ul{margin:0;}.css-y72cav #참고{margin-top:50px;margin-bottom:0;}.css-y72cav #참고 +ul{line-height:1.5;}.css-y72cav [data-language]{position:relative;}.css-y72cav [data-language]:before{position:absolute;top:0;right:0;padding:0 10px;font-size:0.75rem;}.css-y72cav [data-language='http']:before{content:'HTTP';}.css-y72cav [data-language='html']:before{content:'HTML';}.css-y72cav [data-language='js']:before{content:'JS';}.css-y72cav [data-language='jsx']:before{content:'JSX';}.css-y72cav [data-language='ts']:before{content:'TS';}.css-y72cav [data-language='tsx']:before{content:'TSX';}.css-y72cav [data-language='bash']:before{content:'BASH';}.css-y72cav [data-language='scss']:before{content:'SCSS';}.css-y72cav [data-language='json']:before{content:'JSON';}.css-y72cav [data-language='css']:before{content:'CSS';}</style><div class="css-y72cav egcbvbd0"><p>2023년 10월 TanStack Query v5가 정식 버전으로 릴리즈 되었습니다. 이번 포스터에서는 TanStack Query v5의 React Query를 멋있게 사용할 수 있도록 React Query의 API를 살펴보도록 하겠습니다.</p>
<h2 id="react-query-구조" style="position:relative;">React Query 구조<a href="#react-query-%EA%B5%AC%EC%A1%B0" aria-label="react query 구조 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>React Query의 API는 서로 연관이 있는 부분들이 많아, React Query의 구조를 이해하면 API의 역할을 이해하는데 많은 도움을 줄 수 있습니다. 아래 그림은 React Query의 구조를 간단하게 나타낸 그림입니다.</p>
<p><img src="/assets/img/posts/react/react_query_structure.png" alt="React Query 구조"></p>
<h2 id="react-query-api-레퍼런스" style="position:relative;">React Query API 레퍼런스<a href="#react-query-api-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4" aria-label="react query api 레퍼런스 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>React Query는 다양한 API를 제공해 줍니다. 그중 <code class="language-text">useQuery</code>, <code class="language-text">useMutation</code>, <code class="language-text">useQueryClient</code> 이 3개 훅은 자주 사용되기 때문에, 이 3개의 API는 자세히 살펴보는 것이 좋습니다.</p>
<h3 id="usequery" style="position:relative;"><code class="language-text">useQuery</code><a href="#usequery" aria-label="usequery permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useQuery</code>는 React Query에서 가장 많이 사용되는 훅 중 하나입니다. <code class="language-text">useQuery</code>를 통해 가져온 데이터는 캐시 됩니다. 또한 동일한 <code class="language-text">queryKey</code>를 사용하는 <code class="language-text">useQuery</code>가 동시에 여러 번 마운트 되면 최적화되어 한 번만 데이터를 요청합니다. <code class="language-text">useQuery</code>는 API 서버에서 HTTP의 GET 메서드로 데이터를 가져오는 작업을 할 때 주로 사용됩니다.</p>
<h4 id="타입-정보" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4" aria-label="타입 정보 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">,</span> dataUpdatedAt<span class="token punctuation">,</span> error<span class="token punctuation">,</span> errorUpdatedAt<span class="token punctuation">,</span>
  failureCount<span class="token punctuation">,</span> failureReason<span class="token punctuation">,</span> fetchStatus<span class="token punctuation">,</span>
  isError<span class="token punctuation">,</span> isFetched<span class="token punctuation">,</span> isFetchedAfterMount<span class="token punctuation">,</span>
  isFetching<span class="token punctuation">,</span> isInitialLoading<span class="token punctuation">,</span> isLoading<span class="token punctuation">,</span>
  isLoadingError<span class="token punctuation">,</span> isPaused<span class="token punctuation">,</span> isPending<span class="token punctuation">,</span>
  isPlaceholderData<span class="token punctuation">,</span> isRefetchError<span class="token punctuation">,</span>
  isRefetching<span class="token punctuation">,</span> isStale<span class="token punctuation">,</span> isSuccess<span class="token punctuation">,</span> refetch<span class="token punctuation">,</span>
  status<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  queryKey<span class="token punctuation">,</span> queryFn<span class="token punctuation">,</span> gcTime<span class="token punctuation">,</span> enabled<span class="token punctuation">,</span>
  networkMode<span class="token punctuation">,</span> initialData<span class="token punctuation">,</span>
  initialDataUpdatedAt<span class="token punctuation">,</span> meta<span class="token punctuation">,</span>
  notifyOnChangeProps<span class="token punctuation">,</span> placeholderData<span class="token punctuation">,</span>
  queryKeyHashFn<span class="token punctuation">,</span> refetchInterval<span class="token punctuation">,</span>
  refetchIntervalInBackground<span class="token punctuation">,</span>
  refetchOnMount<span class="token punctuation">,</span> refetchOnReconnect<span class="token punctuation">,</span>
  refetchOnWindowFocus<span class="token punctuation">,</span> retry<span class="token punctuation">,</span> retryOnMount<span class="token punctuation">,</span>
  retryDelay<span class="token punctuation">,</span> select<span class="token punctuation">,</span> staleTime<span class="token punctuation">,</span>
  structuralSharing<span class="token punctuation">,</span> throwOnError<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options" style="position:relative;">Options<a href="#options" aria-label="options permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">queryKey: unknown[]</code> (<strong>필수</strong>)
<ul>
<li>다른 쿼리와 구분될 수 있는 유니크한 키입니다. 이 값은 쿼리의 해시 키로 사용됩니다.</li>
<li>이 값이 변경되면 자동으로 데이터를 가져옵니다.</li>
</ul>
</li>
<li><code class="language-text">queryFn: (context: QueryFunctionContext) => Promise&lt;TData></code> (<strong>필수</strong>, 단 <code class="language-text">defaultOptions</code>에서 정의된 경우 생략 가능)
<ul>
<li>데이터를 요청하는 데 사용되는 함수입니다.</li>
<li>파라미터로 <code class="language-text">context</code>를 받습니다.
<ul>
<li><code class="language-text">context.queryKey: QueryKey</code>
<ul>
<li><code class="language-text">queryKey</code>로 전달한 값과 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context.signal?: AbortSignal</code>
<ul>
<li>네트워크 요청을 취소하기 위해 사용되는 <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal">AbortSignal</a> 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">context.meta: Recode&lt;string, unknown> | undefined</code>
<ul>
<li>쿼리에 대한 추가 정보가 담긴 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">Promise</code>를 반환해야 합니다. <code class="language-text">undefined</code>를 반환해서는 안됩니다.</li>
</ul>
</li>
<li><code class="language-text">enabled: boolean</code>
<ul>
<li><code class="language-text">false</code>으로 설정할 경우 쿼리는 자동으로 데이터를 가져오지 않습니다.</li>
</ul>
</li>
<li><code class="language-text">networkMode: 'online' | 'always' | 'offlineFirst</code> (default: <code class="language-text">online</code>)
<ul>
<li><code class="language-text">online</code>으로 설정할 경우 네트워크에 연결되어 있을 경우에 데이터를 요청합니다.</li>
<li><code class="language-text">always</code>로 설정할 경우 네트워크 상태와 상관없이 항상 데이터를 요청합니다.</li>
<li><code class="language-text">offlineFirst</code>로 설정할 경우 데이터를 한번 요청하고 재시도하지 않습니다. <a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Offline_Service_workers">offline-first PWA</a>나 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#the_cache-control_header">Cache-Control 헤더</a>로 요청을 캐싱하는 경우 유용한 옵션입니다. 요청을 캐싱하였기 때문에 오프라인에서도 요청은 성공할 수 있습니다. 만약 Cache Miss 되어 요청이 실패되면 <code class="language-text">online</code> 옵션처럼 동작하여 네트워크가 연결될 때까지 요청을 하지 않습니다.</li>
</ul>
</li>
<li><code class="language-text">retry: boolean | number | (failureCount: number, error: TError) => boolean</code> (default: CSR은 <code class="language-text">3</code>, SSR은 <code class="language-text">0</code>)
<ul>
<li><code class="language-text">false</code>로 설정할 경우 요청이 실패하면 재시도하지 않습니다.</li>
<li><code class="language-text">true</code>로 설정할 경우 요청이 실패하면 성공할 때까지 재시도합니다.</li>
<li><code class="language-text">number</code>형태로 설정할 경우 설정한 값만큼 요청이 실패하면 재시도합니다.</li>
<li>함수 형태로 설정할 경우 함수가 <code class="language-text">true</code>를 반환하면 재시도하고 <code class="language-text">false</code>를 반환하면 재시도하지 않습니다.
<ul>
<li><code class="language-text">failureCount: number</code>는 실패한 횟수를 나타냅니다.</li>
<li><code class="language-text">error: TError</code>는 에러 정보를 담고 있는 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">retryOnMount: boolean</code> (default: <code class="language-text">true</code>)
<ul>
<li><code class="language-text">false</code>로 설정할 경우 실패했던 쿼리가 다시 마운트 되면 데이터 요청을 재시도하지 않습니다.</li>
</ul>
</li>
<li><code class="language-text">retryDelay: number | (retryAttempt: number, error: TError) => number</code>
<ul>
<li><code class="language-text">number</code> 형태로 설정할 경우 설정한 ms 초 이후에 재시도합니다.</li>
<li>함수 형태로 설정할 경우 함수가 반환하는 ms 초 이후에 재시도합니다.
<ul>
<li><code class="language-text">retryAttempt: number</code>는 정수 값으로 아래와 같이 재시도할 시간을 계산하는 데 사용됩니다.
<ul>
<li><code class="language-text">attempt => Math.min(attempt > 1 ? 2 ** attempt * 1000 : 1000, 30 * 1000)</code></li>
<li><code class="language-text">attempt => attempt * 1000</code></li>
</ul>
</li>
<li><code class="language-text">error: TError</code>는 에러 정보를 담고 있는 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">staleTime: number | Infinity</code> (default: <code class="language-text">0</code>)
<ul>
<li>가져온 데이터가 오래된 것으로 판단하는 ms 초입니다. 오래된 데이터로 판단되면 쿼리는 새로운 값을 가져옵니다.</li>
<li><code class="language-text">Infinity</code>로 설정한 경우 오래된 데이터로 판단하지 않아 최초 1회만 데이터를 가져오게 됩니다.</li>
</ul>
</li>
<li><code class="language-text">gcTime: number | Infinity</code> (default: CSR은 <code class="language-text">5 * 60 * 1000</code>(5분), SSR은 <code class="language-text">Infinity</code>)
<ul>
<li>사용하지 않거나 비활성화된 캐시 데이터가 메모리에 남아 있는 ms 초입니다. 쿼리의 캐시가 사용되지 않거나 비활성화되면 이 ms 초가 지난 후에 가비지 컬렉션(Garbage Cllection)됩니다.</li>
<li><code class="language-text">Infinity</code>로 설정할 경우 가비지 켈렉션 되지 않아 캐시 데이터가 메모리에서 삭제되지 않습니다.</li>
</ul>
</li>
<li><code class="language-text">queryKeyHashFn: (queryKey: QueryKey) => string</code>
<ul>
<li><code class="language-text">queryKey</code>를 사용하여 해시 키를 만들어 반환하는 함수입니다. 반환된 값은 쿼리의 해시 키로 사용됩니다.</li>
</ul>
</li>
<li><code class="language-text">refetchInterval: number | false | ((query: Query) => number | false | undefined)</code>
<ul>
<li><code class="language-text">number</code> 형태로 설정할 경우 설정한 ms 초 이후에 데이터를 다시 가져옵니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 즉시 데이터를 다시 가져옵니다.</li>
<li>함수 형태로 설정할 경우 함수의 반환 값에 따라 데이터를 다시 가져옵니다.</li>
</ul>
</li>
<li><code class="language-text">refetchIntervalInBackground: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 <code class="language-text">refetchInterval</code>를 사용하여 계속 데이터를 다시 가져오게 설정된 쿼리라면 브라우저의 탭이나 창이 백그라운드에 있는 동안에도 계속 데이터를 다시 가져옵니다.</li>
</ul>
</li>
<li><code class="language-text">refetchOnMount: boolean | "always" | ((query: Query) => boolean | "always")</code> (default: <code class="language-text">true</code>)
<ul>
<li><code class="language-text">true</code>로 설정할 경우 데이터가 오래되었다면 쿼리가 마운트 되면 데이터를 다시 가져옵니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 쿼리가 마운트 될 때 데이터를 다시 가져오지 않습니다.</li>
<li><code class="language-text">always</code>로 설정할 경우 쿼리가 마운트 될 때 항상 데이터를 다시 가져옵니다.</li>
<li>함수 형태로 설정할 경우 함수의 반환 값에 따라 데이터를 다시 가져옵니다.</li>
</ul>
</li>
<li><code class="language-text">refetchOnReconnect: boolean | "always" | ((query: Query) => boolean | "always")</code> (default: <code class="language-text">true</code>)
<ul>
<li><code class="language-text">true</code>로 설정할 경우 네트워크가 다시 연결되면 데이터가 오래되었을 경우 데이터를 다시 가져옵니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 네트워크가 다시 연결되어도 데이터를 다시 가져오지 않습니다.</li>
<li><code class="language-text">always</code>로 설정할 경우 네트워크가 디시 연결되면 항상 데이터를 다시 가져옵니다.</li>
<li>함수 형태로 설정할 경우 함수의 반환 값에 따라 데이터를 다시 가져옵니다.</li>
</ul>
</li>
<li><code class="language-text">notifyOnChangeProps: string[] | "all" | (() => string[] | "all")</code>
<ul>
<li>쿼리의 반환 키 값을 배열로 전달합니다. 배열로 전달 한 키의 반환 값이 변경될 경우 컴포넌트가 재렌더링됩니다. 예를 들어, <code class="language-text">['data', 'error']</code>로 설정할 경우 <code class="language-text">data</code> 나 <code class="language-text">error</code>의 값이 변경되면 컴포넌트가 재랜더링됩니다.</li>
<li><code class="language-text">all</code>로 설정할 경우 쿼리의 반환 값 중 하나라도 값이 변경될 경우 컴포넌트가 재렌더링됩니다.</li>
<li>함수 형태로 설정할 경우 함수의 반환 값에 따라 컴포넌트가 재렌더링됩니다.</li>
</ul>
</li>
<li><code class="language-text">select: (data: TData) => unknown</code>
<ul>
<li><code class="language-text">queryFn</code> 함수에서 반환한 값을 가공할 때 사용되는 옵션입니다. 반환된 값이 <code class="language-text">data</code>에 담기지만 쿼리 캐시에는 영향을 주지 않습니다.</li>
</ul>
</li>
<li><code class="language-text">initialData: TData | () => TData</code>
<ul>
<li>쿼리가 생성되거나 캐시 되지 않은 경우 이 값은 캐시 되어, 쿼리의 초기 데이터로 사용됩니다.</li>
</ul>
</li>
<li><code class="language-text">initialDataUpdatedAt: number | (() => number | undefined)</code>
<ul>
<li><code class="language-text">initialData</code>가 마지막으로 업데이트된 시간(ms)으로 사용됩니다.</li>
</ul>
</li>
<li><code class="language-text">placeholderData: TData | (previousValue: TData | undefined; previousQuery: Query | undefined,) => TData</code>
<ul>
<li>이 값은 쿼리가 <code class="language-text">pending</code> 상태일 때 placeholder로 사용할 수 있는 데이터로 사용됩니다. 이 값은 쿼리 캐시에 영향을 주지 않습니다.</li>
<li>함수로 설정할 경우 함수의 첫 번째 파라미터는 이전에 가져온 쿼리 데이터이고 두 번째 파라미터는 이전에 완료된 쿼리 인스턴스입니다. 함수의 반환 값이 placeholder 데이터로 사용됩니다.</li>
<li><code class="language-text">initialData</code>와 함께 설정되어 있다면, <code class="language-text">initialData</code>가 더 높은 우선순위를 가집니다.</li>
</ul>
</li>
<li><code class="language-text">structuralSharing: boolean | (&lt;T>(oldData: T | undefined, newData: T) => T)</code> (default: <code class="language-text">true</code>)
<ul>
<li><code class="language-text">false</code>로 설정할 경우 쿼리가 가져온 데이터를 공유하지 않습니다.</li>
<li>함수로 설정할 경우 함수의 첫 번째 파라미터는 이전에 가져온 쿼리 데이터이고 두 번째 파라미터는 새 쿼리 데이터입니다. 이 함수는 이전 데이터의 참조를 최대한 유지하면서 새로운 데이터를 반환하는 것이 좋습니다. 함수에서 반환한 데이터가 <code class="language-text">data</code>로 사용됩니다.</li>
</ul>
</li>
<li><code class="language-text">throwOnError: undefined | boolean | (error: TError, query: Query) => boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 쿼리에서 에러가 발생할 경우 가장 가까운 에러 바운더리(Error Boundary)로 에러를 전파합니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 쿼리에서 에러가 발생해도 에러 바운더리로 에러를 전파하지 않습니다.</li>
<li>함수로 설정할 경우 첫 번째 파라미터로 에러 정보 두 번째 파라미터로 쿼리 정보가 담기고 이 값들로 에러 바운더리로 보낼지(<code class="language-text">true</code>) 말지(<code class="language-text">false</code>)를 결정하여 반환해야 합니다.</li>
</ul>
</li>
<li><code class="language-text">meta: Record&lt;string, unknown></code>
<ul>
<li>필요에 따라 쿼리 캐시에 저장할 수 있는 추가정보입니다. 이 값이 <code class="language-text">queryFn</code>의 <code class="language-text">context</code>의 <code class="language-text">meta</code>에 전달됩니다.</li>
</ul>
</li>
<li><code class="language-text">queryClient?: QueryClient</code>
<ul>
<li>커스텀한 쿼리 클라이언트를 지정할 수 있습니다. 이 값을 설정하지 않는다면 가장 가까운 콘텍스트의 쿼리 클라이언트가 사용됩니다.</li>
</ul>
</li>
</ul>
<blockquote>
<h5 id="placeholderdata-활용" style="position:relative;"><code class="language-text">placeholderData</code> 활용<a href="#placeholderdata-%ED%99%9C%EC%9A%A9" aria-label="placeholderdata 활용 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p>React Query V4에서는 <code class="language-text">keepPreviousData</code> 옵션으로 쿼리 키가 변경되어 새로운 데이터를 가져오는 동안에 이전 데이터를 유지하여 화면에 노출시킬 수 있었습니다. V5부터는 <code class="language-text">keepPreviousData</code> 옵션이 없어지고 아래 코드와 같이 <code class="language-text">placeholderData</code> 옵션이 그 기능을 대체합니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> keepPreviousData<span class="token punctuation">,</span> useQuery <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Todos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>page<span class="token punctuation">,</span> setPage<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchProjects</span> <span class="token operator">=</span> <span class="token punctuation">(</span>page <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/api/projects?page='</span> <span class="token operator">+</span> page<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=></span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    isPending<span class="token punctuation">,</span>
    isError<span class="token punctuation">,</span>
    error<span class="token punctuation">,</span>
    data<span class="token punctuation">,</span>
    isFetching<span class="token punctuation">,</span>
    isPlaceholderData<span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'projects'</span><span class="token punctuation">,</span> page<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">queryFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">fetchProjects</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">,</span>
    placeholderData<span class="token operator">:</span> keepPreviousData<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
</blockquote>
<blockquote>
<h5 id="structural-sharing를-통한-최적화" style="position:relative;">Structural Sharing를 통한 최적화<a href="#structural-sharing%EB%A5%BC-%ED%86%B5%ED%95%9C-%EC%B5%9C%EC%A0%81%ED%99%94" aria-label="structural sharing를 통한 최적화 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p>React Query는 새로운 데이터를 만들 때 가능한 한 기존의 데이터를 유지하려고 합니다. 아래 코드와 같이 응답받은 데이터가 있을 때,</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Learn React"</span><span class="token punctuation">,</span> <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"active"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Learn React Query"</span><span class="token punctuation">,</span> <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"todo"</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div>
<p>서버에서 <code class="language-text">id</code> 1에 대한 값이 업데이트되었다면, React Query는 아래 코드와 같이 모든 데이터를 교체하지 않고 변경된 값만 교체하여 기존의 데이터는 유지합니다.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">[</span>
  - <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Learn React"</span><span class="token punctuation">,</span> <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"active"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  + <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Learn React"</span><span class="token punctuation">,</span> <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"done"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Learn React Query"</span><span class="token punctuation">,</span> <span class="token property">"status"</span><span class="token operator">:</span> <span class="token string">"todo"</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div>
<p>React Query는 이전 데이터를 유지함으로 변경되지 않은 데이터를 사용하는 컴포넌트에서는 리렌더링이 발생하지 않도록 최적화합니다. 기존의 데이터를 유지하지 않고 항상 새로운 데이터로 사용하기 위해서는 <code class="language-text">structuralSharing</code> 옵션을 <code class="language-text">false</code>로 설정하면 됩니다.</p>
</blockquote>
<h5 id="returns" style="position:relative;">Returns<a href="#returns" aria-label="returns permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">status: 'pending' | 'error' | 'success'</code>
<ul>
<li><code class="language-text">pending</code>일 경우, 캐시 된 데이터가 없고 쿼리 시도가 아직 완료되지 않은 상태입니다.</li>
<li><code class="language-text">error</code>일 경우, 데이터를 가져올 때 에러가 발생한 상태입니다.</li>
<li><code class="language-text">success</code>일 경우, 데이터를 성공적으로 가져오거나, <code class="language-text">enabled</code>가 <code class="language-text">false</code>이면서 <code class="language-text">initialData</code>가 설정된 상태입니다.</li>
</ul>
</li>
<li><code class="language-text">isPending: boolean</code>
<ul>
<li><code class="language-text">status</code>가 <code class="language-text">pending</code>일 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isSuccess: boolean</code>
<ul>
<li><code class="language-text">status</code>가 <code class="language-text">success</code>일 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isError: boolean</code>
<ul>
<li><code class="language-text">status</code>가 <code class="language-text">error</code>일 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isLoadingError: boolean</code>
<ul>
<li>처음 데이터를 가져올 때 에러가 발생한 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isRefetchError: boolean</code>
<ul>
<li>데이터 다시 가져오기가 실패한 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">data: TData | undefined</code> (default: <code class="language-text">undefined</code>)
<ul>
<li>쿼리가 마지막으로 성공적으로 가져온 데이터입니다.</li>
</ul>
</li>
<li><code class="language-text">dataUpdatedAt: number</code>
<ul>
<li>데이터를 성공적으로 가져온 경우(<code class="language-text">status</code>가 <code class="language-text">success</code>일 때) 타임스탬프입니다.</li>
</ul>
</li>
<li><code class="language-text">error: null | TError</code> (default: <code class="language-text">null</code>)
<ul>
<li>쿼리에 에러가 발생한 경우 에러 정보를 담는 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">errorUpdatedAt: number</code>
<ul>
<li>가장 최근에 에러가 발생했을 경우(<code class="language-text">status</code>가 <code class="language-text">error</code>일 때) 타임스탬프입니다.</li>
</ul>
</li>
<li><code class="language-text">isStale: boolean</code>
<ul>
<li>캐시가 무효화 됐거나 <code class="language-text">staleTime</code>이 지나 데이터가 오래된 것으로 판단될 때 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isPlaceholderData: boolean</code>
<ul>
<li><code class="language-text">data</code> 값이 <code class="language-text">placeholderData</code>일 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isFetched: boolean</code>
<ul>
<li>쿼리가 데이터를 가져온 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isFetchedAfterMount: boolean</code>
<ul>
<li>컴포넌트가 마운트 된 후 쿼리가 데이터를 가져온 경우 <code class="language-text">true</code>입니다.</li>
<li>이전에 캐시 된 데이터를 사용하고 싶지 않을 때 사용될 수 있습니다.</li>
</ul>
</li>
<li><code class="language-text">fetchStatus: 'fetching' | 'paused' | 'idle'</code>
<ul>
<li><code class="language-text">fetching</code>일 경우, <code class="language-text">queryFn</code>이 실행 중이거나, 초기 <code class="language-text">status</code>가 <code class="language-text">pending</code> 상태이거나, 백그라운드에서 데이터를 가져오는 상태입니다.</li>
<li><code class="language-text">paused</code>일 경우, 쿼리가 데이터를 가져오려고 했지만 중지된 상태입니다. 대표적으로 네트워크가 끊겨 쿼리가 중지됐을 때 <code class="language-text">paused</code> 상태입니다.</li>
<li><code class="language-text">idle</code>일 경우, <code class="language-text">fetching</code> 상태도 <code class="language-text">paused</code> 상태도 아닌 상태입니다.</li>
</ul>
</li>
<li><code class="language-text">isFetching: boolean</code>
<ul>
<li><code class="language-text">fetchStatus</code>가 <code class="language-text">fetching</code>일 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isPaused: boolean</code>
<ul>
<li><code class="language-text">fetchStatus</code>가 <code class="language-text">paused</code>일 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isRefetching: boolean</code>
<ul>
<li>초기 <code class="language-text">pending</code> 상태가 아니며 백그라운드에서 데이터를 가져오는 중일 때 <code class="language-text">true</code>입니다.</li>
<li><code class="language-text">isFetching &amp;&amp; !isPending</code>와 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">isLoading: boolean</code>
<ul>
<li>쿼리가 처음으로 데이터를 가져오는 중일 때 <code class="language-text">true</code>입니다.</li>
<li><code class="language-text">isFetching &amp;&amp; isPending</code>와 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">failureCount: number</code>
<ul>
<li>쿼리가 데이터 가져오기를 실패한 횟수입니다. 쿼리가 성공적으로 데이터를 가져온 경우 <code class="language-text">0</code>으로 초기화됩니다.</li>
</ul>
</li>
<li><code class="language-text">failureReason: null | TError</code>
<ul>
<li>쿼리가 데이터를 가져오기 재시도를 실패했을 경우 에러 정보가 담깁니다. 쿼리가 성공적으로 데이터를 가져온 경우 <code class="language-text">null</code>로 초기화 됩니다.</li>
<li>예를 들어 <code class="language-text">retry</code>가 <code class="language-text">5</code>로 설정되어 있을 경우 쿼리가 데이터 가져오기 재시도를 실패하면 <code class="language-text">failureReason</code>에 에러 정보가 담깁니다. 5번의 재시도가 모두 실패할 경우 <code class="language-text">error</code> 객체에 에러 정보가 담기게 됩니다.</li>
</ul>
</li>
<li><code class="language-text">errorUpdateCount: number</code>
<ul>
<li>쿼리가 데이터 가져오기를 실패한 총횟수입니다.</li>
</ul>
</li>
<li><code class="language-text">refetch: (options: { throwOnError: boolean, cancelRefetch: boolean }) => Promise&lt;UseQueryResult></code>
<ul>
<li>수동으로 쿼리가 데이터를 다시 가져올 수 있게 하는 함수입니다.</li>
<li><code class="language-text">options.throwOnError: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 다시 가져오기가 실패하면 가장 가까운 에러 바운더리로 에러를 전파합니다.</li>
</ul>
</li>
<li><code class="language-text">options.cancelRefetch: boolean</code> (default: <code class="language-text">true</code>)
<ul>
<li><code class="language-text">true</code>로 설정할 경우 쿼리가 데이터를 가져오는 중일 경우 진행 중이던 요청을 취소하고 재요청합니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 쿼리가 데이터를 가져오는 중일 경우 데이터를 재요청하지 않습니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="예제" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C" aria-label="예제 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/zjfrnf?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useQuery"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="usequeries" style="position:relative;"><code class="language-text">useQueries</code><a href="#usequeries" aria-label="usequeries permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useQuery</code>와 동일하게 데이터를 가져오기 위해 사용되는 쿼리입니다. 여러 개의 <code class="language-text">useQuery</code>를 사용하고 싶을 경우 <code class="language-text">useQuery</code>를 여러 번 선언할 필요 없이 <code class="language-text">useQueries</code>로 대신할 수 있습니다.</p>
<h4 id="타입-정보-1" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-1" aria-label="타입 정보 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> ids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token function">useQueries</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  queries<span class="token operator">:</span> ids<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>id <span class="token operator">=></span> <span class="token punctuation">(</span>
    <span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'post'</span><span class="token punctuation">,</span> id<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function-variable function">queryFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">fetchPost</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> staleTime<span class="token operator">:</span> <span class="token number">Infinity</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-1" style="position:relative;">Options<a href="#options-1" aria-label="options 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">queries</code>
<ul>
<li><a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a> 중 <code class="language-text">queryClient</code>를 제외한 옵션을 사용할 쿼리 수만큼 배열에 담아 전달하면 됩니다. 또한 렌더링 할 때마다 호출해야 하는 쿼리의 수가 달라질 수 있기 때문에 <code class="language-text">placeholderData</code> 함수는 이전 데이터를 파라미터로 전달하지 않습니다.</li>
</ul>
</li>
<li><code class="language-text">queryClient?: QueryClient</code>
<ul>
<li>커스텀한 쿼리 클라이언트를 지정할 수 있습니다. 이 값을 설정하지 않는다면 가장 가까운 콘텍스트의 쿼리 클라이언트가 사용됩니다.</li>
</ul>
</li>
<li><code class="language-text">combine?: (result: UseQueriesResults) => TCombinedResult</code>
<ul>
<li>이 옵션을 사용하면 여러 쿼리의 결과 값을 단일 값으로 합칠 수 있습니다.</li>
</ul>
</li>
</ul>
<h5 id="returns-1" style="position:relative;">Returns<a href="#returns-1" aria-label="returns 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">useQueries</code> 훅의 반환 값은 <a href="/tech/react/tanstack-query-v5-api-reference/#returns"><code class="language-text">useQuery</code> 훅의 반환 값</a>과 동일한 값을 <code class="language-text">queries</code>에 선언한 쿼리 순서대로 배열 형태로 반환합니다.</p>
<h4 id="예제-1" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-1" aria-label="예제 1 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/gmvk2m?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useQueries"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="useinfinitequery" style="position:relative;"><code class="language-text">useInfiniteQuery</code><a href="#useinfinitequery" aria-label="useinfinitequery permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useInfiniteQuery</code> 훅 역시 <code class="language-text">useQuery</code>나 <code class="language-text">useQueries</code> 훅과 같이 데이터를 가져오기 위해 사용되는 쿼리입니다. 무한 스크롤을 통한 데이터 무한 로딩 등을 구현할 때 종종 사용되는 훅입니다.</p>
<h4 id="타입-정보-2" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-2" aria-label="타입 정보 2 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  fetchNextPage<span class="token punctuation">,</span>
  fetchPreviousPage<span class="token punctuation">,</span>
  hasNextPage<span class="token punctuation">,</span>
  hasPreviousPage<span class="token punctuation">,</span>
  isFetchingNextPage<span class="token punctuation">,</span>
  isFetchingPreviousPage<span class="token punctuation">,</span>
  <span class="token operator">...</span>result
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useInfiniteQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  queryKey<span class="token punctuation">,</span>
  <span class="token function-variable function">queryFn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> pageParam <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">fetchPage</span><span class="token punctuation">(</span>pageParam<span class="token punctuation">)</span><span class="token punctuation">,</span>
  initialPageParam<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>options<span class="token punctuation">,</span>
  <span class="token function-variable function">getNextPageParam</span><span class="token operator">:</span> <span class="token punctuation">(</span>lastPage<span class="token punctuation">,</span> allPages<span class="token punctuation">,</span> lastPageParam<span class="token punctuation">,</span> allPageParams<span class="token punctuation">)</span> <span class="token operator">=></span>
    lastPage<span class="token punctuation">.</span>nextCursor<span class="token punctuation">,</span>
  <span class="token function-variable function">getPreviousPageParam</span><span class="token operator">:</span> <span class="token punctuation">(</span>firstPage<span class="token punctuation">,</span> allPages<span class="token punctuation">,</span> firstPageParam<span class="token punctuation">,</span> allPageParams<span class="token punctuation">)</span> <span class="token operator">=></span>
    firstPage<span class="token punctuation">.</span>prevCursor<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-2" style="position:relative;">Options<a href="#options-2" aria-label="options 2 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">useInfiniteQuery</code> 훅의 옵션은 <a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>에 아래 목록의 옵션이 추가됩니다.</p>
<ul>
<li><code class="language-text">queryFn: (context: QueryFunctionContext) => Promise&lt;TData></code> (<strong>필수</strong>, 단 <code class="language-text">defaultOptions</code>에서 정의된 경우 생략 가능)
<ul>
<li><code class="language-text">useQuery</code>에서 사용하는 <code class="language-text">queryFn</code>와 동일하지만 <code class="language-text">context.pageParam: TPageParam</code>와 <code class="language-text">context.direction: 'forward' | 'backward'</code>를 추가로 사용할 수 있습니다.
<ul>
<li><code class="language-text">context.pageParam: TPageParam</code>
<ul>
<li>현재 페이지(현재 <code class="language-text">data</code>)를 가져오기 위해 사용된 파라미터입니다.</li>
</ul>
</li>
<li><code class="language-text">context.direction: 'forward' | 'backward'</code>
<ul>
<li>현재 페이지를 가져올 방향입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">initialPageParam: TPageParam</code> (<strong>필수</strong>)
<ul>
<li>첫 페이지를 가져올 때 사용할 파라미터입니다.</li>
</ul>
</li>
<li><code class="language-text">getNextPageParam: (lastPage, allPages, lastPageParam, allPageParams) => TPageParam | undefined | null</code> (<strong>필수</strong>)
<ul>
<li>최근 페이지(<code class="language-text">lastPage</code>), 모든 페이지(<code class="language-text">allPages</code>), 최근 파마리터(<code class="language-text">lastPageParam</code>), 모든 파라미터(<code class="language-text">allPageParams</code>) 이 데이터를 사용하여 다음 페이지를 가져오는 데 사용되는 파라미터를 반환해야 하는 함수입니다.</li>
<li><code class="language-text">undefined</code>나 <code class="language-text">null</code>을 반환할 경우 다음 페이지가 없는 것으로 판단합니다.</li>
</ul>
</li>
<li><code class="language-text">getPreviousPageParam: (firstPage, allPages, firstPageParam, allPageParams) => TPageParam | undefined | null</code>
<ul>
<li>최근 페이지(<code class="language-text">firstPage</code>), 모든 페이지(<code class="language-text">allPages</code>), 첫 파마리터(<code class="language-text">firstPageParam</code>), 모든 파라미터(<code class="language-text">allPageParams</code>) 이 데이터를 사용하여 이전 페이지를 가져오는 데 사용되는 파라미터를 반환해야 하는 함수입니다.</li>
<li><code class="language-text">undefined</code>나 <code class="language-text">null</code>을 반환할 경우 이전 페이지가 없는 것으로 판단합니다.</li>
</ul>
</li>
<li><code class="language-text">maxPages: number | undefined</code> (default: <code class="language-text">undefined</code>)
<ul>
<li><code class="language-text">data</code> 반환 값에 저장할 최대 페이지 수입니다.</li>
<li>최대 페이지 수에 도달하면 방향에 따라 첫 번째 또는 마지막 페이지가 제거됩니다.</li>
<li><code class="language-text">undefined</code>나 <code class="language-text">0</code>이 설정된 경우 저장할 수 있는 페이지 수의 제한이 없게 됩니다.</li>
</ul>
</li>
</ul>
<h5 id="returns-2" style="position:relative;">Returns<a href="#returns-2" aria-label="returns 2 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">useInfiniteQuery</code> 훅의 반환 값은 아래 목록을 제외하고 <code class="language-text">useQuery</code>의 반환 값과 동일합니다.</p>
<ul>
<li><code class="language-text">data.pages: TData[]</code>
<ul>
<li>모든 페이지의 데이터가 배열 형태로 저장됩니다.</li>
</ul>
</li>
<li><code class="language-text">data.pageParams: unknown[]</code>
<ul>
<li>페이지를 가져오기 위해 사용된 모든 파라미터 데이터가 배열 형태로 저장됩니다.</li>
</ul>
</li>
<li><code class="language-text">isFetchingNextPage: boolean</code>
<ul>
<li><code class="language-text">fetchNextPage</code> 함수로 다음 페이지를 가져오는 동안 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isFetchingPreviousPage: boolean</code>
<ul>
<li><code class="language-text">fetchPreviousPage</code> 함수로 이전 페이지를 가져오는 동안 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">fetchNextPage: (options?: FetchNextPageOptions) => Promise&lt;UseInfiniteQueryResult></code>
<ul>
<li>다음 페이지 데이터를 가져오는 함수입니다.</li>
<li><code class="language-text">options.cancelRefetch: boolean</code> (default: <code class="language-text">true</code>)
<ul>
<li><code class="language-text">true</code>로 설정할 경우 쿼리가 데이터를 가져오는 중일 경우 진행 중이던 요청을 취소하고 재요청합니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 쿼리가 데이터를 가져오는 중일 경우 데이터를 재요청하지 않습니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">fetchPreviousPage: (options?: FetchPreviousPageOptions) => Promise&lt;UseInfiniteQueryResult></code>
<ul>
<li>이전 페이지 데이터를 가져오는 함수입니다.</li>
<li><code class="language-text">options.cancelRefetch: boolean</code> (default: <code class="language-text">true</code>)
<ul>
<li><code class="language-text">fetchNextPage</code>의 <code class="language-text">options.cancelRefetch: boolean</code>와 동일합니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">hasNextPage: boolean</code>
<ul>
<li>다음 페이지가 있는 경우 <code class="language-text">true</code>입니다.</li>
<li>다음 페이지가 없는 경우, 즉 <code class="language-text">getNextPageParam</code> 함수가 <code class="language-text">undefined</code>나 <code class="language-text">null</code>을 반환할 경우 <code class="language-text">false</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">hasPreviousPage: boolean</code>
<ul>
<li>이전 페이지가 있는 경우 <code class="language-text">true</code>입니다.</li>
<li>이전 페이지가 없는 경우, 즉 <code class="language-text">getPreviousPageParam</code> 함수가 <code class="language-text">undefined</code>나 <code class="language-text">null</code>을 반환할 경우 <code class="language-text">false</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isRefetching: boolean</code>
<ul>
<li>초기 <code class="language-text">pending</code>, 다음/이전 데이터를 가져오는 중을 제외하고 백그라운드에서 데이터를 가져오는 중일 경우 <code class="language-text">true</code>입니다.</li>
<li><code class="language-text">isFetching &amp;&amp; !isPending &amp;&amp; !isFetchingNextPage &amp;&amp; !isFetchingPreviousPage</code>와 동일한 값입니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-2" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-2" aria-label="예제 2 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/m9sfx3?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useInfiniteQuery"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="usemutation" style="position:relative;"><code class="language-text">useMutation</code><a href="#usemutation" aria-label="usemutation permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useMutation</code> 역시 React Query에서 가장 많이 사용되는 훅 중 하나입니다. <code class="language-text">useMutation</code>은 API 서버에 데이터를 저장하거나 업데이트, 삭제 하는 등의 데이터에 영향을 주는 HTTP의 POST, PUT, DELETE 메서드에 주로 사용됩니다.</p>
<h4 id="타입-정보-3" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-3" aria-label="타입 정보 3 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  data<span class="token punctuation">,</span> error<span class="token punctuation">,</span> isError<span class="token punctuation">,</span> isIdle<span class="token punctuation">,</span>
  isPending<span class="token punctuation">,</span> isPaused<span class="token punctuation">,</span> isSuccess<span class="token punctuation">,</span>
  failureCount<span class="token punctuation">,</span> failureReason<span class="token punctuation">,</span>
  mutate<span class="token punctuation">,</span> mutateAsync<span class="token punctuation">,</span> reset<span class="token punctuation">,</span>
  status<span class="token punctuation">,</span> submittedAt<span class="token punctuation">,</span> variables<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMutation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mutationFn<span class="token punctuation">,</span> gcTime<span class="token punctuation">,</span>
  mutationKey<span class="token punctuation">,</span> networkMode<span class="token punctuation">,</span>
  onError<span class="token punctuation">,</span> onMutate<span class="token punctuation">,</span> onSettled<span class="token punctuation">,</span>
  onSuccess<span class="token punctuation">,</span> retry<span class="token punctuation">,</span> retryDelay<span class="token punctuation">,</span>
  throwOnError<span class="token punctuation">,</span> meta<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">mutate</span><span class="token punctuation">(</span>variables<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  onError<span class="token punctuation">,</span>
  onSettled<span class="token punctuation">,</span>
  onSuccess<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-3" style="position:relative;">Options<a href="#options-3" aria-label="options 3 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">mutationFn: (variables: TVariables) => Promise&lt;TData></code> (<strong>필수</strong>, 단 <code class="language-text">defaultOptions</code>에서 정의된 경우 생략 가능)
<ul>
<li>비동기 작업을 수행하고 <code class="language-text">Promise</code>를 반환하는 함수입니다.</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li>반환 값인 <code class="language-text">mutate</code> 함수를 호출할 때 전달되는 파라미터입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">gcTime: number | Infinity</code>
<ul>
<li><code class="language-text">useQuery</code>의 <code class="language-text">gcTime</code>과 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">mutationKey: unknown[]</code>
<ul>
<li>다른 Mutation과 구분될 수 있는 유니크한 키입니다. 쿼리의 <code class="language-text">queryKey</code>와는 다르게 필수값이 아닙니다.</li>
</ul>
</li>
<li><code class="language-text">networkMode: 'online' | 'always' | 'offlineFirst</code> (default: <code class="language-text">online</code>)
<ul>
<li><code class="language-text">useQuery</code>의 <code class="language-text">networkMode</code>과 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">onMutate: (variables: TVariables) => Promise&lt;TContext | void> | TContext | void</code>
<ul>
<li><code class="language-text">mutationFn</code>이 실행되기 전에 실행됩니다.</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutationFn</code> 함수의 파라미터와 동일한 값을 파라미터로 전달받습니다.</li>
</ul>
</li>
<li><code class="language-text">onMutate</code> 함수는 <a href="/tech/react/tanstack-query-v4/#%EC%BF%BC%EB%A6%AC-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8">낙관적 업데이트(optimistic updates)</a>에 사용하기 유용합니다. 반환 값은 <code class="language-text">onError</code>와 <code class="language-text">onSettled</code> 함수에 전달되어 mutation 실패 시 낙관적 업데이트를 롤백할 때 사용할 수 있습니다.
<ul>
<li>낙관적 업데이트란 mutation이 성공할 것이라 판단하여 수정된 결과를 응답받기 전, 요청한 데이터를 사용하여 업데이트하는 것을 말합니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onSuccess: (data: TData, variables: TVariables, context?: TContext) => Promise&lt;unknown> | unknown</code>
<ul>
<li><code class="language-text">mutaionFn</code>이 성공할 경우 실행됩니다.</li>
<li><code class="language-text">Promise</code>를 반환한 경우 <code class="language-text">resolved</code> 될 때까지 이후 작업(<code class="language-text">onSettled</code>, <code class="language-text">mutate</code> 함수의 <code class="language-text">onSuccess</code>와 <code class="language-text">onError</code>, <code class="language-text">onSettled</code> 콜백 함수 등)들이 진행되지 않습니다.</li>
<li><code class="language-text">data: TData</code>
<ul>
<li><code class="language-text">mutationFn</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutate</code> 함수에 전달한 <code class="language-text">variables</code> 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context?: TContext</code>
<ul>
<li><code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onError: (err: TError, variables: TVariables, context?: TContext) => Promise&lt;unknown> | unknown</code>
<ul>
<li><code class="language-text">mutationFn</code>에서 에러가 발생할 경우 실행됩니다.</li>
<li><code class="language-text">Promise</code>를 반환한 경우 <code class="language-text">resolved</code> 될 때까지 이후 작업(<code class="language-text">onSettled</code>, <code class="language-text">mutate</code> 함수의 <code class="language-text">onSuccess</code>와 <code class="language-text">onError</code>, <code class="language-text">onSettled</code> 콜백 함수 등)들이 진행되지 않습니다.</li>
<li><code class="language-text">err: TError</code>
<ul>
<li>발생한 에러 정보입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutate</code> 함수에 전달한 <code class="language-text">variables</code> 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context?: TContext</code>
<ul>
<li><code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onSettled: (data: TData, error: TError, variables: TVariables, context?: TContext) => Promise&lt;unknown> | unknown</code>
<ul>
<li><code class="language-text">mutationFn</code>이 성공하거나 실패할 경우 실행됩니다.</li>
<li><code class="language-text">Promise</code>를 반환한 경우 <code class="language-text">resolved</code> 될 때까지 이후 작업(<code class="language-text">mutate</code> 함수의 <code class="language-text">onSuccess</code>와 <code class="language-text">onError</code>, <code class="language-text">onSettled</code> 콜백 함수 등)들이 진행되지 않습니다.</li>
<li><code class="language-text">data: TData</code>
<ul>
<li><code class="language-text">mutaionFn</code>이 성공할 경우 <code class="language-text">mutaionFn</code>의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">err: TError</code>
<ul>
<li><code class="language-text">mutaionFn</code>이 실패할 경우 발생한 에러 정보입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutate</code> 함수에 전달한 <code class="language-text">variables</code> 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context?: TContext</code>
<ul>
<li><code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">retry: boolean | number | (failureCount: number, error: TError) => boolean</code> (default: <code class="language-text">0</code>)
<ul>
<li><code class="language-text">useQuery</code>의 <code class="language-text">retry</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">retryDelay: number | (retryAttempt: number, error: TError) => number</code>
<ul>
<li><code class="language-text">useQuery</code>의 <code class="language-text">retryDelay</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">throwOnError: undefined | boolean | (error: TError) => boolean</code>
<ul>
<li><code class="language-text">useQuery</code>의 <code class="language-text">throwOnError</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">meta: Record&lt;string, unknown></code>
<ul>
<li>필요에 따라 Mutation 캐시에 저장할 수 있는 추가정보입니다. <code class="language-text">MutationCache</code>의 <code class="language-text">onError</code>, <code class="language-text">onSuccess</code>와 같이 <code class="language-text">mutation</code>을 사용할 수 있다면 <code class="language-text">meta</code>를 사용할 수 있습니다.</li>
</ul>
</li>
<li><code class="language-text">queryClient?: QueryClient</code>
<ul>
<li><code class="language-text">useQuery</code>의 <code class="language-text">queryClient</code>와 동일합니다.</li>
</ul>
</li>
</ul>
<h5 id="returns-3" style="position:relative;">Returns<a href="#returns-3" aria-label="returns 3 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">mutate: (variables: TVariables, { onSuccess, onSettled, onError }) => void</code>
<ul>
<li>변경할 데이터를 파라미터로 전달하여 데이터 변경을 수행하는 함수입니다. 두 번째 파라미터는 옵션 정보로, 콜백 함수를 정의할 수 있습니다.</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutationFn</code>의 <code class="language-text">variables</code> 파라미터로 전달됩니다.</li>
</ul>
</li>
<li><code class="language-text">onSuccess: (data: TData, variables: TVariables, context: TContext) => void</code>
<ul>
<li>Mutation이 성공했을 때 호출되는 콜백함수입니다.</li>
<li><code class="language-text">data: TData</code>
<ul>
<li><code class="language-text">mutationFn</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutate</code> 함수에 전달한 <code class="language-text">variables</code> 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context: TContext</code>
<ul>
<li><code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onError: (err: TError, variables: TVariables, context: TContext | undefined) => void</code>
<ul>
<li>Mutation이 실패했을 때 호출되는 콜백함수입니다.</li>
<li><code class="language-text">err: TError</code>
<ul>
<li><code class="language-text">mutaionFn</code>이 실패할 경우 발생한 에러 정보입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutate</code> 함수에 전달한 <code class="language-text">variables</code> 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context: TContext | undefined</code>
<ul>
<li><code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onSettled: (data: TData | undefined, error: TError | null, variables: TVariables, context: TContext | undefined) => void</code>
<ul>
<li>Mutation이 성공하거나 실패할 경우 실행됩니다.</li>
<li><code class="language-text">data: TData | undefined</code>
<ul>
<li><code class="language-text">mutaionFn</code>이 성공할 경우 <code class="language-text">mutaionFn</code>의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">error: TError | null</code>
<ul>
<li><code class="language-text">mutaionFn</code>이 실패할 경우 발생한 에러 정보입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: TVariables</code>
<ul>
<li><code class="language-text">mutate</code> 함수에 전달한 <code class="language-text">variables</code> 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context: TContext | undefined</code>
<ul>
<li><code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">mutateAsync: (variables: TVariables, { onSuccess, onSettled, onError }) => Promise&lt;TData></code>
<ul>
<li><code class="language-text">mutate</code> 함수와 동일한 기능을 하는 async 함수입니다.</li>
</ul>
</li>
<li><code class="language-text">status: 'idle' | 'pending' | 'error' | 'success'</code>
<ul>
<li><code class="language-text">idle</code>인 경우, Mutation 함수가 실행되기 전 상태입니다.</li>
<li><code class="language-text">pending</code>인 경우, Mutation 함수가 실행 중인 상태입니다.</li>
<li><code class="language-text">error</code> 인 경우, Mutation 함수에서 에러가 발생한 상태입니다.</li>
<li><code class="language-text">success</code>인 경우, Mutation 함수가 성공한 상태입니다.</li>
</ul>
</li>
<li><code class="language-text">isIdle: boolean</code>
<ul>
<li><code class="language-text">status</code>가 <code class="language-text">idle</code>인 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isPending: boolean</code>
<ul>
<li><code class="language-text">status</code>가 <code class="language-text">pending</code>인 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isError: boolean</code>
<ul>
<li><code class="language-text">status</code>가 <code class="language-text">error</code>인 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isSuccess: boolean</code>
<ul>
<li><code class="language-text">status</code>가 <code class="language-text">success</code>인 경우 <code class="language-text">true</code>입니다.</li>
</ul>
</li>
<li><code class="language-text">isPaused: boolean</code>
<ul>
<li>Mutation이 중지된 상태입니다. 대표적으로 네트워크가 끊겨 Mutation이 중지됐을 때 <code class="language-text">paused</code> 상태입니다.</li>
</ul>
</li>
<li><code class="language-text">data: undefined | unknown</code> (default: <code class="language-text">undefined</code>)
<ul>
<li>가장 최근에 성공한 Mutation의 반환 값을 담습니다.</li>
</ul>
</li>
<li><code class="language-text">error: null | TError</code>
<ul>
<li>Mutation이 실패했을 경우 에러 정보가 담긴 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">reset: () => void</code>
<ul>
<li>Mutation의 상태를 초기화하는 함수입니다.</li>
</ul>
</li>
<li><code class="language-text">failureReason: null | TError</code>
<ul>
<li>Mutation 재시도를 실패했을 경우 에러 정보가 담깁니다. Mutation이 성공한 경우 <code class="language-text">null</code>로 초기화 됩니다.</li>
</ul>
</li>
<li><code class="language-text">submittedAt: number</code> (default: <code class="language-text">0</code>)
<ul>
<li>Mutation이 실행된 시점의 타입스탬프입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: undefined | TVariables</code> (default: <code class="language-text">undefined</code>)
<ul>
<li><code class="language-text">mutationFn</code> 함수의 파라미터로 전달된 <code class="language-text">variables</code> 값입니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-3" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-3" aria-label="예제 3 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/7cjzgh?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useMutation"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="useisfetching" style="position:relative;"><code class="language-text">useIsFetching</code><a href="#useisfetching" aria-label="useisfetching permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useIsFetching</code> 훅은 데이터를 가져오는 중인 쿼리의 수를 반환합니다.</p>
<h4 id="타입-정보-4" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-4" aria-label="타입 정보 4 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useIsFetching <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>
<span class="token comment">// How many queries are fetching?</span>
<span class="token keyword">const</span> isFetching <span class="token operator">=</span> <span class="token function">useIsFetching</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// How many queries matching the posts prefix are fetching?</span>
<span class="token keyword">const</span> isFetchingPosts <span class="token operator">=</span> <span class="token function">useIsFetching</span><span class="token punctuation">(</span><span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'posts'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-4" style="position:relative;">Options<a href="#options-4" aria-label="options 4 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">filters?: QueryFilters</code>
<ul>
<li><code class="language-text">filters.queryKey?: QueryKey</code>
<ul>
<li>찾으려고 하는 쿼리의 쿼리 키입니다.</li>
</ul>
</li>
<li><code class="language-text">filters.exact?: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 정확히 일치하는 쿼리를 찾습니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 설정한 <code class="language-text">filters.queryKey</code>가 포함되는 쿼리를 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.type?: 'active' | 'inactive' | 'all'</code> (default: <code class="language-text">all</code>)
<ul>
<li><code class="language-text">active</code>로 설정할 경우 활성화된 쿼리 중에 찾습니다.</li>
<li><code class="language-text">inactive</code>로 설정할 경우 비활성화된 쿼리 중에 찾습니다.</li>
<li><code class="language-text">all</code>로 설정할 경우 모든 쿼리 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.stale?: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 오래된(stale) 쿼리 중에 찾습니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 신선한(fresh) 쿼리 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.fetchStatus?: 'fetching' | 'paused' | 'idle'</code>
<ul>
<li><code class="language-text">fetching</code>으로 설정할 경우 가져오는 중인 쿼리 중에 찾습니다.</li>
<li><code class="language-text">paused</code>로 설정할 경우 데이터를 가져오려고 했지만 일시 중단된 쿼리 중에 찾습니다.</li>
<li><code class="language-text">idle</code>로 설정할 경우 데이터를 가져온 적이 없는 쿼리 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.predicate?: (query: Query) => boolean</code>
<ul>
<li>최종 필터로 사용되는 함수입니다. 다른 필터를 정의하지 않으면 모든 쿼리 중에 찾습니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">queryClient?: QueryClient</code>
<ul>
<li>커스텀한 쿼리 클라이언트를 지정할 수 있습니다. 이 값을 설정하지 않는다면 가장 가까운 콘텍스트의 쿼리 클라이언트가 사용됩니다.</li>
</ul>
</li>
</ul>
<h5 id="returns-4" style="position:relative;">Returns<a href="#returns-4" aria-label="returns 4 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">isFetching: number</code>
<ul>
<li>데이터를 가져오는 중인 쿼리의 수입니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-4" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-4" aria-label="예제 4 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/cq2gkp?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useIsFetching"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="useismutating" style="position:relative;"><code class="language-text">useIsMutating</code><a href="#useismutating" aria-label="useismutating permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useIsMutating</code> 훅은 Mutation 중인 수를 반환합니다.</p>
<h4 id="타입-정보-5" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-5" aria-label="타입 정보 5 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useIsMutating <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>
<span class="token comment">// How many mutations are fetching?</span>
<span class="token keyword">const</span> isMutating <span class="token operator">=</span> <span class="token function">useIsMutating</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// How many mutations matching the posts prefix are fetching?</span>
<span class="token keyword">const</span> isMutatingPosts <span class="token operator">=</span> <span class="token function">useIsMutating</span><span class="token punctuation">(</span><span class="token punctuation">{</span> mutationKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'posts'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-5" style="position:relative;">Options<a href="#options-5" aria-label="options 5 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">filters?: MutationFilters</code>
<ul>
<li><code class="language-text">filters.mutationKey?: MutationKey</code>
<ul>
<li>찾으려고 하는 Mutation의 키입니다.</li>
</ul>
</li>
<li><code class="language-text">filters.exact?: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 정확히 일치하는 Mutation을 찾습니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 설정한 <code class="language-text">filters.mutationKey</code>가 포함되는 Mutation을 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.status?: 'idle' | 'pending' | 'error' | 'success'</code>
<ul>
<li><code class="language-text">idle</code>인 경우 실행되기 전인 Mutation 중에 찾습니다.</li>
<li><code class="language-text">pending</code>인 경우 실행 중인 Mutation 중에 찾습니다.</li>
<li><code class="language-text">error</code> 인 경우 에러가 발생한 Mutation 중에 찾습니다.</li>
<li><code class="language-text">success</code>인 경우 성공한 Mutation 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.predicate?: (mutation: Mutation) => boolean</code>
<ul>
<li>최종 필터로 사용되는 함수입니다. 다른 필터를 정의하지 않으면 모든 Mutation 중에 찾습니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">queryClient?: QueryClient</code>
<ul>
<li>커스텀한 쿼리 클라이언트를 지정할 수 있습니다. 이 값을 설정하지 않는다면 가장 가까운 콘텍스트의 쿼리 클라이언트가 사용됩니다.</li>
</ul>
</li>
</ul>
<h5 id="returns-5" style="position:relative;">Returns<a href="#returns-5" aria-label="returns 5 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">isMutating: number</code>
<ul>
<li>Mutation 중인 숫자입니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-5" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-5" aria-label="예제 5 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/rzm4tc?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useIsMutating"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="querycache" style="position:relative;"><code class="language-text">QueryCache</code><a href="#querycache" aria-label="querycache permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">QueryCache</code>는 쿼리를 저장하는 저장소입니다. 쿼리에 포함된 데이터, 메타 정보, 쿼리의 상태가 저장됩니다. 보통 아래 코드와 같이 QueryClient에 정의하고, <code class="language-text">useQueryClient</code>의 <code class="language-text">getQueryCache</code>를 통해 가져와 사용합니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  queryCache<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">QueryCache</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 옵션 설정</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token function">useQueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> queryCache <span class="token operator">=</span> queryClient<span class="token punctuation">.</span><span class="token function">getQueryCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">QueryClientProvider</span></span> <span class="token attr-name">client</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>queryClient<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">QueryClientProvider</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4 id="타입-정보-6" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-6" aria-label="타입 정보 6 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> QueryCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> queryCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryCache</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">onError</span><span class="token operator">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onSettled</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span> error<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-6" style="position:relative;">Options<a href="#options-6" aria-label="options 6 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">QueryCache</code>의 옵션들은 모두 콜백함수입니다. 전역에서 처리해야 할 적업을 할 때 사용할 수 있습니다.</p>
<ul>
<li><code class="language-text">onError?: (error: unknown, query: Query) => void</code>
<ul>
<li>실행한 쿼리에 에러가 발생할 경우 호출되는 콜백함수입니다.</li>
<li><code class="language-text">error: unknown</code>
<ul>
<li>발생한 에러 정보가 담긴 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">query: Query</code>
<ul>
<li>실행한 쿼리 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onSuccess?: (data: unknown, query: Query) => void</code>
<ul>
<li>실행한 쿼리가 성공하면 호출되는 콜백함수입니다.</li>
<li><code class="language-text">data: unknown</code>
<ul>
<li><code class="language-text">queryFn</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">query: Query</code>
<ul>
<li>실행한 쿼리 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onSettled?: (data: unknown | undefined, error: unknown | null, query: Query) => void</code>
<ul>
<li>실행한 쿼리가 성공 혹은 실패하여 종료되면 호출되는 콜백함수입니다.</li>
<li><code class="language-text">data: unknown | undefined</code>
<ul>
<li>쿼리가 성공한 경우 <code class="language-text">queryFn</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">error: unknown | null</code>
<ul>
<li>쿼리가 실패한 경우 발생한 에러 정보가 담긴 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">query: Query</code>
<ul>
<li>실행한 쿼리 객체입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<h5 id="queryclient의-defaultoptions와-querycache의-옵션의-차이" style="position:relative;"><code class="language-text">QueryClient</code>의 <code class="language-text">defaultOptions</code>와 <code class="language-text">QueryCache</code>의 옵션의 차이<a href="#queryclient%EC%9D%98-defaultoptions%EC%99%80-querycache%EC%9D%98-%EC%98%B5%EC%85%98%EC%9D%98-%EC%B0%A8%EC%9D%B4" aria-label="queryclient의 defaultoptions와 querycache의 옵션의 차이 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">defaultOpions</code>의 콜백함수들은 각각의 쿼리를 호출할 때 오버라이드될 수 있습니다. <code class="language-text">QueryCache</code>의 전역 콜백함수들은 항상 호출됩니다.</li>
<li><code class="language-text">defaultOpions</code>의 콜백함수들은 각각의 옵저버에서 한 번씩 호출되지만, <code class="language-text">QueryCache</code>의 전역 콜백함수들은 한 번만 호출됩니다.
<ul>
<li>예를 들어 <code class="language-text">useQuery({ queryKey: ['posts'] })</code>와 같이 동일한 쿼리가 부모, 자식 컴포넌트 각각에 2번 선언되었다면 <code class="language-text">defaultOpions</code>의 콜백함수는 2번 호출되지만, <code class="language-text">QueryCache</code>의 전역 콜백함수는 한 번만 호출됩니다.</li>
</ul>
</li>
</ul>
</blockquote>
<h5 id="returns-6" style="position:relative;">Returns<a href="#returns-6" aria-label="returns 6 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">find: (filters: QueryFilters) => Query | undefined</code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리를 반환하는 함수입니다. 해당하는 쿼리가 없을 경우 <code class="language-text">undefined</code>를 반환합니다.</li>
<li><code class="language-text">filters?: QueryFilters</code>
<ul>
<li><code class="language-text">filters.queryKey?: QueryKey</code>
<ul>
<li>찾으려고 하는 쿼리의 쿼리 키입니다.</li>
</ul>
</li>
<li><code class="language-text">filters.exact?: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 정확히 일치하는 쿼리를 찾습니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 설정한 <code class="language-text">filters.queryKey</code>가 포함되는 쿼리를 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.type?: 'active' | 'inactive' | 'all'</code> (default: <code class="language-text">all</code>)
<ul>
<li><code class="language-text">active</code>로 설정할 경우 활성화된 쿼리 중에 찾습니다.</li>
<li><code class="language-text">inactive</code>로 설정할 경우 비활성화된 쿼리 중에 찾습니다.</li>
<li><code class="language-text">all</code>로 설정할 경우 모든 쿼리 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.stale?: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 오래된(stale) 쿼리 중에 찾습니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 신선한(fresh) 쿼리 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.fetchStatus?: 'fetching | 'paused' | 'idle'</code>
<ul>
<li><code class="language-text">fetching</code>으로 설정할 경우 가져오는 중인 쿼리 중에 찾습니다.</li>
<li><code class="language-text">paused</code>로 설정할 경우 데이터를 가져오려고 했지만 일시 중단된 쿼리 중에 찾습니다.</li>
<li><code class="language-text">idle</code>로 설정할 경우 데이터를 가져온 적이 없는 쿼리 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.predicate?: (query: Query) => boolean</code>
<ul>
<li>최종 필터로 사용되는 함수입니다. 다른 필터를 정의하지 않으면 모든 쿼리 중에 찾습니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">findAll: (filters: QueryFilters) => Query[]</code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리를 배열 형태로 반환하는 함수입니다. 해당하는 쿼리가 없을 경우 `빈 배열을 반환합니다.</li>
<li><code class="language-text">find</code> 함수의 <code class="language-text">filters</code>와 동일한 값을 파라미터로 전달받습니다.</li>
</ul>
</li>
<li><code class="language-text">subscribe: (callback: (event: QueryCacheNotifyEvent) => void) => unsubscribe: Function => void</code>
<ul>
<li>쿼리 캐시를 구독합니다. <code class="language-text">query.setState</code>나 <code class="language-text">queryClient.removeQueries</code> 등 쿼리가 업데이트될 때마다 업데이트된 쿼리를 파라미터로 하여 <code class="language-text">callback</code> 함수가 호출됩니다.</li>
<li>구독을 취소하는 함수인 <code class="language-text">unsubscribe</code>를 반환합니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">,</span> event<span class="token punctuation">.</span>query<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> queryCache<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">clear: () => void</code>
<ul>
<li>쿼리 캐시를 모두 지우는 데 사용되는 함수입니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-6" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-6" aria-label="예제 6 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/5vcsmr?view=Editor+%2B+Preview&module=%2Fsrc%2Findex.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="QueryCache"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="mutationcache" style="position:relative;"><code class="language-text">MutationCache</code><a href="#mutationcache" aria-label="mutationcache permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">MutationCache</code>는 Mutation을 저장하는 저장소입니다. 보통 아래 코드와 같이 <code class="language-text">QueryClient</code>에 정의하고, <code class="language-text">useQueryClient</code>의 <code class="language-text">getMutationCache</code>를 통해 가져와 사용합니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mutationCache<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">MutationCache</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 옵션 설정</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token function">useQueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> mutationCache <span class="token operator">=</span> queryClient<span class="token punctuation">.</span><span class="token function">getMutationCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">QueryClientProvider</span></span> <span class="token attr-name">client</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>queryClient<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">QueryClientProvider</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4 id="타입-정보-7" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-7" aria-label="타입 정보 7 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> MutationCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> mutationCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationCache</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">onError</span><span class="token operator">:</span> error <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onSuccess</span><span class="token operator">:</span> data <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-7" style="position:relative;">Options<a href="#options-7" aria-label="options 7 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">MutationCache</code>의 옵션들은 모두 콜백함수입니다. 전역에서 처리해야 할 적업을 할 때 사용할 수 있습니다.</p>
<ul>
<li><code class="language-text">onError?: (error: unknown, variables: unknown, context: unknown, mutation: Mutation) => Promise&lt;unknown> | unknown</code>
<ul>
<li>실행한 Mutation에 에러가 발생할 경우 호출되는 콜백함수입니다. <code class="language-text">Promise</code>를 반환할 경우 <code class="language-text">resolved</code> 될 때까지 이후 작업들이 진행되지 않습니다.</li>
<li><code class="language-text">error: unknown</code>
<ul>
<li>발생한 에러 정보가 담긴 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: unknown</code>
<ul>
<li><code class="language-text">mutate</code>(또는 <code class="language-text">mutateAsync</code>) 함수의 <code class="language-text">variables</code> 파라미터로 전달한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context: unknown</code>
<ul>
<li><code class="language-text">useMutation</code> 훅의 옵션 중 <code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">mutation: Mutation</code>
<ul>
<li>실행한 Mutation 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onSuccess?: (data: unknown, variables: unknown, context: unknown, mutation: Mutation) => Promise&lt;unknown> | unknown</code>
<ul>
<li>실행한 Mutation이 성공하면 호출되는 콜백함수입니다. <code class="language-text">Promise</code>를 반환할 경우 <code class="language-text">resolved</code> 될 때까지 이후 작업들이 진행되지 않습니다.</li>
<li><code class="language-text">data: unknown</code>
<ul>
<li><code class="language-text">mutationFn</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: unknown</code>
<ul>
<li><code class="language-text">mutate</code>(또는 <code class="language-text">mutateAsync</code>) 함수의 <code class="language-text">variables</code> 파라미터로 전달한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context: unknown</code>
<ul>
<li><code class="language-text">useMutation</code> 훅의 옵션 중 <code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">mutation: Mutation</code>
<ul>
<li>실행한 Mutation 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onSettled?: (data: unknown | undefined, error: unknown | null, variables: unknown, context: unknown, mutation: Mutation) => Promise&lt;unknown> | unknown</code>
<ul>
<li>실행한 Mutation이 성공 혹은 실패하여 종료되면 호출되는 콜백함수입니다. <code class="language-text">Promise</code>를 반환할 경우 <code class="language-text">resolved</code> 될 때까지 이후 작업들이 진행되지 않습니다.</li>
<li><code class="language-text">data: unknown | undefined</code>
<ul>
<li>Mutation이 성공한 경우 <code class="language-text">mutationFn</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">error: unknown | null</code>
<ul>
<li>Mutation이 실패한 경우 발생한 에러 정보가 담긴 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">variables: unknown</code>
<ul>
<li><code class="language-text">mutate</code>(또는 <code class="language-text">mutateAsync</code>) 함수의 <code class="language-text">variables</code> 파라미터로 전달한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">context: unknown</code>
<ul>
<li><code class="language-text">useMutation</code> 훅의 옵션 중 <code class="language-text">onMutate</code> 함수의 반환 값입니다.</li>
</ul>
</li>
<li><code class="language-text">mutation: Mutation</code>
<ul>
<li>실행한 Mutation 객체입니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">onMutate?: (variables: unknown, mutation: Mutation) => Promise&lt;unknown> | unknown</code>
<ul>
<li>Mutation이 실행되기 전에 호출되는 콜백합수입니다.</li>
<li><code class="language-text">variables: unknown</code>
<ul>
<li><code class="language-text">mutate</code>(또는 <code class="language-text">mutateAsync</code>) 함수의 <code class="language-text">variables</code> 파라미터로 전달한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">mutation: Mutation</code>
<ul>
<li>실행한 Mutation 객체입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<h5 id="queryclient의-defaultoptions와-mutationcache의-옵션의-차이" style="position:relative;"><code class="language-text">QueryClient</code>의 <code class="language-text">defaultOptions</code>와 <code class="language-text">MutationCache</code>의 옵션의 차이<a href="#queryclient%EC%9D%98-defaultoptions%EC%99%80-mutationcache%EC%9D%98-%EC%98%B5%EC%85%98%EC%9D%98-%EC%B0%A8%EC%9D%B4" aria-label="queryclient의 defaultoptions와 mutationcache의 옵션의 차이 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">defaultOpions</code>에 정의한 콜백함수들은 각각의 Mutation을 호출할 때 오버라이드될 수 있습니다. <code class="language-text">MutationCache</code>에 정의한 전역 콜백함수들은 항상 호출됩니다.</li>
<li><code class="language-text">MutationCache</code>의 옵션 중 <code class="language-text">onMutate</code> 함수의 반환 값은 <code class="language-text">context</code>에 담기지 않습니다.</li>
</ul>
</blockquote>
<h5 id="returns-7" style="position:relative;">Returns<a href="#returns-7" aria-label="returns 7 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">getAll: () => Mutation[]</code>
<ul>
<li>캐시 된 모든 Mutation을 반환합니다.</li>
</ul>
</li>
<li><code class="language-text">subscribe: (callback: (mutation?: MutationCacheNotifyEvent) => void) => unsubscribe: Function => void</code>
<ul>
<li>Mutation 캐시를 구독합니다. Mutation 추가/삭제/수정되면 <code class="language-text">callback</code> 함수가 실행됩니다.</li>
<li>구독을 취소하는 함수인 <code class="language-text">unsubscribe</code>를 반환합니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> event <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">,</span> event<span class="token punctuation">.</span>mutation<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> mutationCache<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">clear: () => void</code>
<ul>
<li>Mutation 캐시를 모두 지우는 데 사용되는 함수입니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-7" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-7" aria-label="예제 7 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/9m9p9l?view=Editor+%2B+Preview&module=%2Fsrc%2Findex.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="MutationCache"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="usemutationstate" style="position:relative;"><code class="language-text">useMutationState</code><a href="#usemutationstate" aria-label="usemutationstate permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useMutationState</code> 훅은 <code class="language-text">MutationCache</code>에 있는 Mutation에 접근할 수 있는 훅입니다. <code class="language-text">filter</code>을 사용하여 원하는 Mutation을 찾을 수 있고 <code class="language-text">select</code>를 사용하여 필요한 Mutation의 값을 선택해 가져올 수 있습니다.</p>
<h4 id="타입-정보-8" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-8" aria-label="타입 정보 8 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useMutation<span class="token punctuation">,</span> useMutationState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> mutationKey <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'posts'</span><span class="token punctuation">]</span>

<span class="token comment">// Some mutation that we want to get the state for</span>
<span class="token keyword">const</span> mutation <span class="token operator">=</span> <span class="token function">useMutation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mutationKey<span class="token punctuation">,</span>
  <span class="token function-variable function">mutationFn</span><span class="token operator">:</span> <span class="token punctuation">(</span>newPost<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/posts'</span><span class="token punctuation">,</span> newPost<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useMutationState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// this mutation key needs to match the mutation key of the given mutation (see above)</span>
  filters<span class="token operator">:</span> <span class="token punctuation">{</span> mutationKey <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">select</span><span class="token operator">:</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">)</span> <span class="token operator">=></span> mutation<span class="token punctuation">.</span>state<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-8" style="position:relative;">Options<a href="#options-8" aria-label="options 8 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">options</code>
<ul>
<li><code class="language-text">filters?: MutationFilters</code>
<ul>
<li><code class="language-text">filters.mutationKey?: MutationKey</code>
<ul>
<li>찾으려고 하는 Mutation의 키입니다.</li>
</ul>
</li>
<li><code class="language-text">filters.exact?: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 정확히 일치하는 Mutation을 찾습니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 설정한 <code class="language-text">filters.mutationKey</code>가 포함되는 Mutation을 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.status?: 'idle' | 'pending' | 'error' | 'success'</code>
<ul>
<li><code class="language-text">idle</code>인 경우 실행되기 전인 Mutation 중에 찾습니다.</li>
<li><code class="language-text">pending</code>인 경우 실행 중인 Mutation 중에 찾습니다.</li>
<li><code class="language-text">error</code> 인 경우 에러가 발생한 Mutation 중에 찾습니다.</li>
<li><code class="language-text">success</code>인 경우 성공한 Mutation 중에 찾습니다.</li>
</ul>
</li>
<li><code class="language-text">filters.predicate?: (mutation: Mutation) => boolean</code>
<ul>
<li>최종 필터로 사용되는 함수입니다. 다른 필터를 정의하지 않으면 모든 Mutation 중에 찾습니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">select?: (mutation: Mutation) => TResult</code>
<ul>
<li>이 옵션을 사용하여 Mutation의 정보를 선택해 가져올 수 있습니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">queryClient?: QueryClient</code>
<ul>
<li>커스텀한 쿼리 클라이언트를 지정할 수 있습니다. 이 값을 설정하지 않는다면 가장 가까운 콘텍스트의 쿼리 클라이언트가 사용됩니다.</li>
</ul>
</li>
</ul>
<h5 id="returns-8" style="position:relative;">Returns<a href="#returns-8" aria-label="returns 8 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">Array&lt;TResult></code>
<ul>
<li><code class="language-text">select</code> 옵션에서 반환한 Mutation 배열입니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-8" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-8" aria-label="예제 8 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/wft346?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useMutationState"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="usesuspensequery" style="position:relative;"><code class="language-text">useSuspenseQuery</code><a href="#usesuspensequery" aria-label="usesuspensequery permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useSuspenseQuery</code> 훅은 <code class="language-text">useQuery</code>와 동일한 동작을 하지만 데이터를 가져오는 동안에 React의 Suspense 동작을 실행시킵니다.</p>
<h4 id="타입-정보-9" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-9" aria-label="타입 정보 9 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">useSuspenseQuery</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre></div>
<h5 id="options-9" style="position:relative;">Options<a href="#options-9" aria-label="options 9 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>에서 <code class="language-text">throwOnError</code>, <code class="language-text">enabled</code>, <code class="language-text">placeholderData</code>가 빠진 형태입니다.</p>
<h5 id="returns-9" style="position:relative;">Returns<a href="#returns-9" aria-label="returns 9 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><a href="/tech/react/tanstack-query-v5-api-reference/#returns"><code class="language-text">useQuery</code> 훅의 반환 값</a>과 대부분 동일하지만, 아래 목록만 차이가 있습니다.</p>
<ul>
<li><code class="language-text">data</code>는 항상 <code class="language-text">undefined</code>가 아닙니다.
<ul>
<li>데이터를 가져오는 동안에는 Suspense가 동작하기 때문에 <code class="language-text">data</code>는 항상 <code class="language-text">undefined</code>가 아니게 됩니다.</li>
</ul>
</li>
<li><code class="language-text">isPlaceholderData</code>이 제거되었습니다.
<ul>
<li><code class="language-text">placeholderData</code>로 화면에 노출되는 것이 아니라 Suspense가 화면에 노출되기 때문에 <code class="language-text">isPlaceholderData</code>가 제거되었습니다.</li>
</ul>
</li>
<li><code class="language-text">status</code>는 항상 <code class="language-text">success</code>입니다.
<ul>
<li><code class="language-text">useQuery</code> 훅의 <code class="language-text">status</code> 반환 값 중 <code class="language-text">pending</code>일 경우 Suspense가 동작하고, <code class="language-text">error</code>일 경우 Error Boundary가 화면에 노출되기 때문에 항상 <code class="language-text">success</code>가 됩니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-9" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-9" aria-label="예제 9 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/ghm5tk?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useSuspenseQuery"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="usesuspenseinfinitequery" style="position:relative;"><code class="language-text">useSuspenseInfiniteQuery</code><a href="#usesuspenseinfinitequery" aria-label="usesuspenseinfinitequery permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useSuspenseInfiniteQuery</code> 훅은 <code class="language-text">useInfiniteQuery</code> 와 동일한 동작을 하지만 데이터를 가져오는 동안에 React의 Suspense 동작을 실행 시킵니다.</p>
<h4 id="타입-정보-10" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-10" aria-label="타입 정보 10 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">useSuspenseInfiniteQuery</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre></div>
<h5 id="options-10" style="position:relative;">Options<a href="#options-10" aria-label="options 10 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><a href="/tech/react/tanstack-query-v5-api-reference/#options-2"><code class="language-text">useInfiniteQuery</code> 훅의 옵션</a>에서 <code class="language-text">throwOnError</code>, <code class="language-text">enabled</code>, <code class="language-text">placeholderData</code>가 빠진 형태입니다.</p>
<h5 id="returns-10" style="position:relative;">Returns<a href="#returns-10" aria-label="returns 10 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><a href="/tech/react/tanstack-query-v5-api-reference/#returns-2"><code class="language-text">useInfiniteQuery</code> 훅의 반환 값</a>과 대부분 동일하지만, 아래 목록만 차이가 있습니다.</p>
<ul>
<li><code class="language-text">data</code>는 항상 <code class="language-text">undefined</code>가 아닙니다.
<ul>
<li>데이터를 가져오는 동안에는 Suspense가 동작하기 때문에 <code class="language-text">data</code>는 항상 <code class="language-text">undefined</code>가 아니게 됩니다.</li>
</ul>
</li>
<li><code class="language-text">isPlaceholderData</code>이 제거되었습니다.
<ul>
<li><code class="language-text">placeholderData</code>로 화면에 노출되는 것이 아니라 Suspense가 화면에 노출되기 때문에 <code class="language-text">isPlaceholderData</code>가 제거되었습니다.</li>
</ul>
</li>
<li><code class="language-text">status</code>는 항상 <code class="language-text">success</code>입니다.
<ul>
<li><code class="language-text">useInfiniteQuery</code> 훅의 <code class="language-text">status</code> 반환 값 중 <code class="language-text">pending</code>일 경우 Suspense가 동작하고, <code class="language-text">error</code>일 경우 Error Boundary가 화면에 노출되기 때문에 항상 <code class="language-text">success</code>가 됩니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-10" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-10" aria-label="예제 10 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/3z7s5v?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useSuspenseInfiniteQuery"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="usesuspensequeries" style="position:relative;"><code class="language-text">useSuspenseQueries</code><a href="#usesuspensequeries" aria-label="usesuspensequeries permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useSuspenseQueries</code> 훅은 <code class="language-text">useQueries</code>와 동일한 동작을 하지만 데이터를 가져오는 동안에 React의 Suspense 동작을 실행시킵니다.</p>
<h4 id="타입-정보-11" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-11" aria-label="타입 정보 11 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">useSuspenseQueries</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></code></pre></div>
<h5 id="options-11" style="position:relative;">Options<a href="#options-11" aria-label="options 11 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><a href="/tech/react/tanstack-query-v5-api-reference/#options-1"><code class="language-text">useQueries</code> 훅의 옵션</a>에서 <code class="language-text">throwOnError</code>, <code class="language-text">enabled</code>, <code class="language-text">placeholderData</code>가 빠진 형태입니다.</p>
<h5 id="returns-11" style="position:relative;">Returns<a href="#returns-11" aria-label="returns 11 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><a href="/tech/react/tanstack-query-v5-api-reference/#returns-1"><code class="language-text">useQueries</code> 훅의 반환 값</a>과 대부분 동일하지만, 아래 목록만 차이가 있습니다.</p>
<ul>
<li><code class="language-text">data</code>는 항상 <code class="language-text">undefined</code>가 아닙니다.
<ul>
<li>데이터를 가져오는 동안에는 Suspense가 동작하기 때문에 <code class="language-text">data</code>는 항상 <code class="language-text">undefined</code>가 아니게 됩니다.</li>
</ul>
</li>
<li><code class="language-text">isPlaceholderData</code>이 제거되었습니다.
<ul>
<li><code class="language-text">placeholderData</code>로 화면에 노출되는 것이 아니라 Suspense가 화면에 노출되기 때문에 <code class="language-text">isPlaceholderData</code>가 제거되었습니다.</li>
</ul>
</li>
<li><code class="language-text">status</code>는 항상 <code class="language-text">success</code>입니다.
<ul>
<li><code class="language-text">useQuery</code> 훅의 <code class="language-text">status</code> 반환 값 중 <code class="language-text">pending</code>일 경우 Suspense가 동작하고, <code class="language-text">error</code>일 경우 Error Boundary가 화면에 노출되기 때문에 항상 <code class="language-text">success</code>가 됩니다.</li>
</ul>
</li>
</ul>
<h4 id="예제-11" style="position:relative;">예제<a href="#%EC%98%88%EC%A0%9C-11" aria-label="예제 11 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div>
  <iframe src="https://codesandbox.io/embed/4jzy9s?view=Editor+%2B+Preview&module=%2Fsrc%2FApp.tsx"
  style="width:100%; height: 500px; border:0; border-radius: 10px; overflow:hidden;"
  title="useSuspenseQueries"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  ></iframe>
</div>
<h3 id="queryclient" style="position:relative;"><code class="language-text">QueryClient</code><a href="#queryclient" aria-label="queryclient permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">QueryClient</code>는 캐시와 상호 작용할 수 있는 기능을 제공합니다. React Query를 사용하기 위해서 루트 위치에서 <code class="language-text">QueryClient</code> 인스턴스를 생성하여 <code class="language-text">QueryClientProvider</code> 컴포넌트의 prop으로 전달해야 합니다.</p>
<p>하위 컴포넌트에서는 <code class="language-text">useQueryClient</code> 훅을 사용하여 <code class="language-text">QueryClient</code> 인스턴스를 접근할 수 있고 <code class="language-text">QueryClient</code> 인스턴스를 통해 다양한 React Query 기능을 사용할 수 있습니다.</p>
<h4 id="타입-정보-12" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-12" aria-label="타입 정보 12 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> QueryClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  defaultOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    queries<span class="token operator">:</span> <span class="token punctuation">{</span>
      staleTime<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">await</span> queryClient<span class="token punctuation">.</span><span class="token function">prefetchQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'posts'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> queryFn<span class="token operator">:</span> fetchPosts <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-12" style="position:relative;">Options<a href="#options-12" aria-label="options 12 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">queryCache?: QueryCache</code>
<ul>
<li>쿼리 클라이언트에서 사용할 쿼리 캐시입니다.</li>
<li><code class="language-text">QueryCache</code>는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-6"><code class="language-text">QueryCache</code>의 옵션</a>와 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">mutationCache?: MutationCache</code>
<ul>
<li>쿼리 클라이언트에서 사용할 Mutation 캐시입니다.</li>
<li><code class="language-text">MutationCache</code>는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-7"><code class="language-text">MutationCache</code>의 옵션</a>와 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">defaultOptions?: DefaultOptions</code>
<ul>
<li>쿼리와 Mutation에서 사용할 기본 옵션입니다.</li>
<li><code class="language-text">defaultOptions.queries</code>
<ul>
<li><a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">defaultOptions.mutations</code>
<ul>
<li><a href="/tech/react/tanstack-query-v5-api-reference/#options-3"><code class="language-text">useMutation</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="returns-12" style="position:relative;">Returns<a href="#returns-12" aria-label="returns 12 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">fetchQuery: (options) => Promise&lt;TData></code>
<ul>
<li>쿼리로 데이터를 가져와 캐시 하는 데 사용하는 비동기 메서드입니다. 가져온 데이터를 <code class="language-text">Promise</code> 형태로 반환하거나 에러가 발생했을 경우 에러를 <code class="language-text">throw</code> 합니다.</li>
<li>캐시 된 데이터가 <code class="language-text">staleTime</code>이 지나지 않았다면 캐시 된 데이터를 반환합니다. <code class="language-text">staleTime</code>이 지났다면 데이터를 새로 가져옵니다.</li>
<li><code class="language-text">options</code>는 <code class="language-text">enabled</code>, <code class="language-text">refetchInterval</code>, <code class="language-text">refetchIntervalInBackground</code>, <code class="language-text">refetchOnWindowFocus</code>, <code class="language-text">refetchOnReconnect</code>, <code class="language-text">refetchOnMount</code>, <code class="language-text">notifyOnChangeProps</code>, <code class="language-text">throwOnError</code>, <code class="language-text">select</code>, <code class="language-text">suspense</code>, <code class="language-text">placeholderData</code>를 제외한 <code class="language-text">useQuery</code> 훅의 옵션과 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">fetchInfiniteQuery: (options) => Promise&lt;InfiniteData&lt;TData, TPageParam>></code>
<ul>
<li>무한 쿼리로 데이터를 가져와 캐시 하는 데 사용되는 비동기 메서드입니다.</li>
<li><code class="language-text">options</code>는 <code class="language-text">fetchQuery</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">prefetchQuery: (opitons) => Promise&lt;void></code>
<ul>
<li>쿼리 데이터를 사용하기 전에 데이터를 미리 가져와 캐시 하는 데 사용하는 비동기 메서드입니다. 가져온 데이터를 반환하지 않는다는 점을 제외하면 <code class="language-text">fetchQuery</code>와 동일합니다.</li>
<li><code class="language-text">options</code>는 <code class="language-text">fetchQuery</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">prefetchInfiniteQuery: (options) => Promise&lt;void></code>
<ul>
<li>무한 쿼리 데이터를 사용하기 전에 데이터를 미리 가져와 캐시 하는 데 사용하는 비동기 메서드입니다.</li>
<li><code class="language-text">options</code>는 <code class="language-text">fetchQuery</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">getQueryData: (queryKey: QueryKey) => TQueryFnData | undefined</code>
<ul>
<li>쿼리의 캐시 된 데이터를 가져오는 함수입니다. 쿼리의 캐시 된 데이터가 없다면 <code class="language-text">undefined</code>를 반환합니다.</li>
</ul>
</li>
<li><code class="language-text">ensureQueryData: (options) => Promise&lt;TData></code>
<ul>
<li>쿼리의 캐시 된 데이터를 가져오는 비동기 함수입니다. 쿼리의 캐시 된 데이터가 없다면 <code class="language-text">fetchQuery</code>가 호출되고 그 응답 값을 반환합니다.</li>
<li><code class="language-text">options</code>는 <code class="language-text">fetchQuery</code>와 동일하지만, <code class="language-text">queryKey</code>가 필수 값입니다.</li>
</ul>
</li>
<li><code class="language-text">getQueriesData: (filters: QueryFilters) => [queryKey: QueryKey, data: TQueryFnData | undefined][]</code>
<ul>
<li>여러 쿼리의 캐시 된 데이터를 가져오는 함수입니다. 파라미터로 전달한 <code class="language-text">filters</code>에 일치되는 쿼리의 데이터를 <code class="language-text">[queryKey, data]</code> 튜플의 배열 형태로 반환합니다. 일치되는 쿼리가 없으면 빈 배열을 반환합니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
</ul>
</li>
<li><code class="language-text">setQueryData: (queryKey: QueryKey, updater: TQueryFnData | undefined | ((oldData: TQueryFnData | undefined) => TQueryFnData | undefined)) => TInferredQueryFnData | undefined</code>
<ul>
<li>쿼리의 캐시 된 데이터를 업데이트하는 함수입니다. 쿼리가 존재하지 않으면 쿼리가 생성됩니다.</li>
<li><code class="language-text">queryKey: QueryKey</code>
<ul>
<li>데이터를 업데이트할 쿼리 키입니다.</li>
</ul>
</li>
<li><code class="language-text">updater: TQueryFnData | undefined | ((oldData: TQueryFnData | undefined) => TQueryFnData | undefined)</code>
<ul>
<li>함수가 아닌 값을 전달할 경우 전달된 값으로 쿼리의 데이터가 업데이트됩니다.</li>
<li>함수를 전달할 경우 함수는 현재 데이터를 파라미터로 하여 업데이트할 값을 반환해야 합니다. 함수가 반환된 값으로 쿼리의 데이터가 업데이트됩니다.</li>
<li><code class="language-text">undefined</code>를 전달하거나 함수의 반환 값이 <code class="language-text">undefined</code>일 경우 쿼리의 데이터는 업데이트되지 않습니다.</li>
<li><code class="language-text">oldData</code>나 <code class="language-text">getQueryData</code> 통해 가져온 캐시 된 데이터를 직접 수정하면 안 됩니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">getQueryState: (querykey: QueryKey) => QueryState</code>
<ul>
<li>쿼리의 상태를 가져오는 함수입니다. 쿼리가 존재하지 않으면 <code class="language-text">undefined</code>를 반환합니다.</li>
<li><code class="language-text">queryKey: QueryKey</code>
<ul>
<li>쿼리 상태를 가져올 쿼리 키입니다.</li>
</ul>
</li>
<li><code class="language-text">QueryState</code>
<ul>
<li>쿼리 상태를 담고 있는 객체입니다.</li>
<li><code class="language-text">data: TData | undefined</code>
<ul>
<li>쿼리가 마지막으로 성공적으로 가져온 데이터입니다.</li>
</ul>
</li>
<li><code class="language-text">dataUpdateCount: number</code>
<ul>
<li>쿼리가 데이터를 업데이트 한 횟수입니다.</li>
</ul>
</li>
<li><code class="language-text">dataUpdatedAt: number</code>
<ul>
<li>데이터를 성공적으로 가져왔을 때(<code class="language-text">status</code>가 <code class="language-text">success</code>) 타임스탬프입니다.</li>
</ul>
</li>
<li><code class="language-text">error: TError | null</code>
<ul>
<li>쿼리에 에러가 발생한 경우 에러 정보를 담는 객체입니다.</li>
</ul>
</li>
<li><code class="language-text">errorUpdateCount: number</code>
<ul>
<li>쿼리가 데이터 가져오기를 실패한 총횟수입니다.</li>
</ul>
</li>
<li><code class="language-text">errorUpdatedAt: number</code>
<ul>
<li>가장 최근에 에러가 발생했을 때(<code class="language-text">status</code>가 <code class="language-text">error</code>) 타임스탬프입니다.</li>
</ul>
</li>
<li><code class="language-text">fetchFailureCount: number</code>
<ul>
<li>쿼리가 데이터 가져오기를 실패한 횟수입니다. 쿼리가 성공적으로 데이터를 가져온 경우 <code class="language-text">0</code>으로 초기화됩니다.</li>
</ul>
</li>
<li><code class="language-text">fetchFailureReason: TError | null</code>
<ul>
<li>쿼리가 데이터를 가져오기 재시도를 실패했을 경우 에러 정보가 담깁니다. 쿼리가 성공적으로 데이터를 가져온 경우 <code class="language-text">null</code>로 초기화 됩니다.</li>
</ul>
</li>
<li><code class="language-text">fetchMeta: FetchMeta | null</code>
<ul>
<li>쿼리에서 사용한 메타 정보입니다.</li>
</ul>
</li>
<li><code class="language-text">isInvalidated: boolean</code>
<ul>
<li>유효한 쿼리인지 나타내는 플래그입니다.</li>
</ul>
</li>
<li><code class="language-text">status: 'pending' | 'error' | 'success'</code>
<ul>
<li><code class="language-text">pending</code>일 경우, 캐시 된 데이터가 없고 쿼리 시도가 아직 완료되지 않은 상태입니다.</li>
<li><code class="language-text">error</code>일 경우, 데이터를 가져올 때 에러가 발생한 상태입니다.</li>
<li><code class="language-text">success</code>일 경우, 데이터를 성공적으로 가져오거나, <code class="language-text">enabled</code>가 <code class="language-text">false</code>이면서 <code class="language-text">initialData</code>가 설정된 상태입니다.</li>
</ul>
</li>
<li><code class="language-text">fetchStatus: 'fetching' | 'paused' | 'idle'</code>
<ul>
<li><code class="language-text">fetching</code>일 경우, <code class="language-text">queryFn</code>이 실행 중이거나, 초기 <code class="language-text">status</code>가 <code class="language-text">pending</code> 상태이거나, 백그라운드에서 데이터를 가져오는 상태입니다.</li>
<li><code class="language-text">paused</code>일 경우, 쿼리가 데이터를 가져오려고 했지만 중지된 상태입니다. 대표적으로 네트워크가 끊겨 쿼리가 중지됐을 때 <code class="language-text">paused</code> 상태입니다.</li>
<li><code class="language-text">idle</code>일 경우, <code class="language-text">fetching</code> 상태도 <code class="language-text">paused</code> 상태도 아닌 상태입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">setQueriesData: (filters: QueryFilters, updater: TQueryFnData | (oldData: TQueryFnData | undefined) => TQueryFnData) => [QueryKey, TQueryFnData | undefined][]</code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 여러 쿼리의 캐시 된 데이터를 업데이트하는 함수입니다. 내부적으로 각각의 쿼리는 <code class="language-text">setQueryData</code> 함수가 호출됩니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
<li><code class="language-text">updater</code> 정보는 <code class="language-text">setQueryData</code> 함수의 <code class="language-text">updater</code> 파라미터와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">invalidateQueries: (filters?: InvalidateQueryFilters, options?: InvalidateOptions) => Promise&lt;void></code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리를 무효화하고 데이터를 다시 가져오는 비동기 함수입니다.</li>
<li><code class="language-text">filters?: InvalidateQueryFilters</code>
<ul>
<li><code class="language-text">QueryFilter</code>에 <code class="language-text">refetchType?: 'active' | 'inactive' | 'all' | 'none'</code>가 추가된 형태입니다.</li>
<li><code class="language-text">refetchType?: 'active' | 'inactive' | 'all' | 'none'</code> (default: <code class="language-text">'active'</code>)
<ul>
<li><code class="language-text">active</code>로 설정할 경우, 활성화된 쿼리의 데이터를 무효화 후 다시 가져옵니다.</li>
<li><code class="language-text">inactive</code>로 설정할 경우, 비활성화된 쿼리의 데이터를 무효화 후 다시 가져옵니다.</li>
<li><code class="language-text">all</code>로 설정할 경우, 활성화/비활성화된 쿼리의 데이터를 무효화 후 다시 가져옵니다.</li>
<li><code class="language-text">none</code>으로 설정할 경우, 쿼리의 데이터를 무효화하지만 다시 가져오지는 않습니다.</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">options?: InvalidateOptions</code>
<ul>
<li><code class="language-text">throwOnError?: boolean</code>
<ul>
<li><code class="language-text">true</code>로 설정할 경우 쿼리에서 에러가 발생할 경우 가장 가까운 에러 바운더리(Error Boundary)로 에러를 전파합니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 쿼리에서 에러가 발생해도 에러 바운더리로 에러를 전파하지 않습니다.</li>
</ul>
</li>
<li><code class="language-text">cancelRefetch?: boolean</code> (default <code class="language-text">true</code>)
<ul>
<li><code class="language-text">true</code>로 설정할 경우 쿼리가 데이터를 가져오는 중일 경우 진행 중이던 요청을 취소하고 재요청합니다.</li>
<li><code class="language-text">false</code>로 설정할 경우 쿼리가 데이터를 가져오는 중일 경우 데이터를 재요청하지 않습니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">refetchQueries: (filters?: QueryFilters, options?: RefetchOptions) => Promise&lt;void></code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리의 데이터를 다시 가져오는 비동기 함수입니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
<li><code class="language-text">options</code> 정보는 <code class="language-text">invalidateQueries</code> 함수의 <code class="language-text">options</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">cancelQueries: (filters?: QueryFilters) => Promise&lt;void></code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리의 요청을 취소하는 비동기 함수입니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
</ul>
</li>
<li><code class="language-text">removeQueries: (filters?: QueryFilters) => void</code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리의 캐시를 삭제하는 함수입니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
</ul>
</li>
<li><code class="language-text">resetQueries: (filters?: QueryFilters, options?: ResetOptions) => Promise&lt;void></code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리를 초기 상태로 재설정하는 비동기 함수입니다.</li>
<li><code class="language-text">invalidateQueries</code> 함수와 달리 쿼리는 데이터를 미리 가져온 상태가 됩니다. <code class="language-text">initialData</code>가 정의된 쿼리라면 해당 데이터로 초기화되고, 활성화된 쿼리는 데이터를 다시 가져옵니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
<li><code class="language-text">options</code> 정보는 <code class="language-text">invalidateQueries</code> 함수의 <code class="language-text">options</code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">isFetching: (filters?: QueryFilters) => number</code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 쿼리 중 데이터를 가져오는 중인 쿼리의 수를 반환하는 함수입니다. <code class="language-text">useIsFetching</code> 훅과 동일한 역할을 합니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
</ul>
</li>
<li><code class="language-text">isMutating: (filters?: QueryFilters) => number</code>
<ul>
<li><code class="language-text">filters</code>에 해당하는 Mutation 중인 수를 반환하는 함수입니다. <code class="language-text">useIsMutating</code> 훅과 동일한 역할을 합니다.</li>
<li><code class="language-text">filters</code> 정보는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-4"><code class="language-text">useIsFetching</code> 훅의 옵션</a>을 참고 바랍니다.</li>
</ul>
</li>
<li><code class="language-text">getDefaultOptions: () => DefaultOptions</code>
<ul>
<li><code class="language-text">QueryClient</code> 인스턴스를 생성할 때 전달할 <code class="language-text">defaultOptions</code> 혹은 <code class="language-text">setDefaultOptions</code> 함수에 전달한 파라미터를 반환합니다.</li>
<li><code class="language-text">DefaultOptions</code>
<ul>
<li>쿼리와 Mutation에서 사용할 기본 옵션입니다.</li>
<li><code class="language-text">queries?: QueryObserverOptions</code>
<ul>
<li><a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">mutations?: MutationObserverOptions</code>
<ul>
<li><a href="/tech/react/tanstack-query-v5-api-reference/#options-3"><code class="language-text">useMutation</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">setDefaultOptions: (options: DefaultOptions) => void</code>
<ul>
<li><code class="language-text">QueryClient</code>의 기본 옵션을 동적으로 변경하기 위해 사용되는 함수입니다.</li>
<li><code class="language-text">DefaultOptions</code>
<ul>
<li>쿼리와 Mutation에서 사용할 기본 옵션입니다.</li>
<li><code class="language-text">queries?: QueryObserverOptions</code>
<ul>
<li><a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">mutations?: MutationObserverOptions</code>
<ul>
<li><a href="/tech/react/tanstack-query-v5-api-reference/#options-3"><code class="language-text">useMutation</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code class="language-text">getQueryDefaults: (queryKey: QueryKey) => QueryObserverOptions</code>
<ul>
<li><code class="language-text">queryKey</code>에 해당되는 쿼리의 기본 옵션을 반환합니다. <code class="language-text">queryKey</code>에 일치하는 쿼리가 여러 개일 경우 가장 먼저 매칭되는 쿼리의 기본 옵션을 반환합니다.</li>
<li><code class="language-text">QueryObserverOptions</code>는 <a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">setQueryDefaults: (queryKey: QueryKey, options: QueryOptions) => void</code>
<ul>
<li><code class="language-text">queryKey</code>에 해당되는 쿼리의 기본 옵션을 <code class="language-text">options</code>로 변경합니다. <code class="language-text">queryKey</code>에 일치하는 쿼리가 여러 개일 경우 가장 먼저 매칭되는 쿼리의 기본 옵션을 변경합니다.</li>
<li><code class="language-text">QueryOptions</code>은 <a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>에서 <code class="language-text">queryKey</code>를 제외한 값의 옵셔널 한 형태입니다. 즉 <code class="language-text">Partial&lt;Omit&lt;QueryObserverOptions, 'queryKey''>></code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">getMutationDefaults: (mutationKey: MutationKey) => MutationObserverOptions</code>
<ul>
<li><code class="language-text">mutationKey</code>에 해당되는 Mutation의 기본 옵션을 반환합니다.</li>
<li><code class="language-text">MutationObserverOptions</code>은 <a href="/tech/react/tanstack-query-v5-api-reference/#options-3"><code class="language-text">useMutation</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">setMutationDefaults: (mutationKey: MutationKey, options: MutationOptions) => void</code>
<ul>
<li><code class="language-text">mutationKey</code>에 해당되는 Mutation의 기본 옵션을 <code class="language-text">options</code>로 변경합니다.</li>
<li><code class="language-text">MutationOptions</code>은 <a href="/tech/react/tanstack-query-v5-api-reference/#options-3"><code class="language-text">useMutation</code> 훅의 옵션</a>에서 <code class="language-text">mutationKey</code>를 제외한 값의 옵셔널 한 형태입니다. 즉 <code class="language-text">Partial&lt;Omit&lt;MutationObserverOptions, 'mutationKey''>></code>와 동일합니다.</li>
</ul>
</li>
<li><code class="language-text">getQueryCache: () => QueryCache</code>
<ul>
<li><code class="language-text">QueryClient</code>에 연결된 <code class="language-text">QueryCache</code>를 반환합니다.</li>
<li><code class="language-text">QueryCache</code>는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-6"><code class="language-text">QueryCache</code>의 옵션</a>와 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">getMutationCache: () => MutationCache</code>
<ul>
<li><code class="language-text">QueryClient</code>에 연결된 <code class="language-text">MutationCache</code>를 반환합니다.</li>
<li><code class="language-text">MutationCache</code>는 <a href="/tech/react/tanstack-query-v5-api-reference/#options-7"><code class="language-text">MutationCache</code>의 옵션</a>와 동일한 값입니다.</li>
</ul>
</li>
<li><code class="language-text">clear: () => void</code>
<ul>
<li>모든 캐시를 삭제하는 함수입니다.</li>
</ul>
</li>
<li><code class="language-text">resumePausedMutations: () => Promise&lt;unknown></code>
<ul>
<li>네트워크 연결이 되지 않아 일시 중지된 Mutation을 다시 시작하는 데 사용하는 함수입니다.</li>
</ul>
</li>
</ul>
<h3 id="usequeryclient" style="position:relative;"><code class="language-text">useQueryClient</code><a href="#usequeryclient" aria-label="usequeryclient permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>현재 사용하는 <code class="language-text">QueryClient</code>의 인스턴스를 반환하는 훅입니다.</p>
<h4 id="타입-정보-13" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-13" aria-label="타입 정보 13 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useQueryClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token function">useQueryClient</span><span class="token punctuation">(</span>queryClient<span class="token operator">?</span><span class="token operator">:</span> QueryClient<span class="token punctuation">)</span></code></pre></div>
<h5 id="options-13" style="position:relative;">Options<a href="#options-13" aria-label="options 13 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">queryClient?: QueryClient</code>
<ul>
<li>커스텀한 <code class="language-text">QueryClient</code>를 사용하려면 이 파라미터를 전달해야 합니다. 전달하지 않을 경우 가장 가까운 콘텍스트의 <code class="language-text">QueryClient</code>를 사용합니다.</li>
</ul>
</li>
</ul>
<h5 id="returns-13" style="position:relative;">Returns<a href="#returns-13" aria-label="returns 13 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<p><code class="language-text">useQueryClient</code> 훅의 반환 값은 <a href="/tech/react/tanstack-query-v5-api-reference/#returns-12"><code class="language-text">QueryClient</code>의 반환 값</a>과 동일합니다.</p>
<h3 id="queryclientprovider" style="position:relative;"><code class="language-text">QueryClientProvider</code><a href="#queryclientprovider" aria-label="queryclientprovider permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">QueryClientProvider</code> 컴포넌트는 React Query를 사용하기 위해서 루트 위치에서 선언되어야 합니다. <code class="language-text">QueryClientProvider</code>의 <code class="language-text">client</code> 속성으로 <code class="language-text">QueryClient</code>를 전달해야 하며, 전달된 <code class="language-text">QueryClient</code>는 하위 컴포넌트에서 <code class="language-text">useQuery</code> 등, React Query를 사용할 때 사용됩니다.</p>
<h4 id="타입-정보-14" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-14" aria-label="타입 정보 14 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> QueryClient<span class="token punctuation">,</span> QueryClientProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> queryClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">QueryClientProvider</span></span> <span class="token attr-name">client</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>queryClient<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">QueryClientProvider</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">}</span></code></pre></div>
<h5 id="props" style="position:relative;">Props<a href="#props" aria-label="props permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">client: QueryClient</code>
<ul>
<li>하위 컴포넌트에서 React Query를 사용할 때 사용되는 <code class="language-text">QueryClient</code>입니다.</li>
</ul>
</li>
</ul>
<h3 id="queryobserver" style="position:relative;"><code class="language-text">QueryObserver</code><a href="#queryobserver" aria-label="queryobserver permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">QueryObserver</code>는 쿼리를 관찰할 때 사용됩니다. <code class="language-text">useQuery</code>는 내부적으로 <code class="language-text">QueryObserver</code> 인스턴스를 만들어 사용하는데, <code class="language-text">useQuery</code> 훅을 사용하면 되기 때문에 직접 <code class="language-text">QueryObserver</code> 인스턴스를 생성하는 경우는 많지 않습니다.</p>
<h4 id="타입-정보-15" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-15" aria-label="타입 정보 15 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryObserver</span><span class="token punctuation">(</span>queryClient<span class="token punctuation">,</span> <span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'posts'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-14" style="position:relative;">Options<a href="#options-14" aria-label="options 14 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">queryClient: QueryClient</code>
<ul>
<li>관찰할 쿼리가 있는 <code class="language-text">QueryClient</code> 인스턴스입니다.</li>
</ul>
</li>
<li><code class="language-text">options: QueryObserverOptions</code>
<ul>
<li>쿼리 데이터를 가져오기 위해 사용되는 옵션입니다. <a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
</ul>
<h3 id="infinitequeryobserver" style="position:relative;"><code class="language-text">InfiniteQueryObserver</code><a href="#infinitequeryobserver" aria-label="infinitequeryobserver permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">InfiniteQueryObserver</code>는 무한 쿼리를 관찰합니다. <code class="language-text">useInfiniteQuery</code>는 내부적으로 <code class="language-text">InfiniteQueryObserver</code> 인스턴스를 만들어 사용하는데, <code class="language-text">useInfiniteQuery</code> 혹을 사용하면 되기 때문에 직접 <code class="language-text">InfiniteQueryObserver</code> 인스턴스를 생성하는 경우는 많지 않습니다.</p>
<h4 id="타입-정보-16" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-16" aria-label="타입 정보 16 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InfiniteQueryObserver</span><span class="token punctuation">(</span>queryClient<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'posts'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  queryFn<span class="token operator">:</span> fetchPosts<span class="token punctuation">,</span>
  <span class="token function-variable function">getNextPageParam</span><span class="token operator">:</span> <span class="token punctuation">(</span>lastPage<span class="token punctuation">,</span> allPages<span class="token punctuation">)</span> <span class="token operator">=></span> lastPage<span class="token punctuation">.</span>nextCursor<span class="token punctuation">,</span>
  <span class="token function-variable function">getPreviousPageParam</span><span class="token operator">:</span> <span class="token punctuation">(</span>firstPage<span class="token punctuation">,</span> allPages<span class="token punctuation">)</span> <span class="token operator">=></span> firstPage<span class="token punctuation">.</span>prevCursor<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-15" style="position:relative;">Options<a href="#options-15" aria-label="options 15 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">queryClient: QueryClient</code>
<ul>
<li>관찰할 무한 쿼리가 있는 <code class="language-text">QueryClient</code> 인스턴스입니다.</li>
</ul>
</li>
<li><code class="language-text">options: InfiniteQueryObserverOptions</code>
<ul>
<li>무한 쿼리 데이터를 가져오기 위해 사용되는 옵션입니다. <a href="/tech/react/tanstack-query-v5-api-reference/#options-2"><code class="language-text">useInfiniteQuery</code> 훅의 옵션</a>과 동일한 값입니다.</li>
</ul>
</li>
</ul>
<h3 id="queriesobserver" style="position:relative;"><code class="language-text">QueriesObserver</code><a href="#queriesobserver" aria-label="queriesobserver permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">QueriesObserver</code>는 쿼리들(queries)을 관찰합니다. <code class="language-text">useQueries</code>의 내부적으로 <code class="language-text">QueriesObserver</code> 인스턴스를 만들어 사용하는데, <code class="language-text">useQueries</code> 훅을 사용하면 되기 때문에 직접 <code class="language-text">QueriesObserver</code> 인스턴스를 생성하는 경우는 많지 않습니다.</p>
<h4 id="타입-정보-17" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-17" aria-label="타입 정보 17 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueriesObserver</span><span class="token punctuation">(</span>queryClient<span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> queryFn<span class="token operator">:</span> fetchPost <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> queryFn<span class="token operator">:</span> fetchPost <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h5 id="options-16" style="position:relative;">Options<a href="#options-16" aria-label="options 16 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><code class="language-text">queryClient: QueryClient</code>
<ul>
<li>관찰할 무한 쿼리가 있는 <code class="language-text">QueryClient</code> 인스턴스입니다.</li>
</ul>
</li>
<li><code class="language-text">options: QueryObserverOptions[]</code>
<ul>
<li>queries의 데이터를 가져오기 위해 사용되는 옵션입니다. <a href="/tech/react/tanstack-query-v5-api-reference/#options"><code class="language-text">useQuery</code> 훅의 옵션</a>과 동일한 값의 배열입니다.</li>
</ul>
</li>
</ul>
<h3 id="queryerrorresetboundary" style="position:relative;"><code class="language-text">QueryErrorResetBoundary</code><a href="#queryerrorresetboundary" aria-label="queryerrorresetboundary permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">suspense</code>나 <code class="language-text">throwOnError</code>를 사용하면 컴포넌트에서 에러가 발생할 때 에러 화면으로 전환할 수 있습니다. 전환된 에러 화면에서 쿼리의 에러를 초기화하고 데이터를 다시 요청해야 할 때 사용하는 것이 <code class="language-text">QueryErrorResetBoundary</code> 컴포넌트입니다. 아래 코드와 같이 사용할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> QueryErrorResetBoundary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ErrorBoundary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-error-boundary'</span>

<span class="token keyword">const</span> App<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">QueryErrorResetBoundary</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> reset <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorBoundary</span></span>
        <span class="token attr-name">onReset</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>reset<span class="token punctuation">}</span></span>
        <span class="token attr-name">fallbackRender</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> resetErrorBoundary <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
            There was an error!
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resetErrorBoundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Try again</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Page</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ErrorBoundary</span></span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">QueryErrorResetBoundary</span></span><span class="token punctuation">></span></span>
<span class="token punctuation">)</span></code></pre></div>
<h3 id="usequeryerrorresetboundary" style="position:relative;"><code class="language-text">useQueryErrorResetBoundary</code><a href="#usequeryerrorresetboundary" aria-label="usequeryerrorresetboundary permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">useQueryErrorResetBoundary</code> 훅은 <code class="language-text">QueryErrorResetBoundary</code> 컴포넌트를 훅 형태로 사용할 수 있게 합니다. 아래 코드와 같이 사용할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useQueryErrorResetBoundary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ErrorBoundary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-error-boundary'</span>

<span class="token keyword">const</span> App<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">FC</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> reset <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useQueryErrorResetBoundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorBoundary</span></span>
      <span class="token attr-name">onReset</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>reset<span class="token punctuation">}</span></span>
      <span class="token attr-name">fallbackRender</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> resetErrorBoundary <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
          There was an error!
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resetErrorBoundary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Try again</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Page</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ErrorBoundary</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<h3 id="focusmanager" style="position:relative;"><code class="language-text">focusManager</code><a href="#focusmanager" aria-label="focusmanager permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">focusManager</code>은 React Query가 포커스 될 때 발생하는 이벤트 리스너를 변경하거나, 수동으로 포커스 할 때 사용됩니다.</p>
<h4 id="타입-정보-18" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-18" aria-label="타입 정보 18 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<ul>
<li><code class="language-text">focusManager.setEventListener</code>
<ul>
<li>이벤트 리스너를 변경할 때 사용되는 함수입니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> focusManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

focusManager<span class="token punctuation">.</span><span class="token function">setEventListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span>handleFocus<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Listen to visibilitychange</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'visibilitychange'</span><span class="token punctuation">,</span> handleFocus<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Be sure to unsubscribe if a new handler is set</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'visibilitychange'</span><span class="token punctuation">,</span> handleFocus<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">focusManager.subscribe</code>
<ul>
<li>포커스 상태가 변경되는 것을 구독하는 함수입니다. 구독을 취소하는 함수를 반환합니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> focusManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> focusManager<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>isVisible<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'isVisible'</span><span class="token punctuation">,</span> isVisible<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">focusManager.setFocused</code>
<ul>
<li>포커스 상태를 수동으로 설정할 수 있는 함수입니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> focusManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token comment">// Set focused</span>
focusManager<span class="token punctuation">.</span><span class="token function">setFocused</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// Set unfocused</span>
focusManager<span class="token punctuation">.</span><span class="token function">setFocused</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

<span class="token comment">// Fallback to the default focus check</span>
focusManager<span class="token punctuation">.</span><span class="token function">setFocused</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">focusManager.isFocused</code>
<ul>
<li>현재 포커스 상태를 가져오는 함수입니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> isFocused <span class="token operator">=</span> focusManager<span class="token punctuation">.</span><span class="token function">isFocused</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
</ul>
<h3 id="onlinemanager" style="position:relative;"><code class="language-text">onlineManager</code><a href="#onlinemanager" aria-label="onlinemanager permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p><code class="language-text">onlineManager</code>은 온라인 상태를 감지하는 이벤트 리스터를 변경하거나, 수동으로 온라인 상태로 변경할 때 사용됩니다.</p>
<h4 id="타입-정보-19" style="position:relative;">타입 정보<a href="#%ED%83%80%EC%9E%85-%EC%A0%95%EB%B3%B4-19" aria-label="타입 정보 19 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4>
<ul>
<li><code class="language-text">onlineManager.setEventListener</code>
<ul>
<li>이벤트 리스너를 변경할 때 사용되는 함수입니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> NetInfo <span class="token keyword">from</span> <span class="token string">'@react-native-community/netinfo'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onlineManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

onlineManager<span class="token punctuation">.</span><span class="token function">setEventListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span>setOnline<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> NetInfo<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setOnline</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>state<span class="token punctuation">.</span>isConnected<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">onlineManager.subscribe</code>
<ul>
<li>온라인 상태가 변경되는 것을 구독하는 함수입니다. 구독을 취소하는 함수를 반환합니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> onlineManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> onlineManager<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>isOnline<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'isOnline'</span><span class="token punctuation">,</span> isOnline<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">onlineManager.setOnline</code>
<ul>
<li>온라인 상태를 수동으로 설정할 수 있는 함수입니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> onlineManager <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@tanstack/react-query'</span>

<span class="token comment">// Set to online</span>
onlineManager<span class="token punctuation">.</span><span class="token function">setOnline</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// Set to offline</span>
onlineManager<span class="token punctuation">.</span><span class="token function">setOnline</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
<li><code class="language-text">onlineManager.isOnline</code>
<ul>
<li>현재 온라인 상태를 가져오는 함수입니다.</li>
<li>
<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">const</span> isOnline <span class="token operator">=</span> onlineManager<span class="token punctuation">.</span><span class="token function">isOnline</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
</li>
</ul>
<h5 id="참고" style="position:relative;">참고<a href="#%EC%B0%B8%EA%B3%A0" aria-label="참고 permalink" class="anchor after"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h5>
<ul>
<li><a href="https://tanstack.com/query/v5/docs/framework/react/overview">https://tanstack.com/query/v5/docs/framework/react/overview</a></li>
<li><a href="https://tanstack.com/blog/announcing-tanstack-query-v5">https://tanstack.com/blog/announcing-tanstack-query-v5</a></li>
<li><a href="https://velog.io/@hyunjine/Inside-React-Query">https://velog.io/@hyunjine/Inside-React-Query</a></li>
<li><a href="https://leego.tistory.com/entry/react-query%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%9E%91%EB%8F%99%ED%95%A0%EA%B9%8C">https://leego.tistory.com/entry/react-query는-어떻게-작동할까</a></li>
<li><a href="https://fe-developers.kakaoent.com/2023/230720-react-query/">https://fe-developers.kakaoent.com/2023/230720-react-query/</a></li>
<li><a href="https://velog.io/@hyunjine/Inside-React-Query">https://velog.io/@hyunjine/Inside-React-Query</a></li>
<li><a href="https://velog.io/@dev_jazziron/React-Query-Render-Optimizations">https://velog.io/@dev_jazziron/React-Query-Render-Optimizations</a></li>
<li><a href="https://yiyb-blog.vercel.app/posts/error-boundary-with-react-query">https://yiyb-blog.vercel.app/posts/error-boundary-with-react-query</a></li>
<li><a href="https://velog.io/@suyeon9456/React-Query-Error-Boundary-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0">https://velog.io/@suyeon9456/React-Query-Error-Boundary-적용하기</a></li>
<li><a href="https://www.timegambit.com/blog/digging/react-query/01">https://www.timegambit.com/blog/digging/react-query/01</a></li>
<li><a href="https://www.timegambit.com/blog/digging/react-query/02">https://www.timegambit.com/blog/digging/react-query/02</a></li>
<li><a href="https://www.timegambit.com/blog/digging/react-query/03">https://www.timegambit.com/blog/digging/react-query/03</a></li>
</ul></div><style data-emotion="css 3pb3p3">.css-3pb3p3{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;line-height:1.4;margin-top:20px;}@media screen and (max-width: 767px){.css-3pb3p3{display:block;}}</style><div class="css-3pb3p3 e1nfdjh41"><style data-emotion="css uk1eth">.css-uk1eth{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;height:70px;margin-bottom:10px;}.css-uk1eth:first-of-type{margin-right:5px;}.css-uk1eth:last-of-type{margin-left:5px;}.css-uk1eth:empty{height:0;}@media screen and (max-width: 767px){.css-uk1eth{-webkit-box-flex:initial;-webkit-flex-grow:initial;-ms-flex-positive:initial;flex-grow:initial;-webkit-flex-shrink:initial;-ms-flex-negative:initial;flex-shrink:initial;-webkit-flex-basis:initial;-ms-flex-preferred-size:initial;flex-basis:initial;}.css-uk1eth:first-of-type{margin-right:0;}.css-uk1eth:last-child{margin-left:0;}}</style><div class="css-uk1eth e1nfdjh44"><style data-emotion="css 10az1jt">.css-10az1jt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:70px;line-height:1.4;}</style><style data-emotion="css zcyeyz">.css-zcyeyz{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;border:1px solid hsl(0, 0%, 90%);border-radius:10px;padding:5px 15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:70px;line-height:1.4;}.css-zcyeyz.active,.css-zcyeyz:hover{color:hsl(0, 0%, 0%);}.css-zcyeyz:hover{border:1px solid hsl(0, 0%, 70%);}</style><a class="e1nfdjh40 css-zcyeyz emzm9b0" href="/tech/react/suspense/"><style data-emotion="css 1qrmlco">.css-1qrmlco{width:35px;height:35px;}</style><div class="css-1qrmlco e1nfdjh42"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path></svg></div><style data-emotion="css llr17a">.css-llr17a{margin-left:20px;margin-right:auto;}.css-llr17a small{font-size:0.75rem;}</style><div class="css-llr17a e1nfdjh43"><small>이전 포스트</small><div>[React] Suspense</div></div></a></div><div class="css-uk1eth e1nfdjh44"><style data-emotion="css m7mqgh">.css-m7mqgh{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;border:1px solid hsl(0, 0%, 90%);border-radius:10px;padding:5px 15px;text-align:right;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:70px;line-height:1.4;}.css-m7mqgh.active,.css-m7mqgh:hover{color:hsl(0, 0%, 0%);}.css-m7mqgh:hover{border:1px solid hsl(0, 0%, 70%);}</style><a class="e1nfdjh40 css-m7mqgh emzm9b0" href="/tech/etc/forward-proxy-reverse-proxy/"><style data-emotion="css 3fuysx">.css-3fuysx{margin-left:auto;margin-right:20px;}.css-3fuysx small{font-size:0.75rem;}</style><div class="css-3fuysx e1nfdjh43"><small>다음 포스트</small><div>[ETC] Forward Proxy와 Reverse Proxy</div></div><div class="css-1qrmlco e1nfdjh42"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path></svg></div></a></div></div><div id="disqus_thread"></div></article></main><style data-emotion="css 1auu4k1">.css-1auu4k1{text-align:center;padding:25px 0;background-color:hsl(0, 0%, 100%);border-top:1px solid hsl(0, 0%, 90%);}</style><footer class="css-1auu4k1 eqltkhc0"><style data-emotion="css gh4br9">.css-gh4br9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-around;-ms-flex-pack:space-around;-webkit-justify-content:space-around;justify-content:space-around;width:100px;margin:0 auto 10px;}.css-gh4br9 .emzm9b0{padding:5px 10px;}</style><nav class="css-gh4br9 eqltkhc2"><style data-emotion="css 6ymkmw">.css-6ymkmw{box-sizing:border-box;color:hsl(0, 0%, 40%);-webkit-text-decoration:none;text-decoration:none;}.css-6ymkmw.active,.css-6ymkmw:hover{color:hsl(0, 0%, 0%);}</style><a href="https://github.com/beomy" target="_blank" aria-label="github" class="css-6ymkmw emzm9b0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a><a href="https://www.linkedin.com/in/효범-이-930453134" target="_blank" aria-label="linkedin" class="css-6ymkmw emzm9b0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" active="false" class="css-1xdhyk6 eurl9030" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path></svg></a></nav><style data-emotion="css hm8ta6">.css-hm8ta6{color:hsl(0, 0%, 50%);font-size:0.875rem;}</style><span class="css-hm8ta6 eqltkhc1">© <!-- -->2024<!-- --> Beomy. All rights reserved.</span></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tech/react/tanstack-query-v5-api-reference/";window.___webpackCompilationHash="8e31e4091ab9de3eb7c8";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e08de4174abbdc2cf38c.js"],"app":["/app-a7f051f445e2a5498483.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-1eab2470549582cd4719.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-4b8bdadeafc284fcbeca.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-112980fdde7630ce2247.js"],"component---src-pages-search-tsx":["/component---src-pages-search-tsx-75b58aca6df70cc9b390.js"],"component---src-templates-category-tsx":["/component---src-templates-category-tsx-ec5cafac1deff2b5ebe2.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-f37576ac8b8ee6141b3a.js"]};/*]]>*/</script><script src="/polyfill-e08de4174abbdc2cf38c.js" nomodule=""></script><script src="/app-a7f051f445e2a5498483.js" async=""></script><script src="/f36c6662-a839537402515855fc54.js" async=""></script><script src="/a20b2305-d6201e9be78376417eb8.js" async=""></script><script src="/framework-47716356ce90bf20a040.js" async=""></script><script src="/webpack-runtime-dbccf3dafc0e274fa3df.js" async=""></script></body></html>